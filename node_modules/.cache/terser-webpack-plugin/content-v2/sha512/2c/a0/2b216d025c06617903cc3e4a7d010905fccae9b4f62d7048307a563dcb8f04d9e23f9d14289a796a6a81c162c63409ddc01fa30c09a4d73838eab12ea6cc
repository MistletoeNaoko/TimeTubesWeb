{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"/\",n(n.s=102)}([function(e,t,n){\"use strict\";e.exports=n(103)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ReactCSS=t.loop=t.handleActive=t.handleHover=t.hover=void 0;var r=l(n(121)),i=l(n(193)),a=l(n(213)),o=l(n(214)),s=l(n(215)),u=l(n(216));function l(e){return e&&e.__esModule?e:{default:e}}t.hover=o.default,t.handleHover=o.default,t.handleActive=s.default,t.loop=u.default;var c=t.ReactCSS=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var s=(0,r.default)(n),u=(0,i.default)(e,s);return(0,a.default)(u)};t.default=c},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(217);Object.defineProperty(t,\"Alpha\",{enumerable:!0,get:function(){return f(r).default}});var i=n(55);Object.defineProperty(t,\"Checkboard\",{enumerable:!0,get:function(){return f(i).default}});var a=n(220);Object.defineProperty(t,\"EditableInput\",{enumerable:!0,get:function(){return f(a).default}});var o=n(221);Object.defineProperty(t,\"Hue\",{enumerable:!0,get:function(){return f(o).default}});var s=n(223);Object.defineProperty(t,\"Raised\",{enumerable:!0,get:function(){return f(s).default}});var u=n(239);Object.defineProperty(t,\"Saturation\",{enumerable:!0,get:function(){return f(u).default}});var l=n(93);Object.defineProperty(t,\"ColorWrap\",{enumerable:!0,get:function(){return f(l).default}});var c=n(247);function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"Swatch\",{enumerable:!0,get:function(){return f(c).default}})},function(e,t,n){e.exports=n(224)()},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(21),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(8)),n(11)),s=(r=o)&&r.__esModule?r:{default:r};var u=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.data=[],e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:\"handleActions\",value:function(e){switch(e.type){case\"UPLOAD_DATA\":this.uploadData(e.data);break;case\"UPDATE_DETAIL\":this.emit(\"updateDetail\",e.id,e.zpos)}}},{key:\"uploadData\",value:function(e){var t=this.data.length;this.data.push({id:t,name:e.name,data:e}),this.emit(\"upload\",t),this.emit(\"showInitSP\",t)}},{key:\"getAllData\",value:function(){return this.data}},{key:\"getAllFileNames\",value:function(){for(var e=[],t=0;t<this.data.length;t++)e.push(this.data[t].name);return e}},{key:\"getAllIdsFileNames\",value:function(){for(var e=[],t=0;t<this.data.length;t++)e.push({id:this.data[t].id,name:this.data[t].name});return e}},{key:\"getData\",value:function(e){return this.data[e]}},{key:\"getDataNum\",value:function(){return this.data.length}},{key:\"getTailID\",value:function(){return this.data[this.data.length-1].id||0}},{key:\"getFileName\",value:function(e){return this.data[e].name||\"\"}},{key:\"getValues\",value:function(e,t){if(e<0)return{keys:[],vals:[]};var n=t+this.data[e].data.spatial[0].z,r=void 0;for(r=1;r<this.data[e].data.position.length&&!(this.data[e].data.position[r-1].z<=n&&n<this.data[e].data.position[r].z);r++);var i=void 0;i=n===this.data[e].data.position[this.data[e].data.position.length-1].z||r>this.data[e].data.position.length-1?1:(r-1+(n-this.data[e].data.position[r-1].z)/(this.data[e].data.position[r].z-this.data[e].data.position[r-1].z))/(this.data[e].data.position.length-1);var a=void 0;for(a=1;a<this.data[e].data.color.length&&!(this.data[e].data.color[a-1].z<=n&&n<this.data[e].data.color[a].z);a++);var o=void 0;o=a>=this.data[e].data.color.length-1?1:(a-1+(n-this.data[e].data.color[a-1].z)/(this.data[e].data.color[a].z-this.data[e].data.color[a-1].z))/(this.data[e].data.color.length-1);var s=this.data[e].data.splines.position.getPoint(i),u=this.data[e].data.splines.radius.getPoint(i),l=this.data[e].data.splines.color.getPoint(o);return{keys:[\"JD\",\"Q/I\",\"E_Q/I\",\"U/I\",\"E_U/I\",\"Flx(V)\",\"V-J\"],vals:[s.z,s.x,u.x,s.y,u.y,l.y,l.x]}}},{key:\"getIdFromName\",value:function(e){for(var t=0;t<this.data.length;t++)if(this.data[t].name===e)return t;return-1}}]),t}(a.EventEmitter));s.default.register(u.handleActions.bind(u)),t.default=u},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(226),i=n(230)((function(e,t,n){r(e,t,n)}));e.exports=i},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&(\"object\"==t||\"function\"==t)}},function(e,t,n){\"use strict\";function r(){}n.r(t),n.d(t,\"ACESFilmicToneMapping\",(function(){return le})),n.d(t,\"AddEquation\",(function(){return O})),n.d(t,\"AddOperation\",(function(){return re})),n.d(t,\"AdditiveBlending\",(function(){return C})),n.d(t,\"AlphaFormat\",(function(){return Ge})),n.d(t,\"AlwaysDepth\",(function(){return Y})),n.d(t,\"AlwaysStencilFunc\",(function(){return sn})),n.d(t,\"AmbientLight\",(function(){return Oc})),n.d(t,\"AmbientLightProbe\",(function(){return ef})),n.d(t,\"AnimationClip\",(function(){return Fl})),n.d(t,\"AnimationLoader\",(function(){return ql})),n.d(t,\"AnimationMixer\",(function(){return Of})),n.d(t,\"AnimationObjectGroup\",(function(){return Af})),n.d(t,\"AnimationUtils\",(function(){return Sl})),n.d(t,\"ArcCurve\",(function(){return ec})),n.d(t,\"ArrayCamera\",(function(){return $o})),n.d(t,\"ArrowHelper\",(function(){return Oh})),n.d(t,\"Audio\",(function(){return ff})),n.d(t,\"AudioAnalyser\",(function(){return gf})),n.d(t,\"AudioContext\",(function(){return Qc})),n.d(t,\"AudioListener\",(function(){return cf})),n.d(t,\"AudioLoader\",(function(){return Zc})),n.d(t,\"AxesHelper\",(function(){return Lh})),n.d(t,\"AxisHelper\",(function(){return id})),n.d(t,\"BackSide\",(function(){return y})),n.d(t,\"BasicDepthPacking\",(function(){return Ut})),n.d(t,\"BasicShadowMap\",(function(){return d})),n.d(t,\"BinaryTextureLoader\",(function(){return ld})),n.d(t,\"Bone\",(function(){return Ls})),n.d(t,\"BooleanKeyframeTrack\",(function(){return Ol})),n.d(t,\"BoundingBoxHelper\",(function(){return ad})),n.d(t,\"Box2\",(function(){return jf})),n.d(t,\"Box3\",(function(){return cr})),n.d(t,\"Box3Helper\",(function(){return Th})),n.d(t,\"BoxBufferGeometry\",(function(){return Di})),n.d(t,\"BoxGeometry\",(function(){return Ii})),n.d(t,\"BoxHelper\",(function(){return Sh})),n.d(t,\"BufferAttribute\",(function(){return Vr})),n.d(t,\"BufferGeometry\",(function(){return li})),n.d(t,\"BufferGeometryLoader\",(function(){return zc})),n.d(t,\"ByteType\",(function(){return Le})),n.d(t,\"Cache\",(function(){return jl})),n.d(t,\"Camera\",(function(){return Gi})),n.d(t,\"CameraHelper\",(function(){return wh})),n.d(t,\"CanvasRenderer\",(function(){return fd})),n.d(t,\"CanvasTexture\",(function(){return Ks})),n.d(t,\"CatmullRomCurve3\",(function(){return oc})),n.d(t,\"CineonToneMapping\",(function(){return ue})),n.d(t,\"CircleBufferGeometry\",(function(){return hl})),n.d(t,\"CircleGeometry\",(function(){return fl})),n.d(t,\"ClampToEdgeWrapping\",(function(){return be})),n.d(t,\"Clock\",(function(){return af})),n.d(t,\"ClosedSplineCurve3\",(function(){return td})),n.d(t,\"Color\",(function(){return Dr})),n.d(t,\"ColorKeyframeTrack\",(function(){return Ll})),n.d(t,\"CompressedTexture\",(function(){return $s})),n.d(t,\"CompressedTextureLoader\",(function(){return Xl})),n.d(t,\"ConeBufferGeometry\",(function(){return cl})),n.d(t,\"ConeGeometry\",(function(){return ll})),n.d(t,\"CubeCamera\",(function(){return Xi})),n.d(t,\"CubeGeometry\",(function(){return Ii})),n.d(t,\"CubeReflectionMapping\",(function(){return fe})),n.d(t,\"CubeRefractionMapping\",(function(){return he})),n.d(t,\"CubeTexture\",(function(){return _a})),n.d(t,\"CubeTextureLoader\",(function(){return Zl})),n.d(t,\"CubeUVReflectionMapping\",(function(){return ve})),n.d(t,\"CubeUVRefractionMapping\",(function(){return ge})),n.d(t,\"CubicBezierCurve\",(function(){return cc})),n.d(t,\"CubicBezierCurve3\",(function(){return fc})),n.d(t,\"CubicInterpolant\",(function(){return Cl})),n.d(t,\"CullFaceBack\",(function(){return u})),n.d(t,\"CullFaceFront\",(function(){return l})),n.d(t,\"CullFaceFrontBack\",(function(){return c})),n.d(t,\"CullFaceNone\",(function(){return s})),n.d(t,\"Curve\",(function(){return $l})),n.d(t,\"CurvePath\",(function(){return yc})),n.d(t,\"CustomBlending\",(function(){return k})),n.d(t,\"CylinderBufferGeometry\",(function(){return ul})),n.d(t,\"CylinderGeometry\",(function(){return sl})),n.d(t,\"Cylindrical\",(function(){return Ff})),n.d(t,\"DataTexture\",(function(){return Qi})),n.d(t,\"DataTexture2DArray\",(function(){return wa})),n.d(t,\"DataTexture3D\",(function(){return Ea})),n.d(t,\"DataTextureLoader\",(function(){return Yl})),n.d(t,\"DecrementStencilOp\",(function(){return Qt})),n.d(t,\"DecrementWrapStencilOp\",(function(){return Jt})),n.d(t,\"DefaultLoadingManager\",(function(){return Hl})),n.d(t,\"DepthFormat\",(function(){return Qe})),n.d(t,\"DepthStencilFormat\",(function(){return Ze})),n.d(t,\"DepthTexture\",(function(){return eu})),n.d(t,\"DirectionalLight\",(function(){return kc})),n.d(t,\"DirectionalLightHelper\",(function(){return bh})),n.d(t,\"DirectionalLightShadow\",(function(){return Ac})),n.d(t,\"DiscreteInterpolant\",(function(){return Al})),n.d(t,\"DodecahedronBufferGeometry\",(function(){return du})),n.d(t,\"DodecahedronGeometry\",(function(){return hu})),n.d(t,\"DoubleSide\",(function(){return b})),n.d(t,\"DstAlphaFactor\",(function(){return H})),n.d(t,\"DstColorFactor\",(function(){return V})),n.d(t,\"DynamicBufferAttribute\",(function(){return Wh})),n.d(t,\"EdgesGeometry\",(function(){return ol})),n.d(t,\"EdgesHelper\",(function(){return od})),n.d(t,\"EllipseCurve\",(function(){return Kl})),n.d(t,\"EqualDepth\",(function(){return J})),n.d(t,\"EqualStencilFunc\",(function(){return tn})),n.d(t,\"EquirectangularReflectionMapping\",(function(){return de})),n.d(t,\"EquirectangularRefractionMapping\",(function(){return pe})),n.d(t,\"Euler\",(function(){return In})),n.d(t,\"EventDispatcher\",(function(){return r})),n.d(t,\"ExtrudeBufferGeometry\",(function(){return qu})),n.d(t,\"ExtrudeGeometry\",(function(){return Wu})),n.d(t,\"Face3\",(function(){return jr})),n.d(t,\"Face4\",(function(){return Rh})),n.d(t,\"FaceColors\",(function(){return E})),n.d(t,\"FaceNormalsHelper\",(function(){return mh})),n.d(t,\"FileLoader\",(function(){return Wl})),n.d(t,\"FlatShading\",(function(){return x})),n.d(t,\"Float32Attribute\",(function(){return Kh})),n.d(t,\"Float32BufferAttribute\",(function(){return $r})),n.d(t,\"Float64Attribute\",(function(){return ed})),n.d(t,\"Float64BufferAttribute\",(function(){return Kr})),n.d(t,\"FloatType\",(function(){return ze})),n.d(t,\"Fog\",(function(){return ss})),n.d(t,\"FogExp2\",(function(){return os})),n.d(t,\"Font\",(function(){return qc})),n.d(t,\"FontLoader\",(function(){return Yc})),n.d(t,\"FrontFaceDirectionCCW\",(function(){return h})),n.d(t,\"FrontFaceDirectionCW\",(function(){return f})),n.d(t,\"FrontSide\",(function(){return g})),n.d(t,\"Frustum\",(function(){return na})),n.d(t,\"GammaEncoding\",(function(){return It})),n.d(t,\"Geometry\",(function(){return Ni})),n.d(t,\"GeometryUtils\",(function(){return cd})),n.d(t,\"GreaterDepth\",(function(){return K})),n.d(t,\"GreaterEqualDepth\",(function(){return $})),n.d(t,\"GreaterEqualStencilFunc\",(function(){return on})),n.d(t,\"GreaterStencilFunc\",(function(){return rn})),n.d(t,\"GridHelper\",(function(){return lh})),n.d(t,\"Group\",(function(){return Jo})),n.d(t,\"HalfFloatType\",(function(){return Fe})),n.d(t,\"HemisphereLight\",(function(){return wc})),n.d(t,\"HemisphereLightHelper\",(function(){return sh})),n.d(t,\"HemisphereLightProbe\",(function(){return Kc})),n.d(t,\"IcosahedronBufferGeometry\",(function(){return fu})),n.d(t,\"IcosahedronGeometry\",(function(){return cu})),n.d(t,\"ImageBitmapLoader\",(function(){return Vc})),n.d(t,\"ImageLoader\",(function(){return Ql})),n.d(t,\"ImageUtils\",(function(){return bn})),n.d(t,\"ImmediateRenderObject\",(function(){return Vf})),n.d(t,\"IncrementStencilOp\",(function(){return Yt})),n.d(t,\"IncrementWrapStencilOp\",(function(){return Zt})),n.d(t,\"InstancedBufferAttribute\",(function(){return Dc})),n.d(t,\"InstancedBufferGeometry\",(function(){return Ic})),n.d(t,\"InstancedInterleavedBuffer\",(function(){return Rf})),n.d(t,\"Int16Attribute\",(function(){return Qh})),n.d(t,\"Int16BufferAttribute\",(function(){return Yr})),n.d(t,\"Int32Attribute\",(function(){return Jh})),n.d(t,\"Int32BufferAttribute\",(function(){return Zr})),n.d(t,\"Int8Attribute\",(function(){return qh})),n.d(t,\"Int8BufferAttribute\",(function(){return Wr})),n.d(t,\"IntType\",(function(){return Ie})),n.d(t,\"InterleavedBuffer\",(function(){return us})),n.d(t,\"InterleavedBufferAttribute\",(function(){return ls})),n.d(t,\"Interpolant\",(function(){return Tl})),n.d(t,\"InterpolateDiscrete\",(function(){return Mt})),n.d(t,\"InterpolateLinear\",(function(){return St})),n.d(t,\"InterpolateSmooth\",(function(){return Tt})),n.d(t,\"InvertStencilOp\",(function(){return $t})),n.d(t,\"JSONLoader\",(function(){return hd})),n.d(t,\"KeepStencilOp\",(function(){return qt})),n.d(t,\"KeyframeTrack\",(function(){return kl})),n.d(t,\"LOD\",(function(){return Cs})),n.d(t,\"LatheBufferGeometry\",(function(){return nl})),n.d(t,\"LatheGeometry\",(function(){return tl})),n.d(t,\"Layers\",(function(){return Dn})),n.d(t,\"LensFlare\",(function(){return pd})),n.d(t,\"LessDepth\",(function(){return Q})),n.d(t,\"LessEqualDepth\",(function(){return Z})),n.d(t,\"LessEqualStencilFunc\",(function(){return nn})),n.d(t,\"LessStencilFunc\",(function(){return en})),n.d(t,\"Light\",(function(){return _c})),n.d(t,\"LightProbe\",(function(){return $c})),n.d(t,\"LightProbeHelper\",(function(){return uh})),n.d(t,\"LightShadow\",(function(){return Ec})),n.d(t,\"Line\",(function(){return Bs})),n.d(t,\"Line3\",(function(){return Gf})),n.d(t,\"LineBasicMaterial\",(function(){return Rs})),n.d(t,\"LineCurve\",(function(){return hc})),n.d(t,\"LineCurve3\",(function(){return dc})),n.d(t,\"LineDashedMaterial\",(function(){return El})),n.d(t,\"LineLoop\",(function(){return Gs})),n.d(t,\"LinePieces\",(function(){return Ih})),n.d(t,\"LineSegments\",(function(){return Hs})),n.d(t,\"LineStrip\",(function(){return Nh})),n.d(t,\"LinearEncoding\",(function(){return Rt})),n.d(t,\"LinearFilter\",(function(){return Te})),n.d(t,\"LinearInterpolant\",(function(){return Pl})),n.d(t,\"LinearMipMapLinearFilter\",(function(){return ke})),n.d(t,\"LinearMipMapNearestFilter\",(function(){return Pe})),n.d(t,\"LinearMipmapLinearFilter\",(function(){return Ae})),n.d(t,\"LinearMipmapNearestFilter\",(function(){return Ce})),n.d(t,\"LinearToneMapping\",(function(){return ae})),n.d(t,\"Loader\",(function(){return Gl})),n.d(t,\"LoaderUtils\",(function(){return Nc})),n.d(t,\"LoadingManager\",(function(){return Ul})),n.d(t,\"LogLuvEncoding\",(function(){return zt})),n.d(t,\"LoopOnce\",(function(){return _t})),n.d(t,\"LoopPingPong\",(function(){return Et})),n.d(t,\"LoopRepeat\",(function(){return wt})),n.d(t,\"LuminanceAlphaFormat\",(function(){return Xe})),n.d(t,\"LuminanceFormat\",(function(){return qe})),n.d(t,\"MOUSE\",(function(){return a})),n.d(t,\"Material\",(function(){return Hr})),n.d(t,\"MaterialLoader\",(function(){return Rc})),n.d(t,\"Math\",(function(){return cn})),n.d(t,\"Matrix3\",(function(){return yn})),n.d(t,\"Matrix4\",(function(){return Ln})),n.d(t,\"MaxEquation\",(function(){return I})),n.d(t,\"Mesh\",(function(){return Ci})),n.d(t,\"MeshBasicMaterial\",(function(){return Gr})),n.d(t,\"MeshDepthMaterial\",(function(){return Go})),n.d(t,\"MeshDistanceMaterial\",(function(){return Vo})),n.d(t,\"MeshFaceMaterial\",(function(){return Dh})),n.d(t,\"MeshLambertMaterial\",(function(){return _l})),n.d(t,\"MeshMatcapMaterial\",(function(){return wl})),n.d(t,\"MeshNormalMaterial\",(function(){return xl})),n.d(t,\"MeshPhongMaterial\",(function(){return yl})),n.d(t,\"MeshPhysicalMaterial\",(function(){return gl})),n.d(t,\"MeshStandardMaterial\",(function(){return vl})),n.d(t,\"MeshToonMaterial\",(function(){return bl})),n.d(t,\"MinEquation\",(function(){return N})),n.d(t,\"MirroredRepeatWrapping\",(function(){return xe})),n.d(t,\"MixOperation\",(function(){return ne})),n.d(t,\"MultiMaterial\",(function(){return zh})),n.d(t,\"MultiplyBlending\",(function(){return A})),n.d(t,\"MultiplyOperation\",(function(){return te})),n.d(t,\"NearestFilter\",(function(){return _e})),n.d(t,\"NearestMipMapLinearFilter\",(function(){return Se})),n.d(t,\"NearestMipMapNearestFilter\",(function(){return Ee})),n.d(t,\"NearestMipmapLinearFilter\",(function(){return Me})),n.d(t,\"NearestMipmapNearestFilter\",(function(){return we})),n.d(t,\"NeverDepth\",(function(){return X})),n.d(t,\"NeverStencilFunc\",(function(){return Kt})),n.d(t,\"NoBlending\",(function(){return S})),n.d(t,\"NoColors\",(function(){return w})),n.d(t,\"NoToneMapping\",(function(){return ie})),n.d(t,\"NormalBlending\",(function(){return T})),n.d(t,\"NotEqualDepth\",(function(){return ee})),n.d(t,\"NotEqualStencilFunc\",(function(){return an})),n.d(t,\"NumberKeyframeTrack\",(function(){return Rl})),n.d(t,\"Object3D\",(function(){return Zn})),n.d(t,\"ObjectLoader\",(function(){return Bc})),n.d(t,\"ObjectSpaceNormalMap\",(function(){return Vt})),n.d(t,\"OctahedronBufferGeometry\",(function(){return lu})),n.d(t,\"OctahedronGeometry\",(function(){return uu})),n.d(t,\"OneFactor\",(function(){return z})),n.d(t,\"OneMinusDstAlphaFactor\",(function(){return G})),n.d(t,\"OneMinusDstColorFactor\",(function(){return W})),n.d(t,\"OneMinusSrcAlphaFactor\",(function(){return U})),n.d(t,\"OneMinusSrcColorFactor\",(function(){return B})),n.d(t,\"OrthographicCamera\",(function(){return Pc})),n.d(t,\"PCFShadowMap\",(function(){return p})),n.d(t,\"PCFSoftShadowMap\",(function(){return m})),n.d(t,\"ParametricBufferGeometry\",(function(){return ru})),n.d(t,\"ParametricGeometry\",(function(){return nu})),n.d(t,\"Particle\",(function(){return Bh})),n.d(t,\"ParticleBasicMaterial\",(function(){return Hh})),n.d(t,\"ParticleSystem\",(function(){return jh})),n.d(t,\"ParticleSystemMaterial\",(function(){return Gh})),n.d(t,\"Path\",(function(){return bc})),n.d(t,\"PerspectiveCamera\",(function(){return Vi})),n.d(t,\"Plane\",(function(){return Ki})),n.d(t,\"PlaneBufferGeometry\",(function(){return la})),n.d(t,\"PlaneGeometry\",(function(){return ua})),n.d(t,\"PlaneHelper\",(function(){return Ch})),n.d(t,\"PointCloud\",(function(){return Fh})),n.d(t,\"PointCloudMaterial\",(function(){return Uh})),n.d(t,\"PointLight\",(function(){return Cc})),n.d(t,\"PointLightHelper\",(function(){return nh})),n.d(t,\"Points\",(function(){return Qs})),n.d(t,\"PointsMaterial\",(function(){return Vs})),n.d(t,\"PolarGridHelper\",(function(){return ch})),n.d(t,\"PolyhedronBufferGeometry\",(function(){return au})),n.d(t,\"PolyhedronGeometry\",(function(){return iu})),n.d(t,\"PositionalAudio\",(function(){return vf})),n.d(t,\"PositionalAudioHelper\",(function(){return fh})),n.d(t,\"PropertyBinding\",(function(){return Pf})),n.d(t,\"PropertyMixer\",(function(){return yf})),n.d(t,\"QuadraticBezierCurve\",(function(){return pc})),n.d(t,\"QuadraticBezierCurve3\",(function(){return mc})),n.d(t,\"Quaternion\",(function(){return hn})),n.d(t,\"QuaternionKeyframeTrack\",(function(){return Il})),n.d(t,\"QuaternionLinearInterpolant\",(function(){return Nl})),n.d(t,\"REVISION\",(function(){return i})),n.d(t,\"RGBADepthPacking\",(function(){return Ht})),n.d(t,\"RGBAFormat\",(function(){return We})),n.d(t,\"RGBA_ASTC_10x10_Format\",(function(){return yt})),n.d(t,\"RGBA_ASTC_10x5_Format\",(function(){return mt})),n.d(t,\"RGBA_ASTC_10x6_Format\",(function(){return vt})),n.d(t,\"RGBA_ASTC_10x8_Format\",(function(){return gt})),n.d(t,\"RGBA_ASTC_12x10_Format\",(function(){return bt})),n.d(t,\"RGBA_ASTC_12x12_Format\",(function(){return xt})),n.d(t,\"RGBA_ASTC_4x4_Format\",(function(){return st})),n.d(t,\"RGBA_ASTC_5x4_Format\",(function(){return ut})),n.d(t,\"RGBA_ASTC_5x5_Format\",(function(){return lt})),n.d(t,\"RGBA_ASTC_6x5_Format\",(function(){return ct})),n.d(t,\"RGBA_ASTC_6x6_Format\",(function(){return ft})),n.d(t,\"RGBA_ASTC_8x5_Format\",(function(){return ht})),n.d(t,\"RGBA_ASTC_8x6_Format\",(function(){return dt})),n.d(t,\"RGBA_ASTC_8x8_Format\",(function(){return pt})),n.d(t,\"RGBA_PVRTC_2BPPV1_Format\",(function(){return at})),n.d(t,\"RGBA_PVRTC_4BPPV1_Format\",(function(){return it})),n.d(t,\"RGBA_S3TC_DXT1_Format\",(function(){return Ke})),n.d(t,\"RGBA_S3TC_DXT3_Format\",(function(){return et})),n.d(t,\"RGBA_S3TC_DXT5_Format\",(function(){return tt})),n.d(t,\"RGBDEncoding\",(function(){return jt})),n.d(t,\"RGBEEncoding\",(function(){return Dt})),n.d(t,\"RGBEFormat\",(function(){return Ye})),n.d(t,\"RGBFormat\",(function(){return Ve})),n.d(t,\"RGBM16Encoding\",(function(){return Bt})),n.d(t,\"RGBM7Encoding\",(function(){return Ft})),n.d(t,\"RGB_ETC1_Format\",(function(){return ot})),n.d(t,\"RGB_PVRTC_2BPPV1_Format\",(function(){return rt})),n.d(t,\"RGB_PVRTC_4BPPV1_Format\",(function(){return nt})),n.d(t,\"RGB_S3TC_DXT1_Format\",(function(){return $e})),n.d(t,\"RawShaderMaterial\",(function(){return ml})),n.d(t,\"Ray\",(function(){return _r})),n.d(t,\"Raycaster\",(function(){return Nf})),n.d(t,\"RectAreaLight\",(function(){return Lc})),n.d(t,\"RectAreaLightHelper\",(function(){return rh})),n.d(t,\"RedFormat\",(function(){return Je})),n.d(t,\"ReinhardToneMapping\",(function(){return oe})),n.d(t,\"RepeatWrapping\",(function(){return ye})),n.d(t,\"ReplaceStencilOp\",(function(){return Xt})),n.d(t,\"ReverseSubtractEquation\",(function(){return R})),n.d(t,\"RingBufferGeometry\",(function(){return el})),n.d(t,\"RingGeometry\",(function(){return Ku})),n.d(t,\"Scene\",(function(){return Jn})),n.d(t,\"SceneUtils\",(function(){return dd})),n.d(t,\"ShaderChunk\",(function(){return ra})),n.d(t,\"ShaderLib\",(function(){return aa})),n.d(t,\"ShaderMaterial\",(function(){return Hi})),n.d(t,\"ShadowMaterial\",(function(){return pl})),n.d(t,\"Shape\",(function(){return xc})),n.d(t,\"ShapeBufferGeometry\",(function(){return il})),n.d(t,\"ShapeGeometry\",(function(){return rl})),n.d(t,\"ShapePath\",(function(){return Wc})),n.d(t,\"ShapeUtils\",(function(){return Hu})),n.d(t,\"ShortType\",(function(){return Re})),n.d(t,\"Skeleton\",(function(){return Os})),n.d(t,\"SkeletonHelper\",(function(){return th})),n.d(t,\"SkinnedMesh\",(function(){return Ps})),n.d(t,\"SmoothShading\",(function(){return _})),n.d(t,\"Sphere\",(function(){return dr})),n.d(t,\"SphereBufferGeometry\",(function(){return $u})),n.d(t,\"SphereGeometry\",(function(){return Ju})),n.d(t,\"Spherical\",(function(){return zf})),n.d(t,\"SphericalHarmonics3\",(function(){return Jc})),n.d(t,\"SphericalReflectionMapping\",(function(){return me})),n.d(t,\"Spline\",(function(){return rd})),n.d(t,\"SplineCurve\",(function(){return vc})),n.d(t,\"SplineCurve3\",(function(){return nd})),n.d(t,\"SpotLight\",(function(){return Sc})),n.d(t,\"SpotLightHelper\",(function(){return Jf})),n.d(t,\"SpotLightShadow\",(function(){return Mc})),n.d(t,\"Sprite\",(function(){return Es})),n.d(t,\"SpriteMaterial\",(function(){return cs})),n.d(t,\"SrcAlphaFactor\",(function(){return j})),n.d(t,\"SrcAlphaSaturateFactor\",(function(){return q})),n.d(t,\"SrcColorFactor\",(function(){return F})),n.d(t,\"StereoCamera\",(function(){return rf})),n.d(t,\"StringKeyframeTrack\",(function(){return Dl})),n.d(t,\"SubtractEquation\",(function(){return L})),n.d(t,\"SubtractiveBlending\",(function(){return P})),n.d(t,\"TOUCH\",(function(){return o})),n.d(t,\"TangentSpaceNormalMap\",(function(){return Gt})),n.d(t,\"TetrahedronBufferGeometry\",(function(){return su})),n.d(t,\"TetrahedronGeometry\",(function(){return ou})),n.d(t,\"TextBufferGeometry\",(function(){return Zu})),n.d(t,\"TextGeometry\",(function(){return Qu})),n.d(t,\"Texture\",(function(){return _n})),n.d(t,\"TextureLoader\",(function(){return Jl})),n.d(t,\"TorusBufferGeometry\",(function(){return bu})),n.d(t,\"TorusGeometry\",(function(){return yu})),n.d(t,\"TorusKnotBufferGeometry\",(function(){return gu})),n.d(t,\"TorusKnotGeometry\",(function(){return vu})),n.d(t,\"Triangle\",(function(){return Lr})),n.d(t,\"TriangleFanDrawMode\",(function(){return Lt})),n.d(t,\"TriangleStripDrawMode\",(function(){return Ot})),n.d(t,\"TrianglesDrawMode\",(function(){return kt})),n.d(t,\"TubeBufferGeometry\",(function(){return mu})),n.d(t,\"TubeGeometry\",(function(){return pu})),n.d(t,\"UVMapping\",(function(){return ce})),n.d(t,\"Uint16Attribute\",(function(){return Zh})),n.d(t,\"Uint16BufferAttribute\",(function(){return Qr})),n.d(t,\"Uint32Attribute\",(function(){return $h})),n.d(t,\"Uint32BufferAttribute\",(function(){return Jr})),n.d(t,\"Uint8Attribute\",(function(){return Xh})),n.d(t,\"Uint8BufferAttribute\",(function(){return qr})),n.d(t,\"Uint8ClampedAttribute\",(function(){return Yh})),n.d(t,\"Uint8ClampedBufferAttribute\",(function(){return Xr})),n.d(t,\"Uncharted2ToneMapping\",(function(){return se})),n.d(t,\"Uniform\",(function(){return Lf})),n.d(t,\"UniformsLib\",(function(){return ia})),n.d(t,\"UniformsUtils\",(function(){return Bi})),n.d(t,\"UnsignedByteType\",(function(){return Oe})),n.d(t,\"UnsignedInt248Type\",(function(){return He})),n.d(t,\"UnsignedIntType\",(function(){return De})),n.d(t,\"UnsignedShort4444Type\",(function(){return Be})),n.d(t,\"UnsignedShort5551Type\",(function(){return je})),n.d(t,\"UnsignedShort565Type\",(function(){return Ue})),n.d(t,\"UnsignedShortType\",(function(){return Ne})),n.d(t,\"VSMShadowMap\",(function(){return v})),n.d(t,\"Vector2\",(function(){return fn})),n.d(t,\"Vector3\",(function(){return mn})),n.d(t,\"Vector4\",(function(){return wn})),n.d(t,\"VectorKeyframeTrack\",(function(){return zl})),n.d(t,\"Vertex\",(function(){return Vh})),n.d(t,\"VertexColors\",(function(){return M})),n.d(t,\"VertexNormalsHelper\",(function(){return Qf})),n.d(t,\"VideoTexture\",(function(){return Js})),n.d(t,\"WebGLMultisampleRenderTarget\",(function(){return Mn})),n.d(t,\"WebGLRenderTarget\",(function(){return En})),n.d(t,\"WebGLRenderTargetCube\",(function(){return Yi})),n.d(t,\"WebGLRenderer\",(function(){return as})),n.d(t,\"WebGLUtils\",(function(){return Zo})),n.d(t,\"WireframeGeometry\",(function(){return tu})),n.d(t,\"WireframeHelper\",(function(){return sd})),n.d(t,\"WrapAroundEnding\",(function(){return At})),n.d(t,\"XHRLoader\",(function(){return ud})),n.d(t,\"ZeroCurvatureEnding\",(function(){return Ct})),n.d(t,\"ZeroFactor\",(function(){return D})),n.d(t,\"ZeroSlopeEnding\",(function(){return Pt})),n.d(t,\"ZeroStencilOp\",(function(){return Wt})),n.d(t,\"sRGBEncoding\",(function(){return Nt})),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return\"number\"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),\"name\"in Function.prototype==!1&&Object.defineProperty(Function.prototype,\"name\",{get:function(){return this.toString().match(/^\\s*function\\s*([^\\(\\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError(\"Cannot convert undefined or null to object\");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}),Object.assign(r.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});for(var i=\"108\",a={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},o={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},s=0,u=1,l=2,c=3,f=0,h=1,d=0,p=1,m=2,v=3,g=0,y=1,b=2,x=1,_=2,w=0,E=1,M=2,S=0,T=1,C=2,P=3,A=4,k=5,O=100,L=101,R=102,N=103,I=104,D=200,z=201,F=202,B=203,j=204,U=205,H=206,G=207,V=208,W=209,q=210,X=0,Y=1,Q=2,Z=3,J=4,$=5,K=6,ee=7,te=0,ne=1,re=2,ie=0,ae=1,oe=2,se=3,ue=4,le=5,ce=300,fe=301,he=302,de=303,pe=304,me=305,ve=306,ge=307,ye=1e3,be=1001,xe=1002,_e=1003,we=1004,Ee=1004,Me=1005,Se=1005,Te=1006,Ce=1007,Pe=1007,Ae=1008,ke=1008,Oe=1009,Le=1010,Re=1011,Ne=1012,Ie=1013,De=1014,ze=1015,Fe=1016,Be=1017,je=1018,Ue=1019,He=1020,Ge=1021,Ve=1022,We=1023,qe=1024,Xe=1025,Ye=We,Qe=1026,Ze=1027,Je=1028,$e=33776,Ke=33777,et=33778,tt=33779,nt=35840,rt=35841,it=35842,at=35843,ot=36196,st=37808,ut=37809,lt=37810,ct=37811,ft=37812,ht=37813,dt=37814,pt=37815,mt=37816,vt=37817,gt=37818,yt=37819,bt=37820,xt=37821,_t=2200,wt=2201,Et=2202,Mt=2300,St=2301,Tt=2302,Ct=2400,Pt=2401,At=2402,kt=0,Ot=1,Lt=2,Rt=3e3,Nt=3001,It=3007,Dt=3002,zt=3003,Ft=3004,Bt=3005,jt=3006,Ut=3200,Ht=3201,Gt=0,Vt=1,Wt=0,qt=7680,Xt=7681,Yt=7682,Qt=7683,Zt=34055,Jt=34056,$t=5386,Kt=512,en=513,tn=514,nn=515,rn=516,an=517,on=518,sn=519,un=[],ln=0;ln<256;ln++)un[ln]=(ln<16?\"0\":\"\")+ln.toString(16);var cn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(un[255&e]+un[e>>8&255]+un[e>>16&255]+un[e>>24&255]+\"-\"+un[255&t]+un[t>>8&255]+\"-\"+un[t>>16&15|64]+un[t>>24&255]+\"-\"+un[63&n|128]+un[n>>8&255]+\"-\"+un[n>>16&255]+un[n>>24&255]+un[255&r]+un[r>>8&255]+un[r>>16&255]+un[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*cn.DEG2RAD},radToDeg:function(e){return e*cn.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}};function fn(e,t){this.x=e||0,this.y=t||0}function hn(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}Object.defineProperties(fn.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(fn.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error(\"index is out of range: \"+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error(\"index is out of range: \"+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn(\"THREE.Vector2: offset has been removed from .fromBufferAttribute().\"),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}}),Object.assign(hn,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,a,o){var s=n[r+0],u=n[r+1],l=n[r+2],c=n[r+3],f=i[a+0],h=i[a+1],d=i[a+2],p=i[a+3];if(c!==p||s!==f||u!==h||l!==d){var m=1-o,v=s*f+u*h+l*d+c*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,v*g);m=Math.sin(m*x)/b,o=Math.sin(o*x)/b}var _=o*g;if(s=s*m+f*_,u=u*m+h*_,l=l*m+d*_,c=c*m+p*_,m===1-o){var w=1/Math.sqrt(s*s+u*u+l*l+c*c);s*=w,u*=w,l*=w,c*=w}}e[t]=s,e[t+1]=u,e[t+2]=l,e[t+3]=c}}),Object.defineProperties(hn.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(hn.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error(\"THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.\");var n=e._x,r=e._y,i=e._z,a=e.order,o=Math.cos,s=Math.sin,u=o(n/2),l=o(r/2),c=o(i/2),f=s(n/2),h=s(r/2),d=s(i/2);return\"XYZ\"===a?(this._x=f*l*c+u*h*d,this._y=u*h*c-f*l*d,this._z=u*l*d+f*h*c,this._w=u*l*c-f*h*d):\"YXZ\"===a?(this._x=f*l*c+u*h*d,this._y=u*h*c-f*l*d,this._z=u*l*d-f*h*c,this._w=u*l*c+f*h*d):\"ZXY\"===a?(this._x=f*l*c-u*h*d,this._y=u*h*c+f*l*d,this._z=u*l*d+f*h*c,this._w=u*l*c-f*h*d):\"ZYX\"===a?(this._x=f*l*c-u*h*d,this._y=u*h*c+f*l*d,this._z=u*l*d-f*h*c,this._w=u*l*c+f*h*d):\"YZX\"===a?(this._x=f*l*c+u*h*d,this._y=u*h*c+f*l*d,this._z=u*l*d-f*h*c,this._w=u*l*c-f*h*d):\"XZY\"===a&&(this._x=f*l*c-u*h*d,this._y=u*h*c-f*l*d,this._z=u*l*d+f*h*c,this._w=u*l*c+f*h*d),!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t,n=e.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],u=n[9],l=n[2],c=n[6],f=n[10],h=r+s+f;return h>0?(t=.5/Math.sqrt(h+1),this._w=.25/t,this._x=(c-u)*t,this._y=(a-l)*t,this._z=(o-i)*t):r>s&&r>f?(t=2*Math.sqrt(1+r-s-f),this._w=(c-u)/t,this._x=.25*t,this._y=(i+o)/t,this._z=(a+l)/t):s>f?(t=2*Math.sqrt(1+s-r-f),this._w=(a-l)/t,this._x=(i+o)/t,this._y=.25*t,this._z=(u+c)/t):(t=2*Math.sqrt(1+f-r-s),this._w=(o-i)/t,this._x=(a+l)/t,this._y=(u+c)/t,this._z=.25*t),this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(cn.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn(\"THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.\"),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,u=t._z,l=t._w;return this._x=n*l+a*o+r*u-i*s,this._y=r*l+a*s+i*o-n*u,this._z=i*l+a*u+n*s-r*o,this._w=a*l-n*o-r*s-i*u,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-t;return this._w=u*a+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),c=Math.atan2(l,o),f=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=a*f+this._w*h,this._x=n*f+this._x*h,this._y=r*f+this._y*h,this._z=i*f+this._z*h,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var dn=new mn,pn=new hn;function mn(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}Object.assign(mn.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error(\"index is out of range: \"+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error(\"index is out of range: \"+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.\"),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error(\"THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.\"),this.applyQuaternion(pn.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(pn.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,u=s*t+a*r-o*n,l=s*n+o*t-i*r,c=s*r+i*n-a*t,f=-i*t-a*n-o*r;return this.x=u*s+f*-i+l*-o-c*-a,this.y=l*s+f*-a+c*-i-u*-o,this.z=c*s+f*-o+u*-a-l*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.\"),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(e){return dn.copy(this).projectOnVector(e),this.sub(dn)},reflect:function(e){return this.sub(dn.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(cn.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn(\"THREE.Vector3: offset has been removed from .fromBufferAttribute().\"),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}});var vn,gn=new mn;function yn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error(\"THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.\")}Object.assign(yn.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,a,o,s,u){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=s,l[6]=n,l[7]=a,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToBufferAttribute:function(e){for(var t=0,n=e.count;t<n;t++)gn.x=e.getX(t),gn.y=e.getY(t),gn.z=e.getZ(t),gn.applyMatrix3(this),e.setXYZ(t,gn.x,gn.y,gn.z);return e},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],l=n[4],c=n[7],f=n[2],h=n[5],d=n[8],p=r[0],m=r[3],v=r[6],g=r[1],y=r[4],b=r[7],x=r[2],_=r[5],w=r[8];return i[0]=a*p+o*g+s*x,i[3]=a*m+o*y+s*_,i[6]=a*v+o*b+s*w,i[1]=u*p+l*g+c*x,i[4]=u*m+l*y+c*_,i[7]=u*v+l*b+c*w,i[2]=f*p+h*g+d*x,i[5]=f*m+h*y+d*_,i[8]=f*v+h*b+d*w,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*a*l-t*o*u-n*i*l+n*o*s+r*i*u-r*a*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error(\"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\");var n=e.elements,r=this.elements,i=n[0],a=n[1],o=n[2],s=n[3],u=n[4],l=n[5],c=n[6],f=n[7],h=n[8],d=h*u-l*f,p=l*c-h*s,m=f*s-u*c,v=i*d+a*p+o*m;if(0===v){var g=\"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";if(!0===t)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return r[0]=d*y,r[1]=(o*f-h*a)*y,r[2]=(l*a-o*u)*y,r[3]=p*y,r[4]=(h*i-o*c)*y,r[5]=(o*s-l*i)*y,r[6]=m*y,r[7]=(a*c-f*i)*y,r[8]=(u*i-a*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,a,o){var s=Math.cos(i),u=Math.sin(i);this.set(n*s,n*u,-n*(s*a+u*o)+a+e,-r*u,r*s,-r*(-u*a+s*o)+o+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],u=r[4],l=r[7];return r[0]=t*i+n*s,r[3]=t*a+n*u,r[6]=t*o+n*l,r[1]=-n*i+t*s,r[4]=-n*a+t*u,r[7]=-n*o+t*l,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var bn={getDataURL:function(e){var t;if(\"undefined\"==typeof HTMLCanvasElement)return e.src;if(e instanceof HTMLCanvasElement)t=e;else{void 0===vn&&(vn=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\")),vn.width=e.width,vn.height=e.height;var n=vn.getContext(\"2d\");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=vn}return t.width>2048||t.height>2048?t.toDataURL(\"image/jpeg\",.6):t.toDataURL(\"image/png\")}},xn=0;function _n(e,t,n,r,i,a,o,s,u,l){Object.defineProperty(this,\"id\",{value:xn++}),this.uuid=cn.generateUUID(),this.name=\"\",this.image=void 0!==e?e:_n.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:_n.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:be,this.wrapT=void 0!==r?r:be,this.magFilter=void 0!==i?i:Te,this.minFilter=void 0!==a?a:Ae,this.anisotropy=void 0!==u?u:1,this.format=void 0!==o?o:We,this.type=void 0!==s?s:Oe,this.offset=new fn(0,0),this.repeat=new fn(1,1),this.center=new fn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new yn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:Rt,this.version=0,this.onUpdate=null}function wn(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function En(e,t,n){this.width=e,this.height=t,this.scissor=new wn(0,0,e,t),this.scissorTest=!1,this.viewport=new wn(0,0,e,t),n=n||{},this.texture=new _n(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Te,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Mn(e,t,n){En.call(this,e,t,n),this.samples=4}_n.DEFAULT_IMAGE=void 0,_n.DEFAULT_MAPPING=ce,_n.prototype=Object.assign(Object.create(r.prototype),{constructor:_n,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||\"string\"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:\"Texture\",generator:\"Texture.toJSON\"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=cn.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)i.push(bn.getDataURL(r[a]))}else i=bn.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:\"dispose\"})},transformUv:function(e){if(this.mapping!==ce)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ye:e.x=e.x-Math.floor(e.x);break;case be:e.x=e.x<0?0:1;break;case xe:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ye:e.y=e.y-Math.floor(e.y);break;case be:e.y=e.y<0?0:1;break;case xe:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(_n.prototype,\"needsUpdate\",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(wn.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(wn.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error(\"index is out of range: \"+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error(\"index is out of range: \"+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn(\"THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,a=e.elements,o=a[0],s=a[4],u=a[8],l=a[1],c=a[5],f=a[9],h=a[2],d=a[6],p=a[10];if(Math.abs(s-l)<.01&&Math.abs(u-h)<.01&&Math.abs(f-d)<.01){if(Math.abs(s+l)<.1&&Math.abs(u+h)<.1&&Math.abs(f+d)<.1&&Math.abs(o+c+p-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(o+1)/2,v=(c+1)/2,g=(p+1)/2,y=(s+l)/4,b=(u+h)/4,x=(f+d)/4;return m>v&&m>g?m<.01?(n=0,r=.707106781,i=.707106781):(r=y/(n=Math.sqrt(m)),i=b/n):v>g?v<.01?(n=.707106781,r=0,i=.707106781):(n=y/(r=Math.sqrt(v)),i=x/r):g<.01?(n=.707106781,r=.707106781,i=0):(n=b/(i=Math.sqrt(g)),r=x/i),this.set(n,r,i,t),this}var _=Math.sqrt((d-f)*(d-f)+(u-h)*(u-h)+(l-s)*(l-s));return Math.abs(_)<.001&&(_=1),this.x=(d-f)/_,this.y=(u-h)/_,this.z=(l-s)/_,this.w=Math.acos((o+c+p-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn(\"THREE.Vector4: offset has been removed from .fromBufferAttribute().\"),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}}),En.prototype=Object.assign(Object.create(r.prototype),{constructor:En,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}}),Mn.prototype=Object.assign(Object.create(En.prototype),{constructor:Mn,isWebGLMultisampleRenderTarget:!0,copy:function(e){return En.prototype.copy.call(this,e),this.samples=e.samples,this}});var Sn=new mn,Tn=new Ln,Cn=new mn(0,0,0),Pn=new mn(1,1,1),An=new mn,kn=new mn,On=new mn;function Ln(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error(\"THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.\")}Object.assign(Ln.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,a,o,s,u,l,c,f,h,d,p,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=u,v[6]=l,v[10]=c,v[14]=f,v[3]=h,v[7]=d,v[11]=p,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ln).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,n=e.elements,r=1/Sn.setFromMatrixColumn(e,0).length(),i=1/Sn.setFromMatrixColumn(e,1).length(),a=1/Sn.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error(\"THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.\");var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if(\"XYZ\"===e.order){var f=a*l,h=a*c,d=o*l,p=o*c;t[0]=s*l,t[4]=-s*c,t[8]=u,t[1]=h+d*u,t[5]=f-p*u,t[9]=-o*s,t[2]=p-f*u,t[6]=d+h*u,t[10]=a*s}else if(\"YXZ\"===e.order){var m=s*l,v=s*c,g=u*l,y=u*c;t[0]=m+y*o,t[4]=g*o-v,t[8]=a*u,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=v*o-g,t[6]=y+m*o,t[10]=a*s}else if(\"ZXY\"===e.order){m=s*l,v=s*c,g=u*l,y=u*c;t[0]=m-y*o,t[4]=-a*c,t[8]=g+v*o,t[1]=v+g*o,t[5]=a*l,t[9]=y-m*o,t[2]=-a*u,t[6]=o,t[10]=a*s}else if(\"ZYX\"===e.order){f=a*l,h=a*c,d=o*l,p=o*c;t[0]=s*l,t[4]=d*u-h,t[8]=f*u+p,t[1]=s*c,t[5]=p*u+f,t[9]=h*u-d,t[2]=-u,t[6]=o*s,t[10]=a*s}else if(\"YZX\"===e.order){var b=a*s,x=a*u,_=o*s,w=o*u;t[0]=s*l,t[4]=w-b*c,t[8]=_*c+x,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-u*l,t[6]=x*c+_,t[10]=b-w*c}else if(\"XZY\"===e.order){b=a*s,x=a*u,_=o*s,w=o*u;t[0]=s*l,t[4]=-c,t[8]=u*l,t[1]=b*c+w,t[5]=a*l,t[9]=x*c-_,t[2]=_*c-x,t[6]=o*l,t[10]=w*c+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(Cn,e,Pn)},lookAt:function(e,t,n){var r=this.elements;return On.subVectors(e,t),0===On.lengthSq()&&(On.z=1),On.normalize(),An.crossVectors(n,On),0===An.lengthSq()&&(1===Math.abs(n.z)?On.x+=1e-4:On.z+=1e-4,On.normalize(),An.crossVectors(n,On)),An.normalize(),kn.crossVectors(On,An),r[0]=An.x,r[4]=kn.x,r[8]=On.x,r[1]=An.y,r[5]=kn.y,r[9]=On.y,r[2]=An.z,r[6]=kn.z,r[10]=On.z,this},multiply:function(e,t){return void 0!==t?(console.warn(\"THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.\"),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],l=n[1],c=n[5],f=n[9],h=n[13],d=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],E=r[8],M=r[12],S=r[1],T=r[5],C=r[9],P=r[13],A=r[2],k=r[6],O=r[10],L=r[14],R=r[3],N=r[7],I=r[11],D=r[15];return i[0]=a*_+o*S+s*A+u*R,i[4]=a*w+o*T+s*k+u*N,i[8]=a*E+o*C+s*O+u*I,i[12]=a*M+o*P+s*L+u*D,i[1]=l*_+c*S+f*A+h*R,i[5]=l*w+c*T+f*k+h*N,i[9]=l*E+c*C+f*O+h*I,i[13]=l*M+c*P+f*L+h*D,i[2]=d*_+p*S+m*A+v*R,i[6]=d*w+p*T+m*k+v*N,i[10]=d*E+p*C+m*O+v*I,i[14]=d*M+p*P+m*L+v*D,i[3]=g*_+y*S+b*A+x*R,i[7]=g*w+y*T+b*k+x*N,i[11]=g*E+y*C+b*O+x*I,i[15]=g*M+y*P+b*L+x*D,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(e){for(var t=0,n=e.count;t<n;t++)Sn.x=e.getX(t),Sn.y=e.getY(t),Sn.z=e.getZ(t),Sn.applyMatrix4(this),e.setXYZ(t,Sn.x,Sn.y,Sn.z);return e},determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],u=e[13],l=e[2],c=e[6],f=e[10],h=e[14];return e[3]*(+i*s*c-r*u*c-i*o*f+n*u*f+r*o*h-n*s*h)+e[7]*(+t*s*h-t*u*f+i*a*f-r*a*h+r*u*l-i*s*l)+e[11]*(+t*u*c-t*o*h-i*a*c+n*a*h+i*o*l-n*u*l)+e[15]*(-r*o*l-t*s*c+t*o*f+r*a*c-n*a*f+n*s*l)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],c=r[6],f=r[7],h=r[8],d=r[9],p=r[10],m=r[11],v=r[12],g=r[13],y=r[14],b=r[15],x=d*y*f-g*p*f+g*c*m-l*y*m-d*c*b+l*p*b,_=v*p*f-h*y*f-v*c*m+u*y*m+h*c*b-u*p*b,w=h*g*f-v*d*f+v*l*m-u*g*m-h*l*b+u*d*b,E=v*d*c-h*g*c-v*l*p+u*g*p+h*l*y-u*d*y,M=i*x+a*_+o*w+s*E;if(0===M){var S=\"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";if(!0===t)throw new Error(S);return console.warn(S),this.identity()}var T=1/M;return n[0]=x*T,n[1]=(g*p*s-d*y*s-g*o*m+a*y*m+d*o*b-a*p*b)*T,n[2]=(l*y*s-g*c*s+g*o*f-a*y*f-l*o*b+a*c*b)*T,n[3]=(d*c*s-l*p*s-d*o*f+a*p*f+l*o*m-a*c*m)*T,n[4]=_*T,n[5]=(h*y*s-v*p*s+v*o*m-i*y*m-h*o*b+i*p*b)*T,n[6]=(v*c*s-u*y*s-v*o*f+i*y*f+u*o*b-i*c*b)*T,n[7]=(u*p*s-h*c*s+h*o*f-i*p*f-u*o*m+i*c*m)*T,n[8]=w*T,n[9]=(v*d*s-h*g*s-v*a*m+i*g*m+h*a*b-i*d*b)*T,n[10]=(u*g*s-v*l*s+v*a*f-i*g*f-u*a*b+i*l*b)*T,n[11]=(h*l*s-u*d*s-h*a*f+i*d*f+u*a*m-i*l*m)*T,n[12]=E*T,n[13]=(h*g*o-v*d*o+v*a*p-i*g*p-h*a*y+i*d*y)*T,n[14]=(v*l*o-u*g*o-v*a*c+i*g*c+u*a*y-i*l*y)*T,n[15]=(u*d*o-h*l*o+h*a*c-i*d*c-u*a*p+i*l*p)*T,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,u=i*a,l=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+n,l*s-r*a,0,u*s-r*o,l*s+r*a,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,u=i+i,l=a+a,c=o+o,f=i*u,h=i*l,d=i*c,p=a*l,m=a*c,v=o*c,g=s*u,y=s*l,b=s*c,x=n.x,_=n.y,w=n.z;return r[0]=(1-(p+v))*x,r[1]=(h+b)*x,r[2]=(d-y)*x,r[3]=0,r[4]=(h-b)*_,r[5]=(1-(f+v))*_,r[6]=(m+g)*_,r[7]=0,r[8]=(d+y)*w,r[9]=(m-g)*w,r[10]=(1-(f+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(e,t,n){var r=this.elements,i=Sn.set(r[0],r[1],r[2]).length(),a=Sn.set(r[4],r[5],r[6]).length(),o=Sn.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Tn.copy(this);var s=1/i,u=1/a,l=1/o;return Tn.elements[0]*=s,Tn.elements[1]*=s,Tn.elements[2]*=s,Tn.elements[4]*=u,Tn.elements[5]*=u,Tn.elements[6]*=u,Tn.elements[8]*=l,Tn.elements[9]*=l,Tn.elements[10]*=l,t.setFromRotationMatrix(Tn),n.x=i,n.y=a,n.z=o,this},makePerspective:function(e,t,n,r,i,a){void 0===a&&console.warn(\"THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.\");var o=this.elements,s=2*i/(t-e),u=2*i/(n-r),l=(t+e)/(t-e),c=(n+r)/(n-r),f=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),u=1/(n-r),l=1/(a-i),c=(t+e)*s,f=(n+r)*u,h=(a+i)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});var Rn=new Ln,Nn=new hn;function In(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||In.DefaultOrder}function Dn(){this.mask=1}In.RotationOrders=[\"XYZ\",\"YZX\",\"ZXY\",\"XZY\",\"YXZ\",\"ZYX\"],In.DefaultOrder=\"XYZ\",Object.defineProperties(In.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(In.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=cn.clamp,i=e.elements,a=i[0],o=i[4],s=i[8],u=i[1],l=i[5],c=i[9],f=i[2],h=i[6],d=i[10];return\"XYZ\"===(t=t||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,l),this._z=0)):\"YXZ\"===t?(this._x=Math.asin(-r(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-f,a),this._z=0)):\"ZXY\"===t?(this._x=Math.asin(r(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a))):\"ZYX\"===t?(this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l))):\"YZX\"===t?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(s,d))):\"XZY\"===t?(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,d),this._y=0)):console.warn(\"THREE.Euler: .setFromRotationMatrix() given unsupported order: \"+t),this._order=t,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return Rn.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Rn,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return Nn.setFromEuler(this),this.setFromQuaternion(Nn,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new mn(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(Dn.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!=(this.mask&e.mask)}});var zn=0,Fn=new mn,Bn=new hn,jn=new Ln,Un=new mn,Hn=new mn,Gn=new mn,Vn=new hn,Wn=new mn(1,0,0),qn=new mn(0,1,0),Xn=new mn(0,0,1),Yn={type:\"added\"},Qn={type:\"removed\"};function Zn(){Object.defineProperty(this,\"id\",{value:zn++}),this.uuid=cn.generateUUID(),this.name=\"\",this.type=\"Object3D\",this.parent=null,this.children=[],this.up=Zn.DefaultUp.clone();var e=new mn,t=new In,n=new hn,r=new mn(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ln},normalMatrix:{value:new yn}}),this.matrix=new Ln,this.matrixWorld=new Ln,this.matrixAutoUpdate=Zn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Dn,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Jn(){Zn.call(this),this.type=\"Scene\",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,\"undefined\"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent(\"observe\",{detail:this}))}Zn.DefaultUp=new mn(0,1,0),Zn.DefaultMatrixAutoUpdate=!0,Zn.prototype=Object.assign(Object.create(r.prototype),{constructor:Zn,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return Bn.setFromAxisAngle(e,t),this.quaternion.multiply(Bn),this},rotateOnWorldAxis:function(e,t){return Bn.setFromAxisAngle(e,t),this.quaternion.premultiply(Bn),this},rotateX:function(e){return this.rotateOnAxis(Wn,e)},rotateY:function(e){return this.rotateOnAxis(qn,e)},rotateZ:function(e){return this.rotateOnAxis(Xn,e)},translateOnAxis:function(e,t){return Fn.copy(e).applyQuaternion(this.quaternion),this.position.add(Fn.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Wn,e)},translateY:function(e){return this.translateOnAxis(qn,e)},translateZ:function(e){return this.translateOnAxis(Xn,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(jn.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?Un.copy(e):Un.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Hn.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?jn.lookAt(Hn,Un,this.up):jn.lookAt(Un,Hn,this.up),this.quaternion.setFromRotationMatrix(jn),r&&(jn.extractRotation(r.matrixWorld),Bn.setFromRotationMatrix(jn),this.quaternion.premultiply(Bn.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error(\"THREE.Object3D.add: object can't be added as a child of itself.\",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Yn)):console.error(\"THREE.Object3D.add: object not an instance of THREE.Object3D.\",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Qn)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),jn.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),jn.multiply(e.parent.matrixWorld)),e.applyMatrix(jn),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty(\"id\",e)},getObjectByName:function(e){return this.getObjectByProperty(\"name\",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn(\"THREE.Object3D: .getWorldPosition() target is now required\"),e=new mn),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn(\"THREE.Object3D: .getWorldQuaternion() target is now required\"),e=new hn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Hn,e,Gn),e},getWorldScale:function(e){return void 0===e&&(console.warn(\"THREE.Object3D: .getWorldScale() target is now required\"),e=new mn),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Hn,Vn,e),e},getWorldDirection:function(e){void 0===e&&(console.warn(\"THREE.Object3D: .getWorldDirection() target is now required\"),e=new mn),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||\"string\"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:\"Object\",generator:\"Object3D.toJSON\"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,\"\"!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),\"{}\"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==kt&&(r.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];i(e.shapes,l)}else i(e.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,u=this.material.length;s<u;s++)c.push(i(e.materials,this.material[s]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(t){var f=m(e.geometries),h=m(e.materials),d=m(e.textures),p=m(e.images);o=m(e.shapes);f.length>0&&(n.geometries=f),h.length>0&&(n.materials=h),d.length>0&&(n.textures=d),p.length>0&&(n.images=p),o.length>0&&(n.shapes=o)}return n.object=r,n;function m(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}),Jn.prototype=Object.assign(Object.create(Zn.prototype),{constructor:Jn,isScene:!0,copy:function(e,t){return Zn.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Zn.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:\"dispose\"})}});var $n=[new mn,new mn,new mn,new mn,new mn,new mn,new mn,new mn],Kn=new mn,er=new mn,tr=new mn,nr=new mn,rr=new mn,ir=new mn,ar=new mn,or=new mn,sr=new mn,ur=new mn,lr=new mn;function cr(e,t){this.min=void 0!==e?e:new mn(1/0,1/0,1/0),this.max=void 0!==t?t:new mn(-1/0,-1/0,-1/0)}function fr(e,t,n,r,i){var a,o;for(a=0,o=e.length-3;a<=o;a+=3){lr.fromArray(e,a);var s=i.x*Math.abs(lr.x)+i.y*Math.abs(lr.y)+i.z*Math.abs(lr.z),u=t.dot(lr),l=n.dot(lr),c=r.dot(lr);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>s)return!1}return!0}Object.assign(cr.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.length;s<u;s+=3){var l=e[s],c=e[s+1],f=e[s+2];l<t&&(t=l),c<n&&(n=c),f<r&&(r=f),l>i&&(i=l),c>a&&(a=c),f>o&&(o=f)}return this.min.set(t,n,r),this.max.set(i,a,o),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=e.count;s<u;s++){var l=e.getX(s),c=e.getY(s),f=e.getZ(s);l<t&&(t=l),c<n&&(n=c),f<r&&(r=f),l>i&&(i=l),c>a&&(a=c),f>o&&(o=f)}return this.min.set(t,n,r),this.max.set(i,a,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Kn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn(\"THREE.Box3: .getCenter() target is now required\"),e=new mn),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn(\"THREE.Box3: .getSize() target is now required\"),e=new mn),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){var t,n;e.updateWorldMatrix(!1,!1);var r=e.geometry;if(void 0!==r)if(r.isGeometry){var i=r.vertices;for(t=0,n=i.length;t<n;t++)Kn.copy(i[t]),Kn.applyMatrix4(e.matrixWorld),this.expandByPoint(Kn)}else if(r.isBufferGeometry){var a=r.attributes.position;if(void 0!==a)for(t=0,n=a.count;t<n;t++)Kn.fromBufferAttribute(a,t).applyMatrix4(e.matrixWorld),this.expandByPoint(Kn)}var o=e.children;for(t=0,n=o.length;t<n;t++)this.expandByObject(o[t]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn(\"THREE.Box3: .getParameter() target is now required\"),t=new mn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Kn),Kn.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(or),sr.subVectors(this.max,or),er.subVectors(e.a,or),tr.subVectors(e.b,or),nr.subVectors(e.c,or),rr.subVectors(tr,er),ir.subVectors(nr,tr),ar.subVectors(er,nr);var t=[0,-rr.z,rr.y,0,-ir.z,ir.y,0,-ar.z,ar.y,rr.z,0,-rr.x,ir.z,0,-ir.x,ar.z,0,-ar.x,-rr.y,rr.x,0,-ir.y,ir.x,0,-ar.y,ar.x,0];return!!fr(t,er,tr,nr,sr)&&(!!fr(t=[1,0,0,0,1,0,0,0,1],er,tr,nr,sr)&&(ur.crossVectors(rr,ir),fr(t=[ur.x,ur.y,ur.z],er,tr,nr,sr)))},clampPoint:function(e,t){return void 0===t&&(console.warn(\"THREE.Box3: .clampPoint() target is now required\"),t=new mn),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Kn.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error(\"THREE.Box3: .getBoundingSphere() target is now required\"),this.getCenter(e.center),e.radius=.5*this.getSize(Kn).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:($n[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),$n[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),$n[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),$n[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),$n[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),$n[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),$n[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),$n[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints($n),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var hr=new cr;function dr(e,t){this.center=void 0!==e?e:new mn,this.radius=void 0!==t?t:0}Object.assign(dr.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var n=this.center;void 0!==t?n.copy(t):hr.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn(\"THREE.Sphere: .clampPoint() target is now required\"),t=new mn),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn(\"THREE.Sphere: .getBoundingBox() target is now required\"),e=new cr),e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var pr=new mn,mr=new mn,vr=new mn,gr=new mn,yr=new mn,br=new mn,xr=new mn;function _r(e,t){this.origin=void 0!==e?e:new mn,this.direction=void 0!==t?t:new mn}Object.assign(_r.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn(\"THREE.Ray: .at() target is now required\"),t=new mn),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,pr)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn(\"THREE.Ray: .closestPointToPoint() target is now required\"),t=new mn),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=pr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(pr.copy(this.direction).multiplyScalar(t).add(this.origin),pr.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,r){mr.copy(e).add(t).multiplyScalar(.5),vr.copy(t).sub(e).normalize(),gr.copy(this.origin).sub(mr);var i,a,o,s,u=.5*e.distanceTo(t),l=-this.direction.dot(vr),c=gr.dot(this.direction),f=-gr.dot(vr),h=gr.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(a=l*c-f,s=u*d,(i=l*f-c)>=0)if(a>=-s)if(a<=s){var p=1/d;o=(i*=p)*(i+l*(a*=p)+2*c)+a*(l*i+a+2*f)+h}else a=u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+h;else a=-u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+h;else a<=-s?o=-(i=Math.max(0,-(-l*u+c)))*i+(a=i>0?-u:Math.min(Math.max(-u,-f),u))*(a+2*f)+h:a<=s?(i=0,o=(a=Math.min(Math.max(-u,-f),u))*(a+2*f)+h):o=-(i=Math.max(0,-(l*u+c)))*i+(a=i>0?u:Math.min(Math.max(-u,-f),u))*(a+2*f)+h;else a=l>0?-u:u,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+h;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(vr).multiplyScalar(a).add(mr),o},intersectSphere:function(e,t){pr.subVectors(e.center,this.origin);var n=pr.dot(this.direction),r=pr.dot(pr)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,a,o,s,u=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,f=this.origin;return u>=0?(n=(e.min.x-f.x)*u,r=(e.max.x-f.x)*u):(n=(e.max.x-f.x)*u,r=(e.min.x-f.x)*u),l>=0?(i=(e.min.y-f.y)*l,a=(e.max.y-f.y)*l):(i=(e.max.y-f.y)*l,a=(e.min.y-f.y)*l),n>a||i>r?null:((i>n||n!=n)&&(n=i),(a<r||r!=r)&&(r=a),c>=0?(o=(e.min.z-f.z)*c,s=(e.max.z-f.z)*c):(o=(e.max.z-f.z)*c,s=(e.min.z-f.z)*c),n>s||o>r?null:((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,pr)},intersectTriangle:function(e,t,n,r,i){yr.subVectors(t,e),br.subVectors(n,e),xr.crossVectors(yr,br);var a,o=this.direction.dot(xr);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}gr.subVectors(this.origin,e);var s=a*this.direction.dot(br.crossVectors(gr,br));if(s<0)return null;var u=a*this.direction.dot(yr.cross(gr));if(u<0)return null;if(s+u>o)return null;var l=-a*gr.dot(xr);return l<0?null:this.at(l/o,i)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var wr=new mn,Er=new mn,Mr=new mn,Sr=new mn,Tr=new mn,Cr=new mn,Pr=new mn,Ar=new mn,kr=new mn,Or=new mn;function Lr(e,t,n){this.a=void 0!==e?e:new mn,this.b=void 0!==t?t:new mn,this.c=void 0!==n?n:new mn}Object.assign(Lr,{getNormal:function(e,t,n,r){void 0===r&&(console.warn(\"THREE.Triangle: .getNormal() target is now required\"),r=new mn),r.subVectors(n,t),wr.subVectors(e,t),r.cross(wr);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)},getBarycoord:function(e,t,n,r,i){wr.subVectors(r,t),Er.subVectors(n,t),Mr.subVectors(e,t);var a=wr.dot(wr),o=wr.dot(Er),s=wr.dot(Mr),u=Er.dot(Er),l=Er.dot(Mr),c=a*u-o*o;if(void 0===i&&(console.warn(\"THREE.Triangle: .getBarycoord() target is now required\"),i=new mn),0===c)return i.set(-2,-1,-1);var f=1/c,h=(u*s-o*l)*f,d=(a*l-o*s)*f;return i.set(1-h-d,d,h)},containsPoint:function(e,t,n,r){return Lr.getBarycoord(e,t,n,r,Sr),Sr.x>=0&&Sr.y>=0&&Sr.x+Sr.y<=1},getUV:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,Sr),s.set(0,0),s.addScaledVector(i,Sr.x),s.addScaledVector(a,Sr.y),s.addScaledVector(o,Sr.z),s},isFrontFacing:function(e,t,n,r){return wr.subVectors(n,t),Er.subVectors(e,t),wr.cross(Er).dot(r)<0}}),Object.assign(Lr.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return wr.subVectors(this.c,this.b),Er.subVectors(this.a,this.b),.5*wr.cross(Er).length()},getMidpoint:function(e){return void 0===e&&(console.warn(\"THREE.Triangle: .getMidpoint() target is now required\"),e=new mn),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Lr.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn(\"THREE.Triangle: .getPlane() target is now required\"),e=new mn),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return Lr.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,r,i){return Lr.getUV(e,this.a,this.b,this.c,t,n,r,i)},containsPoint:function(e){return Lr.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return Lr.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn(\"THREE.Triangle: .closestPointToPoint() target is now required\"),t=new mn);var n,r,i=this.a,a=this.b,o=this.c;Tr.subVectors(a,i),Cr.subVectors(o,i),Ar.subVectors(e,i);var s=Tr.dot(Ar),u=Cr.dot(Ar);if(s<=0&&u<=0)return t.copy(i);kr.subVectors(e,a);var l=Tr.dot(kr),c=Cr.dot(kr);if(l>=0&&c<=l)return t.copy(a);var f=s*c-l*u;if(f<=0&&s>=0&&l<=0)return n=s/(s-l),t.copy(i).addScaledVector(Tr,n);Or.subVectors(e,o);var h=Tr.dot(Or),d=Cr.dot(Or);if(d>=0&&h<=d)return t.copy(o);var p=h*u-s*d;if(p<=0&&u>=0&&d<=0)return r=u/(u-d),t.copy(i).addScaledVector(Cr,r);var m=l*d-h*c;if(m<=0&&c-l>=0&&h-d>=0)return Pr.subVectors(o,a),r=(c-l)/(c-l+(h-d)),t.copy(a).addScaledVector(Pr,r);var v=1/(m+p+f);return n=p*v,r=f*v,t.copy(i).addScaledVector(Tr,n).addScaledVector(Cr,r)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var Rr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Nr={h:0,s:0,l:0},Ir={h:0,s:0,l:0};function Dr(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function zr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Fr(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Br(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function jr(e,t,n,r,i,a){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new mn,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Dr,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==a?a:0}Object.assign(Dr.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):\"number\"==typeof e?this.setHex(e):\"string\"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=cn.euclideanModulo(e,1),t=cn.clamp(t,0,1),n=cn.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=zr(i,r,e+1/3),this.g=zr(i,r,e),this.b=zr(i,r,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn(\"THREE.Color: Alpha component of \"+e+\" will be ignored.\")}var n;if(n=/^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec(e)){var r,i=n[1],a=n[2];switch(i){case\"rgb\":case\"rgba\":if(r=/^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case\"hsl\":case\"hsla\":if(r=/^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(o,s,u)}}}else if(n=/^\\#([A-Fa-f0-9]+)$/.exec(e)){var l,c=(l=n[1]).length;if(3===c)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}e&&e.length>0&&(void 0!==(l=Rr[e])?this.setHex(l):console.warn(\"THREE.Color: Unknown color \"+e));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=Fr(e.r),this.g=Fr(e.g),this.b=Fr(e.b),this},copyLinearToSRGB:function(e){return this.r=Br(e.r),this.g=Br(e.g),this.b=Br(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return(\"000000\"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn(\"THREE.Color: .getHSL() target is now required\"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),u=(s+o)/2;if(s===o)t=0,n=0;else{var l=o-s;switch(n=u<=.5?l/(o+s):l/(2-o-s),o){case r:t=(i-a)/l+(i<a?6:0);break;case i:t=(a-r)/l+2;break;case a:t=(r-i)/l+4}t/=6}return e.h=t,e.s=n,e.l=u,e},getStyle:function(){return\"rgb(\"+(255*this.r|0)+\",\"+(255*this.g|0)+\",\"+(255*this.b|0)+\")\"},offsetHSL:function(e,t,n){return this.getHSL(Nr),Nr.h+=e,Nr.s+=t,Nr.l+=n,this.setHSL(Nr.h,Nr.s,Nr.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(Nr),e.getHSL(Ir);var n=cn.lerp(Nr.h,Ir.h,t),r=cn.lerp(Nr.s,Ir.s,t),i=cn.lerp(Nr.l,Ir.l,t);return this.setHSL(n,r,i),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}}),Object.assign(jr.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});var Ur=0;function Hr(){Object.defineProperty(this,\"id\",{value:Ur++}),this.uuid=cn.generateUUID(),this.name=\"\",this.type=\"Material\",this.fog=!0,this.lights=!0,this.blending=T,this.side=g,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=w,this.opacity=1,this.transparent=!1,this.blendSrc=j,this.blendDst=U,this.blendEquation=O,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Z,this.depthTest=!0,this.depthWrite=!0,this.stencilFunc=sn,this.stencilRef=0,this.stencilMask=255,this.stencilFail=qt,this.stencilZFail=qt,this.stencilZPass=qt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.needsUpdate=!0}function Gr(e){Hr.call(this),this.type=\"MeshBasicMaterial\",this.color=new Dr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=te,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(e)}function Vr(e,t,n){if(Array.isArray(e))throw new TypeError(\"THREE.BufferAttribute: array should be a Typed Array.\");this.name=\"\",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Wr(e,t,n){Vr.call(this,new Int8Array(e),t,n)}function qr(e,t,n){Vr.call(this,new Uint8Array(e),t,n)}function Xr(e,t,n){Vr.call(this,new Uint8ClampedArray(e),t,n)}function Yr(e,t,n){Vr.call(this,new Int16Array(e),t,n)}function Qr(e,t,n){Vr.call(this,new Uint16Array(e),t,n)}function Zr(e,t,n){Vr.call(this,new Int32Array(e),t,n)}function Jr(e,t,n){Vr.call(this,new Uint32Array(e),t,n)}function $r(e,t,n){Vr.call(this,new Float32Array(e),t,n)}function Kr(e,t,n){Vr.call(this,new Float64Array(e),t,n)}function ei(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function ti(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Hr.prototype=Object.assign(Object.create(r.prototype),{constructor:Hr,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if(\"shading\"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn(\"THREE.\"+this.type+\": '\"+t+\"' is not a property of this material.\")}else console.warn(\"THREE.\"+this.type+\": .shading has been removed. Use the boolean .flatShading instead.\"),this.flatShading=n===x;else console.warn(\"THREE.Material: '\"+t+\"' parameter is undefined.\")}},toJSON:function(e){var t=void 0===e||\"string\"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:\"Material\",generator:\"Material.toJSON\"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,\"\"!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==T&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==g&&(n.side=this.side),this.vertexColors!==w&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilMask=this.stencilMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),\"round\"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),\"round\"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),\"{}\"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWrite=e.stencilWrite,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilMask=e.stencilMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.shadowSide=e.shadowSide,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}}),Gr.prototype=Object.create(Hr.prototype),Gr.prototype.constructor=Gr,Gr.prototype.isMeshBasicMaterial=!0,Gr.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Object.defineProperty(Vr.prototype,\"needsUpdate\",{set:function(e){!0===e&&this.version++}}),Object.assign(Vr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError(\"THREE.BufferAttribute: array should be a Typed Array.\");return this.count=void 0!==e?e.length/this.itemSize:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn(\"THREE.BufferAttribute.copyColorsArray(): color is undefined\",r),a=new Dr),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn(\"THREE.BufferAttribute.copyVector2sArray(): vector is undefined\",r),a=new fn),t[n++]=a.x,t[n++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn(\"THREE.BufferAttribute.copyVector3sArray(): vector is undefined\",r),a=new mn),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn(\"THREE.BufferAttribute.copyVector4sArray(): vector is undefined\",r),a=new wn),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Wr.prototype=Object.create(Vr.prototype),Wr.prototype.constructor=Wr,qr.prototype=Object.create(Vr.prototype),qr.prototype.constructor=qr,Xr.prototype=Object.create(Vr.prototype),Xr.prototype.constructor=Xr,Yr.prototype=Object.create(Vr.prototype),Yr.prototype.constructor=Yr,Qr.prototype=Object.create(Vr.prototype),Qr.prototype.constructor=Qr,Zr.prototype=Object.create(Vr.prototype),Zr.prototype.constructor=Zr,Jr.prototype=Object.create(Vr.prototype),Jr.prototype.constructor=Jr,$r.prototype=Object.create(Vr.prototype),$r.prototype.constructor=$r,Kr.prototype=Object.create(Vr.prototype),Kr.prototype.constructor=Kr,Object.assign(ei.prototype,{computeGroups:function(e){for(var t,n=[],r=void 0,i=e.faces,a=0;a<i.length;a++){var o=i[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==t&&(t.count=3*a-t.start,n.push(t)),t={start:3*a,materialIndex:r})}void 0!==t&&(t.count=3*a-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,a=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=e.morphTargets,u=s.length;if(u>0){t=[];for(var l=0;l<u;l++)t[l]={name:s[l].name,data:[]};this.morphTargets.position=t}var c,f=e.morphNormals,h=f.length;if(h>0){c=[];for(l=0;l<h;l++)c[l]={name:f[l].name,data:[]};this.morphTargets.normal=c}var d=e.skinIndices,p=e.skinWeights,m=d.length===r.length,v=p.length===r.length;r.length>0&&0===n.length&&console.error(\"THREE.DirectGeometry: Faceless geometries are not supported.\");for(l=0;l<n.length;l++){var g=n[l];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var b=g.normal;this.normals.push(b,b,b)}var x,_=g.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=g.color;this.colors.push(w,w,w)}if(!0===a)void 0!==(x=i[0][l])?this.uvs.push(x[0],x[1],x[2]):(console.warn(\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv \",l),this.uvs.push(new fn,new fn,new fn));if(!0===o)void 0!==(x=i[1][l])?this.uvs2.push(x[0],x[1],x[2]):(console.warn(\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 \",l),this.uvs2.push(new fn,new fn,new fn));for(var E=0;E<u;E++){var M=s[E].vertices;t[E].data.push(M[g.a],M[g.b],M[g.c])}for(E=0;E<h;E++){var S=f[E].vertexNormals[l];c[E].data.push(S.a,S.b,S.c)}m&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),v&&this.skinWeights.push(p[g.a],p[g.b],p[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var ni=1,ri=new Ln,ii=new Zn,ai=new mn,oi=new cr,si=new cr,ui=new mn;function li(){Object.defineProperty(this,\"id\",{value:ni+=2}),this.uuid=cn.generateUUID(),this.name=\"\",this.type=\"BufferGeometry\",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}li.prototype=Object.assign(Object.create(r.prototype),{constructor:li,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(ti(e)>65535?Jr:Qr)(e,1):this.index=e},addAttribute:function(e,t){return t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?\"index\"===e?(console.warn(\"THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.\"),this.setIndex(t),this):(this.attributes[e]=t,this):(console.warn(\"THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).\"),this.addAttribute(e,new Vr(arguments[1],arguments[2])))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new yn).getNormalMatrix(e).applyToBufferAttribute(n),n.needsUpdate=!0);var r=this.attributes.tangent;void 0!==r&&((new yn).getNormalMatrix(e).applyToBufferAttribute(r),r.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return ri.makeRotationX(e),this.applyMatrix(ri),this},rotateY:function(e){return ri.makeRotationY(e),this.applyMatrix(ri),this},rotateZ:function(e){return ri.makeRotationZ(e),this.applyMatrix(ri),this},translate:function(e,t,n){return ri.makeTranslation(e,t,n),this.applyMatrix(ri),this},scale:function(e,t,n){return ri.makeScale(e,t,n),this.applyMatrix(ri),this},lookAt:function(e){return ii.lookAt(e),ii.updateMatrix(),this.applyMatrix(ii.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(ai).negate(),this.translate(ai.x,ai.y,ai.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new $r(3*t.vertices.length,3),r=new $r(3*t.colors.length,3);if(this.addAttribute(\"position\",n.copyVector3sArray(t.vertices)),this.addAttribute(\"color\",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new $r(t.lineDistances.length,1);this.addAttribute(\"lineDistance\",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.addAttribute(\"position\",new $r(t,3)),this},updateFromObject:function(e){var t,n=e.geometry;if(e.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(n.vertices),t.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(n.normals),t.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(n.colors),t.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(n.uvs),t.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(n.lineDistances),t.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(e.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new ei).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute(\"position\",new Vr(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.addAttribute(\"normal\",new Vr(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.addAttribute(\"color\",new Vr(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.addAttribute(\"uv\",new Vr(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(2*e.uvs2.length);this.addAttribute(\"uv2\",new Vr(a,2).copyVector2sArray(e.uvs2))}for(var o in this.groups=e.groups,e.morphTargets){for(var s=[],u=e.morphTargets[o],l=0,c=u.length;l<c;l++){var f=u[l],h=new $r(3*f.data.length,3);h.name=f.name,s.push(h.copyVector3sArray(f.data))}this.morphAttributes[o]=s}if(e.skinIndices.length>0){var d=new $r(4*e.skinIndices.length,4);this.addAttribute(\"skinIndex\",d.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var p=new $r(4*e.skinWeights.length,4);this.addAttribute(\"skinWeight\",p.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new cr);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];oi.setFromBufferAttribute(i),this.boundingBox.expandByPoint(oi.min),this.boundingBox.expandByPoint(oi.max)}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new dr);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var n=this.boundingSphere.center;if(oi.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];si.setFromBufferAttribute(a),oi.expandByPoint(si.min),oi.expandByPoint(si.max)}oi.getCenter(n);var o=0;for(r=0,i=e.count;r<i;r++)ui.fromBufferAttribute(e,r),o=Math.max(o,n.distanceToSquared(ui));if(t)for(r=0,i=t.length;r<i;r++)for(var s=0,u=(a=t[r]).count;s<u;s++)ui.fromBufferAttribute(a,s),o=Math.max(o,n.distanceToSquared(ui));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute(\"normal\",new Vr(new Float32Array(n.length),3));else for(var r=t.normal.array,i=0,a=r.length;i<a;i++)r[i]=0;var o,s,u,l=t.normal.array,c=new mn,f=new mn,h=new mn,d=new mn,p=new mn;if(e){var m=e.array;for(i=0,a=e.count;i<a;i+=3)o=3*m[i+0],s=3*m[i+1],u=3*m[i+2],c.fromArray(n,o),f.fromArray(n,s),h.fromArray(n,u),d.subVectors(h,f),p.subVectors(c,f),d.cross(p),l[o]+=d.x,l[o+1]+=d.y,l[o+2]+=d.z,l[s]+=d.x,l[s+1]+=d.y,l[s+2]+=d.z,l[u]+=d.x,l[u+1]+=d.y,l[u+2]+=d.z}else for(i=0,a=n.length;i<a;i+=9)c.fromArray(n,i),f.fromArray(n,i+3),h.fromArray(n,i+6),d.subVectors(h,f),p.subVectors(c,f),d.cross(p),l[i]=d.x,l[i+1]=d.y,l[i+2]=d.z,l[i+3]=d.x,l[i+4]=d.y,l[i+5]=d.z,l[i+6]=d.x,l[i+7]=d.y,l[i+8]=d.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn(\"THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.\"));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,a=e.attributes[r],o=a.array,s=a.itemSize*t,u=Math.min(o.length,i.length-s),l=0,c=s;l<u;l++,c++)i[c]=o[l];return this}console.error(\"THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.\",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)ui.x=e.getX(t),ui.y=e.getY(t),ui.z=e.getZ(t),ui.normalize(),e.setXYZ(t,ui.x,ui.y,ui.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=new n.constructor(t.length*r),a=0,o=0,s=0,u=t.length;s<u;s++){a=t[s]*r;for(var l=0;l<r;l++)i[o++]=n[a++]}return new Vr(i,r)}if(null===this.index)return console.warn(\"THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.\"),this;var t=new li,n=this.index.array,r=this.attributes;for(var i in r){var a=e(r[i],n);t.addAttribute(i,a)}var o=this.morphAttributes;for(i in o){for(var s=[],u=o[i],l=0,c=u.length;l<c;l++){a=e(u[l],n);s.push(a)}t.morphAttributes[i]=s}for(var f=this.groups,h=(l=0,f.length);l<h;l++){var d=f[l];t.addGroup(d.start,d.count,d.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:\"BufferGeometry\",generator:\"BufferGeometry.toJSON\"}};if(e.uuid=this.uuid,e.type=this.type,\"\"!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var n in i){var a=(h=i[n]).toJSON();\"\"!==h.name&&(a.name=h.name),e.data.attributes[n]=a}var o={},s=!1;for(var n in this.morphAttributes){for(var u=this.morphAttributes[n],l=[],c=0,f=u.length;c<f;c++){var h;a=(h=u[c]).toJSON();\"\"!==h.name&&(a.name=h.name),l.push(a)}l.length>0&&(o[n]=l,s=!0)}s&&(e.data.morphAttributes=o);var d=this.groups;d.length>0&&(e.data.groups=JSON.parse(JSON.stringify(d)));var p=this.boundingSphere;return null!==p&&(e.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),e},clone:function(){return(new li).copy(this)},copy:function(e){var t,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var i=e.index;null!==i&&this.setIndex(i.clone());var a=e.attributes;for(t in a){var o=a[t];this.addAttribute(t,o.clone())}var s=e.morphAttributes;for(t in s){var u=[],l=s[t];for(n=0,r=l.length;n<r;n++)u.push(l[n].clone());this.morphAttributes[t]=u}var c=e.groups;for(n=0,r=c.length;n<r;n++){var f=c[n];this.addGroup(f.start,f.count,f.materialIndex)}var h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());var d=e.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}});var ci=new Ln,fi=new _r,hi=new dr,di=new mn,pi=new mn,mi=new mn,vi=new mn,gi=new mn,yi=new mn,bi=new mn,xi=new mn,_i=new mn,wi=new fn,Ei=new fn,Mi=new fn,Si=new mn,Ti=new mn;function Ci(e,t){Zn.call(this),this.type=\"Mesh\",this.geometry=void 0!==e?e:new li,this.material=void 0!==t?t:new Gr({color:16777215*Math.random()}),this.drawMode=kt,this.updateMorphTargets()}function Pi(e,t,n,r,i,a,o,s){if(null===(t.side===y?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side!==b,s)))return null;Ti.copy(s),Ti.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(Ti);return u<n.near||u>n.far?null:{distance:u,point:Ti.clone(),object:e}}function Ai(e,t,n,r,i,a,o,s,u,l,c){di.fromBufferAttribute(i,u),pi.fromBufferAttribute(i,l),mi.fromBufferAttribute(i,c);var f=e.morphTargetInfluences;if(t.morphTargets&&a&&f){bi.set(0,0,0),xi.set(0,0,0),_i.set(0,0,0);for(var h=0,d=a.length;h<d;h++){var p=f[h],m=a[h];0!==p&&(vi.fromBufferAttribute(m,u),gi.fromBufferAttribute(m,l),yi.fromBufferAttribute(m,c),bi.addScaledVector(vi.sub(di),p),xi.addScaledVector(gi.sub(pi),p),_i.addScaledVector(yi.sub(mi),p))}di.add(bi),pi.add(xi),mi.add(_i)}var v=Pi(e,t,n,r,di,pi,mi,Si);if(v){o&&(wi.fromBufferAttribute(o,u),Ei.fromBufferAttribute(o,l),Mi.fromBufferAttribute(o,c),v.uv=Lr.getUV(Si,di,pi,mi,wi,Ei,Mi,new fn)),s&&(wi.fromBufferAttribute(s,u),Ei.fromBufferAttribute(s,l),Mi.fromBufferAttribute(s,c),v.uv2=Lr.getUV(Si,di,pi,mi,wi,Ei,Mi,new fn));var g=new jr(u,l,c);Lr.getNormal(di,pi,mi,g.normal),v.face=g}return v}Ci.prototype=Object.assign(Object.create(Zn.prototype),{constructor:Ci,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return Zn.prototype.copy.call(this,e),this.drawMode=e.drawMode,void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,a=Object.keys(i);if(a.length>0){var o=i[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error(\"THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\")}},raycast:function(e,t){var n,r=this.geometry,i=this.material,a=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),hi.copy(r.boundingSphere),hi.applyMatrix4(a),!1!==e.ray.intersectsSphere(hi)&&(ci.getInverse(a),fi.copy(e.ray).applyMatrix4(ci),null===r.boundingBox||!1!==fi.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var o,s,u,l,c,f,h,d,p,m=r.index,v=r.attributes.position,g=r.morphAttributes.position,y=r.attributes.uv,b=r.attributes.uv2,x=r.groups,_=r.drawRange;if(null!==m)if(Array.isArray(i))for(l=0,f=x.length;l<f;l++)for(p=i[(d=x[l]).materialIndex],c=Math.max(d.start,_.start),h=Math.min(d.start+d.count,_.start+_.count);c<h;c+=3)o=m.getX(c),s=m.getX(c+1),u=m.getX(c+2),(n=Ai(this,p,e,fi,v,g,y,b,o,s,u))&&(n.faceIndex=Math.floor(c/3),n.face.materialIndex=d.materialIndex,t.push(n));else for(l=Math.max(0,_.start),f=Math.min(m.count,_.start+_.count);l<f;l+=3)o=m.getX(l),s=m.getX(l+1),u=m.getX(l+2),(n=Ai(this,i,e,fi,v,g,y,b,o,s,u))&&(n.faceIndex=Math.floor(l/3),t.push(n));else if(void 0!==v)if(Array.isArray(i))for(l=0,f=x.length;l<f;l++)for(p=i[(d=x[l]).materialIndex],c=Math.max(d.start,_.start),h=Math.min(d.start+d.count,_.start+_.count);c<h;c+=3)(n=Ai(this,p,e,fi,v,g,y,b,o=c,s=c+1,u=c+2))&&(n.faceIndex=Math.floor(c/3),n.face.materialIndex=d.materialIndex,t.push(n));else for(l=Math.max(0,_.start),f=Math.min(v.count,_.start+_.count);l<f;l+=3)(n=Ai(this,i,e,fi,v,g,y,b,o=l,s=l+1,u=l+2))&&(n.faceIndex=Math.floor(l/3),t.push(n))}else if(r.isGeometry){var w,E,M,S,T=Array.isArray(i),C=r.vertices,P=r.faces,A=r.faceVertexUvs[0];A.length>0&&(S=A);for(var k=0,O=P.length;k<O;k++){var L=P[k],R=T?i[L.materialIndex]:i;if(void 0!==R&&(w=C[L.a],E=C[L.b],M=C[L.c],n=Pi(this,R,e,fi,w,E,M,Si))){if(S&&S[k]){var N=S[k];wi.copy(N[0]),Ei.copy(N[1]),Mi.copy(N[2]),n.uv=Lr.getUV(Si,w,E,M,wi,Ei,Mi,new fn)}n.face=L,n.faceIndex=k,t.push(n)}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var ki=0,Oi=new Ln,Li=new Zn,Ri=new mn;function Ni(){Object.defineProperty(this,\"id\",{value:ki+=2}),this.uuid=cn.generateUUID(),this.name=\"\",this.type=\"Geometry\",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Ii(e,t,n,r,i,a){Ni.call(this),this.type=\"BoxGeometry\",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a},this.fromBufferGeometry(new Di(e,t,n,r,i,a)),this.mergeVertices()}function Di(e,t,n,r,i,a){li.call(this),this.type=\"BoxBufferGeometry\",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};var o=this;e=e||1,t=t||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1,a=Math.floor(a)||1;var s=[],u=[],l=[],c=[],f=0,h=0;function d(e,t,n,r,i,a,d,p,m,v,g){var y,b,x=a/m,_=d/v,w=a/2,E=d/2,M=p/2,S=m+1,T=v+1,C=0,P=0,A=new mn;for(b=0;b<T;b++){var k=b*_-E;for(y=0;y<S;y++){var O=y*x-w;A[e]=O*r,A[t]=k*i,A[n]=M,u.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[n]=p>0?1:-1,l.push(A.x,A.y,A.z),c.push(y/m),c.push(1-b/v),C+=1}}for(b=0;b<v;b++)for(y=0;y<m;y++){var L=f+y+S*b,R=f+y+S*(b+1),N=f+(y+1)+S*(b+1),I=f+(y+1)+S*b;s.push(L,R,I),s.push(R,N,I),P+=6}o.addGroup(h,P,g),h+=P,f+=C}d(\"z\",\"y\",\"x\",-1,-1,n,t,e,a,i,0),d(\"z\",\"y\",\"x\",1,-1,n,t,-e,a,i,1),d(\"x\",\"z\",\"y\",1,1,e,n,t,r,a,2),d(\"x\",\"z\",\"y\",1,-1,e,n,-t,r,a,3),d(\"x\",\"y\",\"z\",1,-1,e,t,n,r,i,4),d(\"x\",\"y\",\"z\",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.addAttribute(\"position\",new $r(u,3)),this.addAttribute(\"normal\",new $r(l,3)),this.addAttribute(\"uv\",new $r(c,2))}function zi(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Fi(e){for(var t={},n=0;n<e.length;n++){var r=zi(e[n]);for(var i in r)t[i]=r[i]}return t}Ni.prototype=Object.assign(Object.create(r.prototype),{constructor:Ni,isGeometry:!0,applyMatrix:function(e){for(var t=(new yn).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var a=0,o=i.vertexNormals.length;a<o;a++)i.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Oi.makeRotationX(e),this.applyMatrix(Oi),this},rotateY:function(e){return Oi.makeRotationY(e),this.applyMatrix(Oi),this},rotateZ:function(e){return Oi.makeRotationZ(e),this.applyMatrix(Oi),this},translate:function(e,t,n){return Oi.makeTranslation(e,t,n),this.applyMatrix(Oi),this},scale:function(e,t,n){return Oi.makeScale(e,t,n),this.applyMatrix(Oi),this},lookAt:function(e){return Li.lookAt(e),Li.updateMatrix(),this.applyMatrix(Li.matrix),this},fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index.array:void 0,r=e.attributes,i=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,u=void 0!==r.uv2?r.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var l=0;l<i.length;l+=3)t.vertices.push((new mn).fromArray(i,l)),void 0!==o&&t.colors.push((new Dr).fromArray(o,l));function c(e,n,r,i){var l=void 0===o?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],c=new jr(e,n,r,void 0===a?[]:[(new mn).fromArray(a,3*e),(new mn).fromArray(a,3*n),(new mn).fromArray(a,3*r)],l,i);t.faces.push(c),void 0!==s&&t.faceVertexUvs[0].push([(new fn).fromArray(s,2*e),(new fn).fromArray(s,2*n),(new fn).fromArray(s,2*r)]),void 0!==u&&t.faceVertexUvs[1].push([(new fn).fromArray(u,2*e),(new fn).fromArray(u,2*n),(new fn).fromArray(u,2*r)])}var f=e.groups;if(f.length>0)for(l=0;l<f.length;l++)for(var h=f[l],d=h.start,p=d,m=d+h.count;p<m;p+=3)void 0!==n?c(n[p],n[p+1],n[p+2],h.materialIndex):c(p,p+1,p+2,h.materialIndex);else if(void 0!==n)for(l=0;l<n.length;l+=3)c(n[l],n[l+1],n[l+2]);else for(l=0;l<i.length/3;l+=3)c(l,l+1,l+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ri).negate(),this.translate(Ri.x,Ri.y,Ri.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new Ln;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var e=new mn,t=new mn,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i,a,o;for(void 0===e&&(e=!0),o=new Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)o[t]=new mn;if(e){var s,u,l,c=new mn,f=new mn;for(r=0,i=this.faces.length;r<i;r++)a=this.faces[r],s=this.vertices[a.a],u=this.vertices[a.b],l=this.vertices[a.c],c.subVectors(l,u),f.subVectors(s,u),c.cross(f),o[a.a].add(c),o[a.b].add(c),o[a.c].add(c)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(t=0,n=this.vertices.length;t<n;t++)o[t].normalize();for(r=0,i=this.faces.length;r<i;r++){var h=(a=this.faces[r]).vertexNormals;3===h.length?(h[0].copy(o[a.a]),h[1].copy(o[a.b]),h[2].copy(o[a.c])):(h[0]=o[a.a].clone(),h[1]=o[a.b].clone(),h[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var a=new Ni;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)u=new mn,l={a:new mn,b:new mn,c:new mn},o.push(u),s.push(l)}var u,l,c=this.morphNormals[e];for(a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],u=c.faceNormals[n],l=c.vertexNormals[n],u.copy(i.normal),l.a.copy(i.vertexNormals[0]),l.b.copy(i.vertexNormals[1]),l.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new cr),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new dr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,u=e.faces,l=this.colors,c=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new yn).getNormalMatrix(t));for(var f=0,h=o.length;f<h;f++){var d=o[f].clone();void 0!==t&&d.applyMatrix4(t),a.push(d)}for(f=0,h=c.length;f<h;f++)l.push(c[f].clone());for(f=0,h=u.length;f<h;f++){var p,m,v,g=u[f],y=g.vertexNormals,b=g.vertexColors;(p=new jr(g.a+i,g.b+i,g.c+i)).normal.copy(g.normal),void 0!==r&&p.normal.applyMatrix3(r).normalize();for(var x=0,_=y.length;x<_;x++)m=y[x].clone(),void 0!==r&&m.applyMatrix3(r).normalize(),p.vertexNormals.push(m);p.color.copy(g.color);for(x=0,_=b.length;x<_;x++)v=b[x],p.vertexColors.push(v.clone());p.materialIndex=g.materialIndex+n,s.push(p)}for(f=0,h=e.faceVertexUvs.length;f<h;f++){var w=e.faceVertexUvs[f];void 0===this.faceVertexUvs[f]&&(this.faceVertexUvs[f]=[]);for(x=0,_=w.length;x<_;x++){for(var E=w[x],M=[],S=0,T=E.length;S<T;S++)M.push(E[S].clone());this.faceVertexUvs[f].push(M)}}}else console.error(\"THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.\",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error(\"THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.\",e)},mergeVertices:function(){var e,t,n,r,i,a,o,s,u={},l=[],c=[],f=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)e=this.vertices[n],void 0===u[t=Math.round(e.x*f)+\"_\"+Math.round(e.y*f)+\"_\"+Math.round(e.z*f)]?(u[t]=n,l.push(this.vertices[n]),c[n]=l.length-1):c[n]=c[u[t]];var h=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=c[i.a],i.b=c[i.b],i.c=c[i.c],a=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(a[d]===a[(d+1)%3]){h.push(n);break}}for(n=h.length-1;n>=0;n--){var p=h[n];for(this.faces.splice(p,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(p,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new mn(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(r=[]),o&&o.length===t&&(i=[]);for(n=0;n<t;n++){var s=e[n]._id;r&&r.push(a[s]),i&&i.push(o[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:\"Geometry\",generator:\"Geometry.toJSON\"}};if(e.uuid=this.uuid,e.type=this.type,\"\"!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];r.push(a.x,a.y,a.z)}var o=[],s=[],u={},l=[],c={},f=[],h={};for(i=0;i<this.faces.length;i++){var d=this.faces[i],p=void 0!==this.faceVertexUvs[0][i],m=d.normal.length()>0,v=d.vertexNormals.length>0,g=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,b=0;if(b=E(b,0,0),b=E(b,1,!0),b=E(b,2,!1),b=E(b,3,p),b=E(b,4,m),b=E(b,5,v),b=E(b,6,g),b=E(b,7,y),o.push(b),o.push(d.a,d.b,d.c),o.push(d.materialIndex),p){var x=this.faceVertexUvs[0][i];o.push(T(x[0]),T(x[1]),T(x[2]))}if(m&&o.push(M(d.normal)),v){var _=d.vertexNormals;o.push(M(_[0]),M(_[1]),M(_[2]))}if(g&&o.push(S(d.color)),y){var w=d.vertexColors;o.push(S(w[0]),S(w[1]),S(w[2]))}}function E(e,t,n){return n?e|1<<t:e&~(1<<t)}function M(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==u[t]?u[t]:(u[t]=s.length/3,s.push(e.x,e.y,e.z),u[t])}function S(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==c[t]?c[t]:(c[t]=l.length,l.push(e.getHex()),c[t])}function T(e){var t=e.x.toString()+e.y.toString();return void 0!==h[t]?h[t]:(h[t]=f.length/2,f.push(e.x,e.y),h[t])}return e.data={},e.data.vertices=r,e.data.normals=s,l.length>0&&(e.data.colors=l),f.length>0&&(e.data.uvs=[f]),e.data.faces=o,e},clone:function(){return(new Ni).copy(this)},copy:function(e){var t,n,r,i,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;var s=e.vertices;for(t=0,n=s.length;t<n;t++)this.vertices.push(s[t].clone());var u=e.colors;for(t=0,n=u.length;t<n;t++)this.colors.push(u[t].clone());var l=e.faces;for(t=0,n=l.length;t<n;t++)this.faces.push(l[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var c=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=c.length;r<i;r++){var f=c[r],h=[];for(a=0,o=f.length;a<o;a++){var d=f[a];h.push(d.clone())}this.faceVertexUvs[t].push(h)}}var p=e.morphTargets;for(t=0,n=p.length;t<n;t++){var m={};if(m.name=p[t].name,void 0!==p[t].vertices)for(m.vertices=[],r=0,i=p[t].vertices.length;r<i;r++)m.vertices.push(p[t].vertices[r].clone());if(void 0!==p[t].normals)for(m.normals=[],r=0,i=p[t].normals.length;r<i;r++)m.normals.push(p[t].normals[r].clone());this.morphTargets.push(m)}var v=e.morphNormals;for(t=0,n=v.length;t<n;t++){var g={};if(void 0!==v[t].vertexNormals)for(g.vertexNormals=[],r=0,i=v[t].vertexNormals.length;r<i;r++){var y=v[t].vertexNormals[r],b={};b.a=y.a.clone(),b.b=y.b.clone(),b.c=y.c.clone(),g.vertexNormals.push(b)}if(void 0!==v[t].faceNormals)for(g.faceNormals=[],r=0,i=v[t].faceNormals.length;r<i;r++)g.faceNormals.push(v[t].faceNormals[r].clone());this.morphNormals.push(g)}var x=e.skinWeights;for(t=0,n=x.length;t<n;t++)this.skinWeights.push(x[t].clone());var _=e.skinIndices;for(t=0,n=_.length;t<n;t++)this.skinIndices.push(_[t].clone());var w=e.lineDistances;for(t=0,n=w.length;t<n;t++)this.lineDistances.push(w[t]);var E=e.boundingBox;null!==E&&(this.boundingBox=E.clone());var M=e.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}}),Ii.prototype=Object.create(Ni.prototype),Ii.prototype.constructor=Ii,Di.prototype=Object.create(li.prototype),Di.prototype.constructor=Di;var Bi={clone:zi,merge:Fi},ji=\"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\",Ui=\"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";function Hi(e){Hr.call(this),this.type=\"ShaderMaterial\",this.defines={},this.uniforms={},this.vertexShader=ji,this.fragmentShader=Ui,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error(\"THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.\"),this.setValues(e))}function Gi(){Zn.call(this),this.type=\"Camera\",this.matrixWorldInverse=new Ln,this.projectionMatrix=new Ln,this.projectionMatrixInverse=new Ln}function Vi(e,t,n,r){Gi.call(this),this.type=\"PerspectiveCamera\",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Hi.prototype=Object.create(Hr.prototype),Hi.prototype.constructor=Hi,Hi.prototype.isShaderMaterial=!0,Hi.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=zi(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Hi.prototype.toJSON=function(e){var t=Hr.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:\"t\",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:\"c\",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:\"v2\",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:\"v3\",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:\"v4\",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:\"m3\",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:\"m4\",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var a in this.extensions)!0===this.extensions[a]&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},Gi.prototype=Object.assign(Object.create(Zn.prototype),{constructor:Gi,isCamera:!0,copy:function(e,t){return Zn.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn(\"THREE.Camera: .getWorldDirection() target is now required\"),e=new mn),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Zn.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Vi.prototype=Object.assign(Object.create(Gi.prototype),{constructor:Vi,isPerspectiveCamera:!0,copy:function(e,t){return Gi.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*cn.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*cn.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*cn.RAD2DEG*Math.atan(Math.tan(.5*cn.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*cn.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Zn.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});var Wi=90,qi=1;function Xi(e,t,n,r){Zn.call(this),this.type=\"CubeCamera\";var i=new Vi(Wi,qi,e,t);i.up.set(0,-1,0),i.lookAt(new mn(1,0,0)),this.add(i);var a=new Vi(Wi,qi,e,t);a.up.set(0,-1,0),a.lookAt(new mn(-1,0,0)),this.add(a);var o=new Vi(Wi,qi,e,t);o.up.set(0,0,1),o.lookAt(new mn(0,1,0)),this.add(o);var s=new Vi(Wi,qi,e,t);s.up.set(0,0,-1),s.lookAt(new mn(0,-1,0)),this.add(s);var u=new Vi(Wi,qi,e,t);u.up.set(0,-1,0),u.lookAt(new mn(0,0,1)),this.add(u);var l=new Vi(Wi,qi,e,t);l.up.set(0,-1,0),l.lookAt(new mn(0,0,-1)),this.add(l),r=r||{format:Ve,magFilter:Te,minFilter:Te},this.renderTarget=new Yi(n,n,r),this.renderTarget.texture.name=\"CubeCamera\",this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=e.getRenderTarget(),r=this.renderTarget,c=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,a),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,s),e.setRenderTarget(r,4),e.render(t,u),r.texture.generateMipmaps=c,e.setRenderTarget(r,5),e.render(t,l),e.setRenderTarget(n)},this.clear=function(e,t,n,r){for(var i=e.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)e.setRenderTarget(a,o),e.clear(t,n,r);e.setRenderTarget(i)}}function Yi(e,t,n){En.call(this,e,t,n)}function Qi(e,t,n,r,i,a,o,s,u,l,c,f){_n.call(this,null,a,o,s,u,l,r,i,c,f),this.image={data:e,width:t,height:n},this.magFilter=void 0!==u?u:_e,this.minFilter=void 0!==l?l:_e,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}Xi.prototype=Object.create(Zn.prototype),Xi.prototype.constructor=Xi,Yi.prototype=Object.create(En.prototype),Yi.prototype.constructor=Yi,Yi.prototype.isWebGLRenderTargetCube=!0,Yi.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var n=new Jn,r={uniforms:{tEquirect:{value:null}},vertexShader:[\"varying vec3 vWorldDirection;\",\"vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\",\"\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\",\"}\",\"void main() {\",\"\\tvWorldDirection = transformDirection( position, modelMatrix );\",\"\\t#include <begin_vertex>\",\"\\t#include <project_vertex>\",\"}\"].join(\"\\n\"),fragmentShader:[\"uniform sampler2D tEquirect;\",\"varying vec3 vWorldDirection;\",\"#define RECIPROCAL_PI 0.31830988618\",\"#define RECIPROCAL_PI2 0.15915494\",\"void main() {\",\"\\tvec3 direction = normalize( vWorldDirection );\",\"\\tvec2 sampleUV;\",\"\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\",\"\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\",\"\\tgl_FragColor = texture2D( tEquirect, sampleUV );\",\"}\"].join(\"\\n\")},i=new Hi({type:\"CubemapFromEquirect\",uniforms:zi(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:y,blending:S});i.uniforms.tEquirect.value=t;var a=new Ci(new Di(5,5,5),i);n.add(a);var o=new Xi(1,10,1);return o.renderTarget=this,o.renderTarget.texture.name=\"CubeCameraTexture\",o.update(e,n),a.geometry.dispose(),a.material.dispose(),this},Qi.prototype=Object.create(_n.prototype),Qi.prototype.constructor=Qi,Qi.prototype.isDataTexture=!0;var Zi=new mn,Ji=new mn,$i=new yn;function Ki(e,t){this.normal=void 0!==e?e:new mn(1,0,0),this.constant=void 0!==t?t:0}Object.assign(Ki.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){var r=Zi.subVectors(n,t).cross(Ji.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn(\"THREE.Plane: .projectPoint() target is now required\"),t=new mn),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn(\"THREE.Plane: .intersectLine() target is now required\"),t=new mn);var n=e.delta(Zi),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:t.copy(n).multiplyScalar(i).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn(\"THREE.Plane: .coplanarPoint() target is now required\"),e=new mn),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var n=t||$i.getNormalMatrix(e),r=this.coplanarPoint(Zi).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var ea=new dr,ta=new mn;function na(e,t,n,r,i,a){this.planes=[void 0!==e?e:new Ki,void 0!==t?t:new Ki,void 0!==n?n:new Ki,void 0!==r?r:new Ki,void 0!==i?i:new Ki,void 0!==a?a:new Ki]}Object.assign(na.prototype,{set:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],l=n[6],c=n[7],f=n[8],h=n[9],d=n[10],p=n[11],m=n[12],v=n[13],g=n[14],y=n[15];return t[0].setComponents(o-r,c-s,p-f,y-m).normalize(),t[1].setComponents(o+r,c+s,p+f,y+m).normalize(),t[2].setComponents(o+i,c+u,p+h,y+v).normalize(),t[3].setComponents(o-i,c-u,p-h,y-v).normalize(),t[4].setComponents(o-a,c-l,p-d,y-g).normalize(),t[5].setComponents(o+a,c+l,p+d,y+g).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ea.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(ea)},intersectsSprite:function(e){return ea.center.set(0,0,0),ea.radius=.7071067811865476,ea.applyMatrix4(e.matrixWorld),this.intersectsSphere(ea)},intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(ta.x=r.normal.x>0?e.max.x:e.min.x,ta.y=r.normal.y>0?e.max.y:e.min.y,ta.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(ta)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var ra={alphamap_fragment:\"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\",alphamap_pars_fragment:\"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\",alphatest_fragment:\"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\",aomap_fragment:\"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\",aomap_pars_fragment:\"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\",begin_vertex:\"vec3 transformed = vec3( position );\",beginnormal_vertex:\"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\",bsdfs:\"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha  = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\",bumpmap_pars_fragment:\"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\",clipping_planes_fragment:\"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\",clipping_planes_pars_fragment:\"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\",clipping_planes_pars_vertex:\"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\",clipping_planes_vertex:\"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\",color_fragment:\"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\",color_pars_fragment:\"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\",color_pars_vertex:\"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\",color_vertex:\"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\",common:\"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\",cube_uv_reflection_fragment:\"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\",defaultnormal_vertex:\"vec3 transformedNormal = normalMatrix * objectNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = normalMatrix * objectTangent;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\",displacementmap_pars_vertex:\"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\",displacementmap_vertex:\"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\",emissivemap_fragment:\"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\",emissivemap_pars_fragment:\"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\",encodings_fragment:\"gl_FragColor = linearToOutputTexel( gl_FragColor );\",encodings_pars_fragment:\"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\",envmap_fragment:\"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\",envmap_common_pars_fragment:\"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\",envmap_pars_fragment:\"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\",envmap_pars_vertex:\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\",envmap_physical_pars_fragment:\"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t  vec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\",envmap_vertex:\"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\",fog_vertex:\"#ifdef USE_FOG\\n\\tfogDepth = -mvPosition.z;\\n#endif\",fog_pars_vertex:\"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\",fog_fragment:\"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\",fog_pars_fragment:\"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\",gradientmap_pars_fragment:\"#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\",lightmap_fragment:\"#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\",lightmap_pars_fragment:\"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\",lights_lambert_vertex:\"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\",lights_pars_begin:\"uniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\",lights_phong_fragment:\"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\",lights_phong_pars_fragment:\"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\",lights_physical_fragment:\"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = saturate( clearcoat );\\tmaterial.clearcoatRoughness = clamp( clearcoatRoughness, 0.04, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\",lights_physical_pars_fragment:\"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\",lights_fragment_begin:\"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\",lights_fragment_maps:\"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\",lights_fragment_end:\"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\",logdepthbuf_fragment:\"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\",logdepthbuf_pars_fragment:\"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n#endif\",logdepthbuf_pars_vertex:\"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\",logdepthbuf_vertex:\"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\tgl_Position.z *= gl_Position.w;\\n\\t#endif\\n#endif\",map_fragment:\"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\",map_pars_fragment:\"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\",map_particle_fragment:\"#ifdef USE_MAP\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\",map_particle_pars_fragment:\"#ifdef USE_MAP\\n\\tuniform mat3 uvTransform;\\n\\tuniform sampler2D map;\\n#endif\",metalnessmap_fragment:\"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\",metalnessmap_pars_fragment:\"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\",morphnormal_vertex:\"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\",morphtarget_pars_vertex:\"#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\",morphtarget_vertex:\"#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\",normal_fragment_begin:\"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\",normal_fragment_maps:\"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\t#ifdef USE_TANGENT\\n\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = normalScale * mapN.xy;\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, normalScale, normalMap );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\",normalmap_pars_fragment:\"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec2 normalScale, in sampler2D normalMap ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy *= normalScale;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvec3 NfromST = cross( S, T );\\n\\t\\t\\tif( dot( NfromST, N ) > 0.0 ) {\\n\\t\\t\\t\\tS *= -1.0;\\n\\t\\t\\t\\tT *= -1.0;\\n\\t\\t\\t}\\n\\t\\t#else\\n\\t\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\",clearcoat_normal_fragment_begin:\"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\",clearcoat_normal_fragment_maps:\"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\t#ifdef USE_TANGENT\\n\\t\\tmat3 vTBN = mat3( tangent, bitangent, clearcoatNormal );\\n\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\tmapN.xy = clearcoatNormalScale * mapN.xy;\\n\\t\\tclearcoatNormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatNormalScale, clearcoatNormalMap );\\n\\t#endif\\n#endif\",clearcoat_normalmap_pars_fragment:\"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\",packing:\"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 encodeHalfRGBA ( vec2 v ) {\\n\\tvec4 encoded = vec4( 0.0 );\\n\\tconst vec2 offset = vec2( 1.0 / 255.0, 0.0 );\\n\\tencoded.xy = vec2( v.x, fract( v.x * 255.0 ) );\\n\\tencoded.xy = encoded.xy - ( encoded.yy * offset );\\n\\tencoded.zw = vec2( v.y, fract( v.y * 255.0 ) );\\n\\tencoded.zw = encoded.zw - ( encoded.ww * offset );\\n\\treturn encoded;\\n}\\nvec2 decodeHalfRGBA( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\",premultiplied_alpha_fragment:\"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\",project_vertex:\"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\ngl_Position = projectionMatrix * mvPosition;\",dithering_fragment:\"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\",dithering_pars_fragment:\"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\",roughnessmap_fragment:\"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\",roughnessmap_pars_fragment:\"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\",shadowmap_pars_fragment:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn decodeHalfRGBA( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\",shadowmap_pars_vertex:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\",shadowmap_vertex:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\",shadowmask_pars_fragment:\"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\",skinbase_vertex:\"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\",skinning_pars_vertex:\"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\",skinning_vertex:\"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\",skinnormal_vertex:\"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\",specularmap_fragment:\"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\",specularmap_pars_fragment:\"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\",tonemapping_fragment:\"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\",tonemapping_pars_fragment:\"#ifndef saturate\\n\\t#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\\n}\",uv_pars_fragment:\"#ifdef USE_UV\\n\\tvarying vec2 vUv;\\n#endif\",uv_pars_vertex:\"#ifdef USE_UV\\n\\tvarying vec2 vUv;\\n\\tuniform mat3 uvTransform;\\n#endif\",uv_vertex:\"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\",uv2_pars_fragment:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\",uv2_pars_vertex:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif\",uv2_vertex:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif\",worldpos_vertex:\"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n#endif\",background_frag:\"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\",background_vert:\"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\",cube_frag:\"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\nvoid main() {\\n\\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\",cube_vert:\"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\",depth_frag:\"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\",depth_vert:\"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\",distanceRGBA_frag:\"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\",distanceRGBA_vert:\"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\",equirect_frag:\"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\",equirect_vert:\"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\",linedashed_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\",linedashed_vert:\"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\",meshbasic_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\",meshbasic_vert:\"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\",meshlambert_frag:\"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\",meshlambert_vert:\"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\",meshmatcap_frag:\"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\",meshmatcap_vert:\"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\",meshphong_frag:\"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\",meshphong_vert:\"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\",meshphysical_frag:\"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSPARENCY\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSPARENCY\\n\\tuniform float transparency;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSPARENCY\\n\\t\\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\",meshphysical_vert:\"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\",normal_frag:\"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\",normal_vert:\"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\",points_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\",points_vert:\"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\",shadow_frag:\"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <fog_fragment>\\n}\",shadow_vert:\"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\",sprite_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\",sprite_vert:\"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\"},ia={common:{diffuse:{value:new Dr(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new yn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new fn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Dr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Dr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new yn}},sprite:{diffuse:{value:new Dr(15658734)},opacity:{value:1},center:{value:new fn(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new yn}}},aa={basic:{uniforms:Fi([ia.common,ia.specularmap,ia.envmap,ia.aomap,ia.lightmap,ia.fog]),vertexShader:ra.meshbasic_vert,fragmentShader:ra.meshbasic_frag},lambert:{uniforms:Fi([ia.common,ia.specularmap,ia.envmap,ia.aomap,ia.lightmap,ia.emissivemap,ia.fog,ia.lights,{emissive:{value:new Dr(0)}}]),vertexShader:ra.meshlambert_vert,fragmentShader:ra.meshlambert_frag},phong:{uniforms:Fi([ia.common,ia.specularmap,ia.envmap,ia.aomap,ia.lightmap,ia.emissivemap,ia.bumpmap,ia.normalmap,ia.displacementmap,ia.gradientmap,ia.fog,ia.lights,{emissive:{value:new Dr(0)},specular:{value:new Dr(1118481)},shininess:{value:30}}]),vertexShader:ra.meshphong_vert,fragmentShader:ra.meshphong_frag},standard:{uniforms:Fi([ia.common,ia.envmap,ia.aomap,ia.lightmap,ia.emissivemap,ia.bumpmap,ia.normalmap,ia.displacementmap,ia.roughnessmap,ia.metalnessmap,ia.fog,ia.lights,{emissive:{value:new Dr(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ra.meshphysical_vert,fragmentShader:ra.meshphysical_frag},matcap:{uniforms:Fi([ia.common,ia.bumpmap,ia.normalmap,ia.displacementmap,ia.fog,{matcap:{value:null}}]),vertexShader:ra.meshmatcap_vert,fragmentShader:ra.meshmatcap_frag},points:{uniforms:Fi([ia.points,ia.fog]),vertexShader:ra.points_vert,fragmentShader:ra.points_frag},dashed:{uniforms:Fi([ia.common,ia.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ra.linedashed_vert,fragmentShader:ra.linedashed_frag},depth:{uniforms:Fi([ia.common,ia.displacementmap]),vertexShader:ra.depth_vert,fragmentShader:ra.depth_frag},normal:{uniforms:Fi([ia.common,ia.bumpmap,ia.normalmap,ia.displacementmap,{opacity:{value:1}}]),vertexShader:ra.normal_vert,fragmentShader:ra.normal_frag},sprite:{uniforms:Fi([ia.sprite,ia.fog]),vertexShader:ra.sprite_vert,fragmentShader:ra.sprite_frag},background:{uniforms:{uvTransform:{value:new yn},t2D:{value:null}},vertexShader:ra.background_vert,fragmentShader:ra.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ra.cube_vert,fragmentShader:ra.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ra.equirect_vert,fragmentShader:ra.equirect_frag},distanceRGBA:{uniforms:Fi([ia.common,ia.displacementmap,{referencePosition:{value:new mn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ra.distanceRGBA_vert,fragmentShader:ra.distanceRGBA_frag},shadow:{uniforms:Fi([ia.lights,ia.fog,{color:{value:new Dr(0)},opacity:{value:1}}]),vertexShader:ra.shadow_vert,fragmentShader:ra.shadow_frag}};function oa(){var e=null,t=!1,n=null;function r(i,a){!1!==t&&(n(i,a),e.requestAnimationFrame(r))}return{start:function(){!0!==t&&null!==n&&(e.requestAnimationFrame(r),t=!0)},stop:function(){t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function sa(e){var t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=t.get(n);void 0===i?t.set(n,function(t,n){var r=t.array,i=t.dynamic?35048:35044,a=e.createBuffer();e.bindBuffer(n,a),e.bufferData(n,r,i),t.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array?console.warn(\"THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.\"):r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(n,r)):i.version<n.version&&(!function(t,n,r){var i=n.array,a=n.updateRange;e.bindBuffer(r,t),!1===n.dynamic?e.bufferData(r,i,35044):-1===a.count?e.bufferSubData(r,0,i):0===a.count?console.error(\"THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.\"):(e.bufferSubData(r,a.offset*i.BYTES_PER_ELEMENT,i.subarray(a.offset,a.offset+a.count)),a.count=-1)}(i.buffer,n,r),i.version=n.version)}}}function ua(e,t,n,r){Ni.call(this),this.type=\"PlaneGeometry\",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new la(e,t,n,r)),this.mergeVertices()}function la(e,t,n,r){li.call(this),this.type=\"PlaneBufferGeometry\",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i,a,o=(e=e||1)/2,s=(t=t||1)/2,u=Math.floor(n)||1,l=Math.floor(r)||1,c=u+1,f=l+1,h=e/u,d=t/l,p=[],m=[],v=[],g=[];for(a=0;a<f;a++){var y=a*d-s;for(i=0;i<c;i++){var b=i*h-o;m.push(b,-y,0),v.push(0,0,1),g.push(i/u),g.push(1-a/l)}}for(a=0;a<l;a++)for(i=0;i<u;i++){var x=i+c*a,_=i+c*(a+1),w=i+1+c*(a+1),E=i+1+c*a;p.push(x,_,E),p.push(_,w,E)}this.setIndex(p),this.addAttribute(\"position\",new $r(m,3)),this.addAttribute(\"normal\",new $r(v,3)),this.addAttribute(\"uv\",new $r(g,2))}function ca(e,t,n,r){var i,a,o=new Dr(0),s=0,u=null,l=0;function c(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return o},setClearColor:function(e,t){o.set(e),c(o,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){c(o,s=e)},render:function(t,r,f,h){var d=r.background,p=e.vr,m=p.getSession&&p.getSession();if(m&&\"additive\"===m.environmentBlendMode&&(d=null),null===d?(c(o,s),u=null,l=0):d&&d.isColor&&(c(d,1),h=!0,u=null,l=0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&(d.isCubeTexture||d.isWebGLRenderTargetCube)){void 0===a&&((a=new Ci(new Di(1,1,1),new Hi({type:\"BackgroundCubeMaterial\",uniforms:zi(aa.cube.uniforms),vertexShader:aa.cube.vertexShader,fragmentShader:aa.cube.fragmentShader,side:y,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute(\"normal\"),a.geometry.removeAttribute(\"uv\"),a.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,\"map\",{get:function(){return this.uniforms.tCube.value}}),n.update(a));var v=d.isWebGLRenderTargetCube?d.texture:d;a.material.uniforms.tCube.value=v,a.material.uniforms.tFlip.value=d.isWebGLRenderTargetCube?1:-1,u===d&&l===v.version||(a.material.needsUpdate=!0,u=d,l=v.version),t.unshift(a,a.geometry,a.material,0,0,null)}else d&&d.isTexture&&(void 0===i&&((i=new Ci(new la(2,2),new Hi({type:\"BackgroundMaterial\",uniforms:zi(aa.background.uniforms),vertexShader:aa.background.vertexShader,fragmentShader:aa.background.fragmentShader,side:g,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute(\"normal\"),Object.defineProperty(i.material,\"map\",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=d,!0===d.matrixAutoUpdate&&d.updateMatrix(),i.material.uniforms.uvTransform.value.copy(d.matrix),u===d&&l===d.version||(i.material.needsUpdate=!0,u=d,l=d.version),t.unshift(i,i.geometry,i.material,0,0,null))}}}function fa(e,t,n,r){var i;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(a,o,s){var u,l;if(r.isWebGL2)u=e,l=\"drawArraysInstanced\";else if(l=\"drawArraysInstancedANGLE\",null===(u=t.get(\"ANGLE_instanced_arrays\")))return void console.error(\"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\");u[l](i,o,s,a.maxInstancedCount),n.update(s,i,a.maxInstancedCount)}}function ha(e,t,n){var r;function i(t){if(\"highp\"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return\"highp\";t=\"mediump\"}return\"mediump\"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?\"mediump\":\"lowp\"}var a=\"undefined\"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,o=void 0!==n.precision?n.precision:\"highp\",s=i(o);s!==o&&(console.warn(\"THREE.WebGLRenderer:\",o,\"not supported, using\",s,\"instead.\"),o=s);var u=!0===n.logarithmicDepthBuffer,l=e.getParameter(34930),c=e.getParameter(35660),f=e.getParameter(3379),h=e.getParameter(34076),d=e.getParameter(34921),p=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=c>0,y=a||!!t.get(\"OES_texture_float\");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get(\"EXT_texture_filter_anisotropic\");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:c,maxTextureSize:f,maxCubemapSize:h,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?e.getParameter(36183):0}}function da(){var e=this,t=null,n=0,r=!1,i=!1,a=new Ki,o=new yn,s={value:null,needsUpdate:!1};function u(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function l(t,n,r,i){var u=null!==t?t.length:0,l=null;if(0!==u){if(l=s.value,!0!==i||null===l){var c=r+4*u,f=n.matrixWorldInverse;o.getNormalMatrix(f),(null===l||l.length<c)&&(l=new Float32Array(c));for(var h=0,d=r;h!==u;++h,d+=4)a.copy(t[h]).applyMatrix4(f,o),a.normal.toArray(l,d),l[d+3]=a.constant}s.value=l,s.needsUpdate=!0}return e.numPlanes=u,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,a){var o=0!==e.length||i||0!==n||r;return r=i,t=l(e,a,0),n=e.length,o},this.beginShadows=function(){i=!0,l(null)},this.endShadows=function(){i=!1,u()},this.setState=function(e,a,o,c,f,h){if(!r||null===e||0===e.length||i&&!o)i?l(null):u();else{var d=i?0:n,p=4*d,m=f.clippingState||null;s.value=m,m=l(e,c,p,h);for(var v=0;v!==p;++v)m[v]=t[v];f.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=d}}}function pa(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case\"WEBGL_depth_texture\":r=e.getExtension(\"WEBGL_depth_texture\")||e.getExtension(\"MOZ_WEBGL_depth_texture\")||e.getExtension(\"WEBKIT_WEBGL_depth_texture\");break;case\"EXT_texture_filter_anisotropic\":r=e.getExtension(\"EXT_texture_filter_anisotropic\")||e.getExtension(\"MOZ_EXT_texture_filter_anisotropic\")||e.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");break;case\"WEBGL_compressed_texture_s3tc\":r=e.getExtension(\"WEBGL_compressed_texture_s3tc\")||e.getExtension(\"MOZ_WEBGL_compressed_texture_s3tc\")||e.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc\");break;case\"WEBGL_compressed_texture_pvrtc\":r=e.getExtension(\"WEBGL_compressed_texture_pvrtc\")||e.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\");break;default:r=e.getExtension(n)}return null===r&&console.warn(\"THREE.WebGLRenderer: \"+n+\" extension not supported.\"),t[n]=r,r}}}function ma(e,t,n){var r=new WeakMap,i=new WeakMap;function a(e){var o=e.target,s=r.get(o);for(var u in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[u]);o.removeEventListener(\"dispose\",a),r.delete(o);var l=i.get(s);l&&(t.remove(l),i.delete(s)),n.memory.geometries--}function o(e){var n=[],r=e.index,a=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var u=0,l=s.length;u<l;u+=3){var c=s[u+0],f=s[u+1],h=s[u+2];n.push(c,f,f,h,h,c)}}else{s=a.array;o=a.version;for(u=0,l=s.length/3-1;u<l;u+=3){c=u+0,f=u+1,h=u+2;n.push(c,f,f,h,h,c)}}var d=new(ti(n)>65535?Jr:Qr)(n,1);d.version=o,t.update(d,34963);var p=i.get(e);p&&t.remove(p),i.set(e,d)}return{get:function(e,t){var i=r.get(t);return i||(t.addEventListener(\"dispose\",a),t.isBufferGeometry?i=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new li).setFromObject(e)),i=t._bufferGeometry),r.set(t,i),n.memory.geometries++,i)},update:function(e){var n=e.index,r=e.attributes;for(var i in null!==n&&t.update(n,34963),r)t.update(r[i],34962);var a=e.morphAttributes;for(var i in a)for(var o=a[i],s=0,u=o.length;s<u;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=i.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&o(e)}else o(e);return i.get(e)}}}function va(e,t,n,r){var i,a,o;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i)},this.renderInstances=function(s,u,l){var c,f;if(r.isWebGL2)c=e,f=\"drawElementsInstanced\";else if(f=\"drawElementsInstancedANGLE\",null===(c=t.get(\"ANGLE_instanced_arrays\")))return void console.error(\"THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\");c[f](i,l,a,u*o,s.maxInstancedCount),n.update(l,i,s.maxInstancedCount)}}function ga(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(r=r||1,t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 5:case 6:t.triangles+=r*(e-2);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error(\"THREE.WebGLInfo: Unknown draw mode:\",n)}}}}function ya(e,t){return Math.abs(t[1])-Math.abs(e[1])}function ba(e){var t={},n=new Float32Array(8);return{update:function(r,i,a,o){var s=r.morphTargetInfluences,u=s.length,l=t[i.id];if(void 0===l){l=[];for(var c=0;c<u;c++)l[c]=[c,0];t[i.id]=l}var f=a.morphTargets&&i.morphAttributes.position,h=a.morphNormals&&i.morphAttributes.normal;for(c=0;c<u;c++){0!==(d=l[c])[1]&&(f&&i.removeAttribute(\"morphTarget\"+c),h&&i.removeAttribute(\"morphNormal\"+c))}for(c=0;c<u;c++){(d=l[c])[0]=c,d[1]=s[c]}for(l.sort(ya),c=0;c<8;c++){var d;if(d=l[c]){var p=d[0],m=d[1];if(m){f&&i.addAttribute(\"morphTarget\"+c,f[p]),h&&i.addAttribute(\"morphNormal\"+c,h[p]),n[c]=m;continue}}n[c]=0}o.getUniforms().setValue(e,\"morphTargetInfluences\",n)}}}function xa(e,t){var n={};return{update:function(r){var i=t.render.frame,a=r.geometry,o=e.get(r,a);return n[o.id]!==i&&(a.isGeometry&&o.updateFromObject(r),e.update(o),n[o.id]=i),o},dispose:function(){n={}}}}function _a(e,t,n,r,i,a,o,s,u,l){e=void 0!==e?e:[],t=void 0!==t?t:fe,o=void 0!==o?o:Ve,_n.call(this,e,t,n,r,i,a,o,s,u,l),this.flipY=!1}function wa(e,t,n,r){_n.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=_e,this.minFilter=_e,this.wrapR=be,this.generateMipmaps=!1,this.flipY=!1}function Ea(e,t,n,r){_n.call(this,null),this.image={data:e,width:t,height:n,depth:r},this.magFilter=_e,this.minFilter=_e,this.wrapR=be,this.generateMipmaps=!1,this.flipY=!1}aa.physical={uniforms:Fi([aa.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new Dr(0)},clearcoatNormalScale:{value:new fn(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:ra.meshphysical_vert,fragmentShader:ra.meshphysical_frag},ua.prototype=Object.create(Ni.prototype),ua.prototype.constructor=ua,la.prototype=Object.create(li.prototype),la.prototype.constructor=la,_a.prototype=Object.create(_n.prototype),_a.prototype.constructor=_a,_a.prototype.isCubeTexture=!0,Object.defineProperty(_a.prototype,\"images\",{get:function(){return this.image},set:function(e){this.image=e}}),wa.prototype=Object.create(_n.prototype),wa.prototype.constructor=wa,wa.prototype.isDataTexture2DArray=!0,Ea.prototype=Object.create(_n.prototype),Ea.prototype.constructor=Ea,Ea.prototype.isDataTexture3D=!0;var Ma=new _n,Sa=new wa,Ta=new Ea,Ca=new _a,Pa=[],Aa=[],ka=new Float32Array(16),Oa=new Float32Array(9),La=new Float32Array(4);function Ra(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=Pa[i];if(void 0===a&&(a=new Float32Array(i),Pa[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function Na(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Ia(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Da(e,t){var n=Aa[t];void 0===n&&(n=new Int32Array(t),Aa[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function za(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Fa(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Na(n,t))return;e.uniform2fv(this.addr,t),Ia(n,t)}}function Ba(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Na(n,t))return;e.uniform3fv(this.addr,t),Ia(n,t)}}function ja(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Na(n,t))return;e.uniform4fv(this.addr,t),Ia(n,t)}}function Ua(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Na(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Ia(n,t)}else{if(Na(n,r))return;La.set(r),e.uniformMatrix2fv(this.addr,!1,La),Ia(n,r)}}function Ha(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Na(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Ia(n,t)}else{if(Na(n,r))return;Oa.set(r),e.uniformMatrix3fv(this.addr,!1,Oa),Ia(n,r)}}function Ga(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Na(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Ia(n,t)}else{if(Na(n,r))return;ka.set(r),e.uniformMatrix4fv(this.addr,!1,ka),Ia(n,r)}}function Va(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||Ma,i)}function Wa(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Sa,i)}function qa(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Ta,i)}function Xa(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||Ca,i)}function Ya(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Qa(e,t){var n=this.cache;Na(n,t)||(e.uniform2iv(this.addr,t),Ia(n,t))}function Za(e,t){var n=this.cache;Na(n,t)||(e.uniform3iv(this.addr,t),Ia(n,t))}function Ja(e,t){var n=this.cache;Na(n,t)||(e.uniform4iv(this.addr,t),Ia(n,t))}function $a(e,t){e.uniform1fv(this.addr,t)}function Ka(e,t){e.uniform1iv(this.addr,t)}function eo(e,t){e.uniform2iv(this.addr,t)}function to(e,t){e.uniform3iv(this.addr,t)}function no(e,t){e.uniform4iv(this.addr,t)}function ro(e,t){var n=Ra(t,this.size,2);e.uniform2fv(this.addr,n)}function io(e,t){var n=Ra(t,this.size,3);e.uniform3fv(this.addr,n)}function ao(e,t){var n=Ra(t,this.size,4);e.uniform4fv(this.addr,n)}function oo(e,t){var n=Ra(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function so(e,t){var n=Ra(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function uo(e,t){var n=Ra(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function lo(e,t,n){var r=t.length,i=Da(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTexture2D(t[a]||Ma,i[a])}function co(e,t,n){var r=t.length,i=Da(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.safeSetTextureCube(t[a]||Ca,i[a])}function fo(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return za;case 35664:return Fa;case 35665:return Ba;case 35666:return ja;case 35674:return Ua;case 35675:return Ha;case 35676:return Ga;case 35678:case 36198:return Va;case 35679:return qa;case 35680:return Xa;case 36289:return Wa;case 5124:case 35670:return Ya;case 35667:case 35671:return Qa;case 35668:case 35672:return Za;case 35669:case 35673:return Ja}}(t.type)}function ho(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return $a;case 35664:return ro;case 35665:return io;case 35666:return ao;case 35674:return oo;case 35675:return so;case 35676:return uo;case 35678:return lo;case 35680:return co;case 5124:case 35670:return Ka;case 35667:case 35671:return eo;case 35668:case 35672:return to;case 35669:case 35673:return no}}(t.type)}function po(e){this.id=e,this.seq=[],this.map={}}ho.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Ia(t,e)},po.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}};var mo=/([\\w\\d_]+)(\\])?(\\[|\\.)?/g;function vo(e,t){e.seq.push(t),e.map[t.id]=t}function go(e,t,n){var r=e.name,i=r.length;for(mo.lastIndex=0;;){var a=mo.exec(r),o=mo.lastIndex,s=a[1],u=\"]\"===a[2],l=a[3];if(u&&(s|=0),void 0===l||\"[\"===l&&o+2===i){vo(n,void 0===l?new fo(s,e,t):new ho(s,e,t));break}var c=n.map[s];void 0===c&&vo(n,c=new po(s)),n=c}}function yo(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);go(i,e.getUniformLocation(t,i.name),this)}}function bo(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}yo.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},yo.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},yo.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},yo.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};var xo=0;function _o(e){switch(e){case Rt:return[\"Linear\",\"( value )\"];case Nt:return[\"sRGB\",\"( value )\"];case Dt:return[\"RGBE\",\"( value )\"];case Ft:return[\"RGBM\",\"( value, 7.0 )\"];case Bt:return[\"RGBM\",\"( value, 16.0 )\"];case jt:return[\"RGBD\",\"( value, 256.0 )\"];case It:return[\"Gamma\",\"( value, float( GAMMA_FACTOR ) )\"];case zt:return[\"LogLuv\",\"( value )\"];default:throw new Error(\"unsupported encoding: \"+e)}}function wo(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&\"\"===i?\"\":\"THREE.WebGLShader: gl.getShaderInfoLog() \"+n+\"\\n\"+i+function(e){for(var t=e.split(\"\\n\"),n=0;n<t.length;n++)t[n]=n+1+\": \"+t[n];return t.join(\"\\n\")}(e.getShaderSource(t))}function Eo(e,t){var n=_o(t);return\"vec4 \"+e+\"( vec4 value ) { return \"+n[0]+\"ToLinear\"+n[1]+\"; }\"}function Mo(e,t){var n;switch(t){case ae:n=\"Linear\";break;case oe:n=\"Reinhard\";break;case se:n=\"Uncharted2\";break;case ue:n=\"OptimizedCineon\";break;case le:n=\"ACESFilmic\";break;default:throw new Error(\"unsupported toneMapping: \"+t)}return\"vec3 \"+e+\"( vec3 color ) { return \"+n+\"ToneMapping( color ); }\"}function So(e){return\"\"!==e}function To(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Co(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function Po(e){return e.replace(/^[ \\t]*#include +<([\\w\\d.\\/]+)>/gm,(function(e,t){var n=ra[t];if(void 0===n)throw new Error(\"Can not resolve #include <\"+t+\">\");return Po(n)}))}function Ao(e){return e.replace(/#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g,(function(e,t,n,r){for(var i=\"\",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\\[ i \\]/g,\"[ \"+a+\" ]\").replace(/UNROLLED_LOOP_INDEX/g,a);return i}))}function ko(e,t,n,r,i,a,o){var s=e.getContext(),u=r.defines,l=i.vertexShader,c=i.fragmentShader,f=\"SHADOWMAP_TYPE_BASIC\";a.shadowMapType===p?f=\"SHADOWMAP_TYPE_PCF\":a.shadowMapType===m?f=\"SHADOWMAP_TYPE_PCF_SOFT\":a.shadowMapType===v&&(f=\"SHADOWMAP_TYPE_VSM\");var h=\"ENVMAP_TYPE_CUBE\",d=\"ENVMAP_MODE_REFLECTION\",g=\"ENVMAP_BLENDING_MULTIPLY\";if(a.envMap){switch(r.envMap.mapping){case fe:case he:h=\"ENVMAP_TYPE_CUBE\";break;case ve:case ge:h=\"ENVMAP_TYPE_CUBE_UV\";break;case de:case pe:h=\"ENVMAP_TYPE_EQUIREC\";break;case me:h=\"ENVMAP_TYPE_SPHERE\"}switch(r.envMap.mapping){case he:case pe:d=\"ENVMAP_MODE_REFRACTION\"}switch(r.combine){case te:g=\"ENVMAP_BLENDING_MULTIPLY\";break;case ne:g=\"ENVMAP_BLENDING_MIX\";break;case re:g=\"ENVMAP_BLENDING_ADD\"}}var y,b,x,_,w,E=e.gammaFactor>0?e.gammaFactor:1,M=o.isWebGL2?\"\":function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading?\"#extension GL_OES_standard_derivatives : enable\":\"\",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get(\"EXT_frag_depth\")?\"#extension GL_EXT_frag_depth : enable\":\"\",e.drawBuffers&&n.get(\"WEBGL_draw_buffers\")?\"#extension GL_EXT_draw_buffers : require\":\"\",(e.shaderTextureLOD||t.envMap)&&n.get(\"EXT_shader_texture_lod\")?\"#extension GL_EXT_shader_texture_lod : enable\":\"\"].filter(So).join(\"\\n\")}(r.extensions,a,t),S=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push(\"#define \"+n+\" \"+r)}return t.join(\"\\n\")}(u),T=s.createProgram();if(r.isRawShaderMaterial?((y=[S].filter(So).join(\"\\n\")).length>0&&(y+=\"\\n\"),(b=[M,S].filter(So).join(\"\\n\")).length>0&&(b+=\"\\n\")):(y=[\"precision \"+a.precision+\" float;\",\"precision \"+a.precision+\" int;\",\"highp\"===a.precision?\"#define HIGH_PRECISION\":\"\",\"#define SHADER_NAME \"+i.name,S,a.supportsVertexTextures?\"#define VERTEX_TEXTURES\":\"\",\"#define GAMMA_FACTOR \"+E,\"#define MAX_BONES \"+a.maxBones,a.useFog&&a.fog?\"#define USE_FOG\":\"\",a.useFog&&a.fogExp2?\"#define FOG_EXP2\":\"\",a.map?\"#define USE_MAP\":\"\",a.envMap?\"#define USE_ENVMAP\":\"\",a.envMap?\"#define \"+d:\"\",a.lightMap?\"#define USE_LIGHTMAP\":\"\",a.aoMap?\"#define USE_AOMAP\":\"\",a.emissiveMap?\"#define USE_EMISSIVEMAP\":\"\",a.bumpMap?\"#define USE_BUMPMAP\":\"\",a.normalMap?\"#define USE_NORMALMAP\":\"\",a.normalMap&&a.objectSpaceNormalMap?\"#define OBJECTSPACE_NORMALMAP\":\"\",a.normalMap&&a.tangentSpaceNormalMap?\"#define TANGENTSPACE_NORMALMAP\":\"\",a.clearcoatNormalMap?\"#define USE_CLEARCOAT_NORMALMAP\":\"\",a.displacementMap&&a.supportsVertexTextures?\"#define USE_DISPLACEMENTMAP\":\"\",a.specularMap?\"#define USE_SPECULARMAP\":\"\",a.roughnessMap?\"#define USE_ROUGHNESSMAP\":\"\",a.metalnessMap?\"#define USE_METALNESSMAP\":\"\",a.alphaMap?\"#define USE_ALPHAMAP\":\"\",a.vertexTangents?\"#define USE_TANGENT\":\"\",a.vertexColors?\"#define USE_COLOR\":\"\",a.vertexUvs?\"#define USE_UV\":\"\",a.flatShading?\"#define FLAT_SHADED\":\"\",a.skinning?\"#define USE_SKINNING\":\"\",a.useVertexTexture?\"#define BONE_TEXTURE\":\"\",a.morphTargets?\"#define USE_MORPHTARGETS\":\"\",a.morphNormals&&!1===a.flatShading?\"#define USE_MORPHNORMALS\":\"\",a.doubleSided?\"#define DOUBLE_SIDED\":\"\",a.flipSided?\"#define FLIP_SIDED\":\"\",a.shadowMapEnabled?\"#define USE_SHADOWMAP\":\"\",a.shadowMapEnabled?\"#define \"+f:\"\",a.sizeAttenuation?\"#define USE_SIZEATTENUATION\":\"\",a.logarithmicDepthBuffer?\"#define USE_LOGDEPTHBUF\":\"\",a.logarithmicDepthBuffer&&(o.isWebGL2||t.get(\"EXT_frag_depth\"))?\"#define USE_LOGDEPTHBUF_EXT\":\"\",\"uniform mat4 modelMatrix;\",\"uniform mat4 modelViewMatrix;\",\"uniform mat4 projectionMatrix;\",\"uniform mat4 viewMatrix;\",\"uniform mat3 normalMatrix;\",\"uniform vec3 cameraPosition;\",\"attribute vec3 position;\",\"attribute vec3 normal;\",\"attribute vec2 uv;\",\"#ifdef USE_TANGENT\",\"\\tattribute vec4 tangent;\",\"#endif\",\"#ifdef USE_COLOR\",\"\\tattribute vec3 color;\",\"#endif\",\"#ifdef USE_MORPHTARGETS\",\"\\tattribute vec3 morphTarget0;\",\"\\tattribute vec3 morphTarget1;\",\"\\tattribute vec3 morphTarget2;\",\"\\tattribute vec3 morphTarget3;\",\"\\t#ifdef USE_MORPHNORMALS\",\"\\t\\tattribute vec3 morphNormal0;\",\"\\t\\tattribute vec3 morphNormal1;\",\"\\t\\tattribute vec3 morphNormal2;\",\"\\t\\tattribute vec3 morphNormal3;\",\"\\t#else\",\"\\t\\tattribute vec3 morphTarget4;\",\"\\t\\tattribute vec3 morphTarget5;\",\"\\t\\tattribute vec3 morphTarget6;\",\"\\t\\tattribute vec3 morphTarget7;\",\"\\t#endif\",\"#endif\",\"#ifdef USE_SKINNING\",\"\\tattribute vec4 skinIndex;\",\"\\tattribute vec4 skinWeight;\",\"#endif\",\"\\n\"].filter(So).join(\"\\n\"),b=[M,\"precision \"+a.precision+\" float;\",\"precision \"+a.precision+\" int;\",\"highp\"===a.precision?\"#define HIGH_PRECISION\":\"\",\"#define SHADER_NAME \"+i.name,S,a.alphaTest?\"#define ALPHATEST \"+a.alphaTest+(a.alphaTest%1?\"\":\".0\"):\"\",\"#define GAMMA_FACTOR \"+E,a.useFog&&a.fog?\"#define USE_FOG\":\"\",a.useFog&&a.fogExp2?\"#define FOG_EXP2\":\"\",a.map?\"#define USE_MAP\":\"\",a.matcap?\"#define USE_MATCAP\":\"\",a.envMap?\"#define USE_ENVMAP\":\"\",a.envMap?\"#define \"+h:\"\",a.envMap?\"#define \"+d:\"\",a.envMap?\"#define \"+g:\"\",a.lightMap?\"#define USE_LIGHTMAP\":\"\",a.aoMap?\"#define USE_AOMAP\":\"\",a.emissiveMap?\"#define USE_EMISSIVEMAP\":\"\",a.bumpMap?\"#define USE_BUMPMAP\":\"\",a.normalMap?\"#define USE_NORMALMAP\":\"\",a.normalMap&&a.objectSpaceNormalMap?\"#define OBJECTSPACE_NORMALMAP\":\"\",a.normalMap&&a.tangentSpaceNormalMap?\"#define TANGENTSPACE_NORMALMAP\":\"\",a.clearcoatNormalMap?\"#define USE_CLEARCOAT_NORMALMAP\":\"\",a.specularMap?\"#define USE_SPECULARMAP\":\"\",a.roughnessMap?\"#define USE_ROUGHNESSMAP\":\"\",a.metalnessMap?\"#define USE_METALNESSMAP\":\"\",a.alphaMap?\"#define USE_ALPHAMAP\":\"\",a.sheen?\"#define USE_SHEEN\":\"\",a.vertexTangents?\"#define USE_TANGENT\":\"\",a.vertexColors?\"#define USE_COLOR\":\"\",a.vertexUvs?\"#define USE_UV\":\"\",a.gradientMap?\"#define USE_GRADIENTMAP\":\"\",a.flatShading?\"#define FLAT_SHADED\":\"\",a.doubleSided?\"#define DOUBLE_SIDED\":\"\",a.flipSided?\"#define FLIP_SIDED\":\"\",a.shadowMapEnabled?\"#define USE_SHADOWMAP\":\"\",a.shadowMapEnabled?\"#define \"+f:\"\",a.premultipliedAlpha?\"#define PREMULTIPLIED_ALPHA\":\"\",a.physicallyCorrectLights?\"#define PHYSICALLY_CORRECT_LIGHTS\":\"\",a.logarithmicDepthBuffer?\"#define USE_LOGDEPTHBUF\":\"\",a.logarithmicDepthBuffer&&(o.isWebGL2||t.get(\"EXT_frag_depth\"))?\"#define USE_LOGDEPTHBUF_EXT\":\"\",(r.extensions&&r.extensions.shaderTextureLOD||a.envMap)&&(o.isWebGL2||t.get(\"EXT_shader_texture_lod\"))?\"#define TEXTURE_LOD_EXT\":\"\",\"uniform mat4 viewMatrix;\",\"uniform vec3 cameraPosition;\",a.toneMapping!==ie?\"#define TONE_MAPPING\":\"\",a.toneMapping!==ie?ra.tonemapping_pars_fragment:\"\",a.toneMapping!==ie?Mo(\"toneMapping\",a.toneMapping):\"\",a.dithering?\"#define DITHERING\":\"\",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?ra.encodings_pars_fragment:\"\",a.mapEncoding?Eo(\"mapTexelToLinear\",a.mapEncoding):\"\",a.matcapEncoding?Eo(\"matcapTexelToLinear\",a.matcapEncoding):\"\",a.envMapEncoding?Eo(\"envMapTexelToLinear\",a.envMapEncoding):\"\",a.emissiveMapEncoding?Eo(\"emissiveMapTexelToLinear\",a.emissiveMapEncoding):\"\",a.outputEncoding?(x=\"linearToOutputTexel\",_=a.outputEncoding,w=_o(_),\"vec4 \"+x+\"( vec4 value ) { return LinearTo\"+w[0]+w[1]+\"; }\"):\"\",a.depthPacking?\"#define DEPTH_PACKING \"+r.depthPacking:\"\",\"\\n\"].filter(So).join(\"\\n\")),l=Co(l=To(l=Po(l),a),a),c=Co(c=To(c=Po(c),a),a),l=Ao(l),c=Ao(c),o.isWebGL2&&!r.isRawShaderMaterial){var C=!1,P=/^\\s*#version\\s+300\\s+es\\s*\\n/;r.isShaderMaterial&&null!==l.match(P)&&null!==c.match(P)&&(C=!0,l=l.replace(P,\"\"),c=c.replace(P,\"\")),y=[\"#version 300 es\\n\",\"#define attribute in\",\"#define varying out\",\"#define texture2D texture\"].join(\"\\n\")+\"\\n\"+y,b=[\"#version 300 es\\n\",\"#define varying in\",C?\"\":\"out highp vec4 pc_fragColor;\",C?\"\":\"#define gl_FragColor pc_fragColor\",\"#define gl_FragDepthEXT gl_FragDepth\",\"#define texture2D texture\",\"#define textureCube texture\",\"#define texture2DProj textureProj\",\"#define texture2DLodEXT textureLod\",\"#define texture2DProjLodEXT textureProjLod\",\"#define textureCubeLodEXT textureLod\",\"#define texture2DGradEXT textureGrad\",\"#define texture2DProjGradEXT textureProjGrad\",\"#define textureCubeGradEXT textureGrad\"].join(\"\\n\")+\"\\n\"+b}var A,k,O=b+c,L=bo(s,35633,y+l),R=bo(s,35632,O);if(s.attachShader(T,L),s.attachShader(T,R),void 0!==r.index0AttributeName?s.bindAttribLocation(T,0,r.index0AttributeName):!0===a.morphTargets&&s.bindAttribLocation(T,0,\"position\"),s.linkProgram(T),e.debug.checkShaderErrors){var N=s.getProgramInfoLog(T).trim(),I=s.getShaderInfoLog(L).trim(),D=s.getShaderInfoLog(R).trim(),z=!0,F=!0;if(!1===s.getProgramParameter(T,35714)){z=!1;var B=wo(s,L,\"vertex\"),j=wo(s,R,\"fragment\");console.error(\"THREE.WebGLProgram: shader error: \",s.getError(),\"35715\",s.getProgramParameter(T,35715),\"gl.getProgramInfoLog\",N,B,j)}else\"\"!==N?console.warn(\"THREE.WebGLProgram: gl.getProgramInfoLog()\",N):\"\"!==I&&\"\"!==D||(F=!1);F&&(this.diagnostics={runnable:z,material:r,programLog:N,vertexShader:{log:I,prefix:y},fragmentShader:{log:D,prefix:b}})}return s.deleteShader(L),s.deleteShader(R),this.getUniforms=function(){return void 0===A&&(A=new yo(s,T)),A},this.getAttributes=function(){return void 0===k&&(k=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i).name;n[a]=e.getAttribLocation(t,a)}return n}(s,T)),k},this.destroy=function(){s.deleteProgram(T),this.program=void 0},this.name=i.name,this.id=xo++,this.code=n,this.usedTimes=1,this.program=T,this.vertexShader=L,this.fragmentShader=R,this}function Oo(e,t,n){var r=[],i={MeshDepthMaterial:\"depth\",MeshDistanceMaterial:\"distanceRGBA\",MeshNormalMaterial:\"normal\",MeshBasicMaterial:\"basic\",MeshLambertMaterial:\"lambert\",MeshPhongMaterial:\"phong\",MeshToonMaterial:\"phong\",MeshStandardMaterial:\"physical\",MeshPhysicalMaterial:\"physical\",MeshMatcapMaterial:\"matcap\",LineBasicMaterial:\"basic\",LineDashedMaterial:\"dashed\",PointsMaterial:\"points\",ShadowMaterial:\"shadow\",SpriteMaterial:\"sprite\"},a=[\"precision\",\"supportsVertexTextures\",\"map\",\"mapEncoding\",\"matcap\",\"matcapEncoding\",\"envMap\",\"envMapMode\",\"envMapEncoding\",\"lightMap\",\"aoMap\",\"emissiveMap\",\"emissiveMapEncoding\",\"bumpMap\",\"normalMap\",\"objectSpaceNormalMap\",\"tangentSpaceNormalMap\",\"clearcoatNormalMap\",\"displacementMap\",\"specularMap\",\"roughnessMap\",\"metalnessMap\",\"gradientMap\",\"alphaMap\",\"combine\",\"vertexColors\",\"vertexTangents\",\"fog\",\"useFog\",\"fogExp2\",\"flatShading\",\"sizeAttenuation\",\"logarithmicDepthBuffer\",\"skinning\",\"maxBones\",\"useVertexTexture\",\"morphTargets\",\"morphNormals\",\"maxMorphTargets\",\"maxMorphNormals\",\"premultipliedAlpha\",\"numDirLights\",\"numPointLights\",\"numSpotLights\",\"numHemiLights\",\"numRectAreaLights\",\"shadowMapEnabled\",\"shadowMapType\",\"toneMapping\",\"physicallyCorrectLights\",\"alphaTest\",\"doubleSided\",\"flipSided\",\"numClippingPlanes\",\"numClipIntersection\",\"depthPacking\",\"dithering\",\"sheen\"];function o(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn(\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\"),n=e.texture.encoding):n=Rt,n===Rt&&t&&(n=It),n}this.getParameters=function(t,r,a,s,u,l,c){var f=i[t.type],h=c.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=Math.floor((r-20)/4),a=Math.min(i,t.length);return a<t.length?(console.warn(\"THREE.WebGLRenderer: Skeleton has \"+t.length+\" bones. This GPU supports \"+a+\".\"),0):a}(c):0,d=n.precision;null!==t.precision&&(d=n.getMaxPrecision(t.precision))!==t.precision&&console.warn(\"THREE.WebGLProgram.getParameters:\",t.precision,\"not supported, using\",d,\"instead.\");var p=e.getRenderTarget();return{shaderID:f,precision:d,supportsVertexTextures:n.vertexTextures,outputEncoding:o(p?p.texture:null,e.gammaOutput),map:!!t.map,mapEncoding:o(t.map,e.gammaInput),matcap:!!t.matcap,matcapEncoding:o(t.matcap,e.gammaInput),envMap:!!t.envMap,envMapMode:t.envMap&&t.envMap.mapping,envMapEncoding:o(t.envMap,e.gammaInput),envMapCubeUV:!!t.envMap&&(t.envMap.mapping===ve||t.envMap.mapping===ge),lightMap:!!t.lightMap,aoMap:!!t.aoMap,emissiveMap:!!t.emissiveMap,emissiveMapEncoding:o(t.emissiveMap,e.gammaInput),bumpMap:!!t.bumpMap,normalMap:!!t.normalMap,objectSpaceNormalMap:t.normalMapType===Vt,tangentSpaceNormalMap:t.normalMapType===Gt,clearcoatNormalMap:!!t.clearcoatNormalMap,displacementMap:!!t.displacementMap,roughnessMap:!!t.roughnessMap,metalnessMap:!!t.metalnessMap,specularMap:!!t.specularMap,alphaMap:!!t.alphaMap,gradientMap:!!t.gradientMap,sheen:!!t.sheen,combine:t.combine,vertexTangents:t.normalMap&&t.vertexTangents,vertexColors:t.vertexColors,vertexUvs:!!(t.map||t.bumpMap||t.normalMap||t.specularMap||t.alphaMap||t.emissiveMap||t.roughnessMap||t.metalnessMap||t.clearcoatNormalMap),fog:!!s,useFog:t.fog,fogExp2:s&&s.isFogExp2,flatShading:t.flatShading,sizeAttenuation:t.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:t.skinning&&h>0,maxBones:h,useVertexTexture:n.floatVertexTextures,morphTargets:t.morphTargets,morphNormals:t.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numDirLightShadows:r.directionalShadowMap.length,numPointLightShadows:r.pointShadowMap.length,numSpotLightShadows:r.spotShadowMap.length,numClippingPlanes:u,numClipIntersection:l,dithering:t.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.receiveShadow&&a.length>0,shadowMapType:e.shadowMap.type,toneMapping:t.toneMapped?e.toneMapping:ie,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:t.premultipliedAlpha,alphaTest:t.alphaTest,doubleSided:t.side===b,flipSided:t.side===y,depthPacking:void 0!==t.depthPacking&&t.depthPacking}},this.getProgramCode=function(t,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(var i in t.defines)r.push(i),r.push(t.defines[i]);for(var o=0;o<a.length;o++)r.push(n[a[o]]);return r.push(t.onBeforeCompile.toString()),r.push(e.gammaOutput),r.push(e.gammaFactor),r.join()},this.acquireProgram=function(i,a,o,s){for(var u,l=0,c=r.length;l<c;l++){var f=r[l];if(f.code===s){++(u=f).usedTimes;break}}return void 0===u&&(u=new ko(e,t,s,i,a,o,n),r.push(u)),u},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Lo(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Ro(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function No(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Io(){var e=[],t=0,n=[],r=[],i={id:-1};function a(n,r,a,o,s,u){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:a,program:a.program||i,groupOrder:o,renderOrder:n.renderOrder,z:s,group:u},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=a,l.program=a.program||i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=s,l.group=u),t++,l}return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(e,t,i,o,s,u){var l=a(e,t,i,o,s,u);(!0===i.transparent?r:n).push(l)},unshift:function(e,t,i,o,s,u){var l=a(e,t,i,o,s,u);(!0===i.transparent?r:n).unshift(l)},sort:function(){n.length>1&&n.sort(Ro),r.length>1&&r.sort(No)}}}function Do(){var e=new WeakMap;function t(n){var r=n.target;r.removeEventListener(\"dispose\",t),e.delete(r)}return{get:function(n,r){var i,a=e.get(n);return void 0===a?(i=new Io,e.set(n,new WeakMap),e.get(n).set(r,i),n.addEventListener(\"dispose\",t)):void 0===(i=a.get(r))&&(i=new Io,a.set(r,i)),i},dispose:function(){e=new WeakMap}}}function zo(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case\"DirectionalLight\":n={direction:new mn,color:new Dr,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new fn};break;case\"SpotLight\":n={position:new mn,direction:new mn,color:new Dr,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new fn};break;case\"PointLight\":n={position:new mn,color:new Dr,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new fn,shadowCameraNear:1,shadowCameraFar:1e3};break;case\"HemisphereLight\":n={direction:new mn,skyColor:new Dr,groundColor:new Dr};break;case\"RectAreaLight\":n={color:new Dr,position:new mn,halfWidth:new mn,halfHeight:new mn}}return e[t.id]=n,n}}}var Fo=0;function Bo(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function jo(){for(var e=new zo,t={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},n=0;n<9;n++)t.probe.push(new mn);var r=new mn,i=new Ln,a=new Ln;return{setup:function(n,o,s){for(var u=0,l=0,c=0,f=0;f<9;f++)t.probe[f].set(0,0,0);var h=0,d=0,p=0,m=0,v=0,g=0,y=0,b=0,x=s.matrixWorldInverse;n.sort(Bo),f=0;for(var _=n.length;f<_;f++){var w=n[f],E=w.color,M=w.intensity,S=w.distance,T=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)u+=E.r*M,l+=E.g*M,c+=E.b*M;else if(w.isLightProbe)for(var C=0;C<9;C++)t.probe[C].addScaledVector(w.sh.coefficients[C],M);else if(w.isDirectionalLight){if((A=e.get(w)).color.copy(w.color).multiplyScalar(w.intensity),A.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),A.direction.sub(r),A.direction.transformDirection(x),A.shadow=w.castShadow,w.castShadow){var P=w.shadow;A.shadowBias=P.bias,A.shadowRadius=P.radius,A.shadowMapSize=P.mapSize,t.directionalShadowMap[h]=T,t.directionalShadowMatrix[h]=w.shadow.matrix,g++}t.directional[h]=A,h++}else if(w.isSpotLight){if((A=e.get(w)).position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(x),A.color.copy(E).multiplyScalar(M),A.distance=S,A.direction.setFromMatrixPosition(w.matrixWorld),r.setFromMatrixPosition(w.target.matrixWorld),A.direction.sub(r),A.direction.transformDirection(x),A.coneCos=Math.cos(w.angle),A.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),A.decay=w.decay,A.shadow=w.castShadow,w.castShadow){P=w.shadow;A.shadowBias=P.bias,A.shadowRadius=P.radius,A.shadowMapSize=P.mapSize,t.spotShadowMap[p]=T,t.spotShadowMatrix[p]=w.shadow.matrix,b++}t.spot[p]=A,p++}else if(w.isRectAreaLight){(A=e.get(w)).color.copy(E).multiplyScalar(M),A.position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(x),a.identity(),i.copy(w.matrixWorld),i.premultiply(x),a.extractRotation(i),A.halfWidth.set(.5*w.width,0,0),A.halfHeight.set(0,.5*w.height,0),A.halfWidth.applyMatrix4(a),A.halfHeight.applyMatrix4(a),t.rectArea[m]=A,m++}else if(w.isPointLight){if((A=e.get(w)).position.setFromMatrixPosition(w.matrixWorld),A.position.applyMatrix4(x),A.color.copy(w.color).multiplyScalar(w.intensity),A.distance=w.distance,A.decay=w.decay,A.shadow=w.castShadow,w.castShadow){P=w.shadow;A.shadowBias=P.bias,A.shadowRadius=P.radius,A.shadowMapSize=P.mapSize,A.shadowCameraNear=P.camera.near,A.shadowCameraFar=P.camera.far,t.pointShadowMap[d]=T,t.pointShadowMatrix[d]=w.shadow.matrix,y++}t.point[d]=A,d++}else if(w.isHemisphereLight){var A;(A=e.get(w)).direction.setFromMatrixPosition(w.matrixWorld),A.direction.transformDirection(x),A.direction.normalize(),A.skyColor.copy(w.color).multiplyScalar(M),A.groundColor.copy(w.groundColor).multiplyScalar(M),t.hemi[v]=A,v++}}t.ambient[0]=u,t.ambient[1]=l,t.ambient[2]=c;var k=t.hash;k.directionalLength===h&&k.pointLength===d&&k.spotLength===p&&k.rectAreaLength===m&&k.hemiLength===v&&k.numDirectionalShadows===g&&k.numPointShadows===y&&k.numSpotShadows===b||(t.directional.length=h,t.spot.length=p,t.rectArea.length=m,t.point.length=d,t.hemi.length=v,t.directionalShadowMap.length=g,t.pointShadowMap.length=y,t.spotShadowMap.length=b,t.directionalShadowMatrix.length=g,t.pointShadowMatrix.length=y,t.spotShadowMatrix.length=b,k.directionalLength=h,k.pointLength=d,k.spotLength=p,k.rectAreaLength=m,k.hemiLength=v,k.numDirectionalShadows=g,k.numPointShadows=y,k.numSpotShadows=b,t.version=Fo++)},state:t}}function Uo(){var e=new jo,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function Ho(){var e=new WeakMap;function t(n){var r=n.target;r.removeEventListener(\"dispose\",t),e.delete(r)}return{get:function(n,r){var i;return!1===e.has(n)?(i=new Uo,e.set(n,new WeakMap),e.get(n).set(r,i),n.addEventListener(\"dispose\",t)):!1===e.get(n).has(r)?(i=new Uo,e.get(n).set(r,i)):i=e.get(n).get(r),i},dispose:function(){e=new WeakMap}}}function Go(e){Hr.call(this),this.type=\"MeshDepthMaterial\",this.depthPacking=Ut,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(e)}function Vo(e){Hr.call(this),this.type=\"MeshDistanceMaterial\",this.referencePosition=new mn,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(e)}Go.prototype=Object.create(Hr.prototype),Go.prototype.constructor=Go,Go.prototype.isMeshDepthMaterial=!0,Go.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Vo.prototype=Object.create(Hr.prototype),Vo.prototype.constructor=Vo,Vo.prototype.isMeshDistanceMaterial=!0,Vo.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var Wo=\"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n  float mean = 0.0;\\n  float squared_mean = 0.0;\\n  \\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n    #ifdef HORIZONAL_PASS\\n      vec2 distribution = decodeHalfRGBA ( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n      mean += distribution.x;\\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n    #else\\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\\n      mean += depth;\\n      squared_mean += depth * depth;\\n    #endif\\n  }\\n  mean = mean * HALF_SAMPLE_RATE;\\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\\n  float std_dev = pow( squared_mean - mean * mean, 0.5 );\\n  gl_FragColor = encodeHalfRGBA( vec2( mean, std_dev ) );\\n}\",qo=\"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";function Xo(e,t,n){var r=new na,i=new fn,a=new fn,o=new wn,s=1,u=2,l=1+(s|u),c=new Array(l),f=new Array(l),h={},d={0:y,1:g,2:b},m=new Hi({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new fn},radius:{value:4}},vertexShader:qo,fragmentShader:Wo}),x=m.clone();x.defines.HORIZONAL_PASS=1;var _=new li;_.addAttribute(\"position\",new Vr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));for(var w=new Ci(_,m),E=0;E!==l;++E){var M=0!=(E&s),T=0!=(E&u),C=new Go({depthPacking:Ht,morphTargets:M,skinning:T});c[E]=C;var P=new Vo({morphTargets:M,skinning:T});f[E]=P}var A=this;function k(n,r){var i=t.update(w);m.uniforms.shadow_pass.value=n.map.texture,m.uniforms.resolution.value=n.mapSize,m.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,m,w,null),x.uniforms.shadow_pass.value=n.mapPass.texture,x.uniforms.resolution.value=n.mapSize,x.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,x,w,null)}function O(t,n,r,i,a,o){var l=t.geometry,p=null,m=c,g=t.customDepthMaterial;if(r.isPointLight&&(m=f,g=t.customDistanceMaterial),g)p=g;else{var y=!1;n.morphTargets&&(l&&l.isBufferGeometry?y=l.morphAttributes&&l.morphAttributes.position&&l.morphAttributes.position.length>0:l&&l.isGeometry&&(y=l.morphTargets&&l.morphTargets.length>0)),t.isSkinnedMesh&&!1===n.skinning&&console.warn(\"THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:\",t);var b=t.isSkinnedMesh&&n.skinning,x=0;y&&(x|=s),b&&(x|=u),p=m[x]}if(e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var _=p.uuid,w=n.uuid,E=h[_];void 0===E&&(E={},h[_]=E);var M=E[w];void 0===M&&(M=p.clone(),E[w]=M),p=M}return p.visible=n.visible,p.wireframe=n.wireframe,p.side=o===v?null!=n.shadowSide?n.shadowSide:n.side:null!=n.shadowSide?n.shadowSide:d[n.side],p.clipShadows=n.clipShadows,p.clippingPlanes=n.clippingPlanes,p.clipIntersection=n.clipIntersection,p.wireframeLinewidth=n.wireframeLinewidth,p.linewidth=n.linewidth,r.isPointLight&&p.isMeshDistanceMaterial&&(p.referencePosition.setFromMatrixPosition(r.matrixWorld),p.nearDistance=i,p.farDistance=a),p}function L(n,i,a,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===v)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var u=t.update(n),l=n.material;if(Array.isArray(l))for(var c=u.groups,f=0,h=c.length;f<h;f++){var d=c[f],p=l[d.materialIndex];if(p&&p.visible){var m=O(n,p,o,a.near,a.far,s);e.renderBufferDirect(a,null,u,m,n,d)}}else if(l.visible){m=O(n,l,o,a.near,a.far,s);e.renderBufferDirect(a,null,u,m,n,null)}}for(var g=n.children,y=0,b=g.length;y<b;y++)L(g[y],i,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=p,this.render=function(t,s,u){if(!1!==A.enabled&&(!1!==A.autoUpdate||!1!==A.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),c=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),h=e.state;h.setBlending(S),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var d=0,p=t.length;d<p;d++){var m=t[d],g=m.shadow;if(void 0!==g){i.copy(g.mapSize);var y=g.getFrameExtents();if(i.multiply(y),a.copy(g.mapSize),(i.x>n||i.y>n)&&(console.warn(\"THREE.WebGLShadowMap:\",m,\"has shadow exceeding max texture size, reducing\"),i.x>n&&(a.x=Math.floor(n/y.x),i.x=a.x*y.x,g.mapSize.x=a.x),i.y>n&&(a.y=Math.floor(n/y.y),i.y=a.y*y.y,g.mapSize.y=a.y)),null===g.map&&!g.isPointLightShadow&&this.type===v){var b={minFilter:Te,magFilter:Te,format:We};g.map=new En(i.x,i.y,b),g.map.texture.name=m.name+\".shadowMap\",g.mapPass=new En(i.x,i.y,b),g.camera.updateProjectionMatrix()}if(null===g.map){b={minFilter:_e,magFilter:_e,format:We};g.map=new En(i.x,i.y,b),g.map.texture.name=m.name+\".shadowMap\",g.camera.updateProjectionMatrix()}e.setRenderTarget(g.map),e.clear();for(var x=g.getViewportCount(),_=0;_<x;_++){var w=g.getViewport(_);o.set(a.x*w.x,a.y*w.y,a.x*w.z,a.y*w.w),h.viewport(o),g.updateMatrices(m,u,_),r=g.getFrustum(),L(s,u,g.camera,m,this.type)}g.isPointLightShadow||this.type!==v||k(g,u)}else console.warn(\"THREE.WebGLShadowMap:\",m,\"has no shadow.\")}A.needsUpdate=!1,e.setRenderTarget(l,c,f)}}}function Yo(e,t,n,r){var i=new function(){var t=!1,n=new wn,r=null,i=new wn(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},a=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?ae(2929):oe(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case X:e.depthFunc(512);break;case Y:e.depthFunc(519);break;case Q:e.depthFunc(513);break;case Z:e.depthFunc(515);break;case J:e.depthFunc(514);break;case $:e.depthFunc(518);break;case K:e.depthFunc(516);break;case ee:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},o=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(e){t||(e?ae(2960):oe(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&u===r||(e.stencilOp(t,n,r),o=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,u=null,l=null}}},c=e.getParameter(34921),f=new Uint8Array(c),h=new Uint8Array(c),d=new Uint8Array(c),p={},m=null,v=null,g=null,x=null,_=null,w=null,E=null,M=null,L=null,R=null,N=!1,I=null,D=null,z=null,F=null,B=null,j=e.getParameter(35661),U=!1,H=0,G=e.getParameter(7938);-1!==G.indexOf(\"WebGL\")?(H=parseFloat(/^WebGL\\ ([0-9])/.exec(G)[1]),U=H>=1):-1!==G.indexOf(\"OpenGL ES\")&&(H=parseFloat(/^OpenGL\\ ES\\ ([0-9])/.exec(G)[1]),U=H>=2);var V=null,W={},q=new wn,te=new wn;function ne(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var re={};function ie(n,i){(f[n]=1,0===h[n]&&(e.enableVertexAttribArray(n),h[n]=1),d[n]!==i)&&((r.isWebGL2?e:t.get(\"ANGLE_instanced_arrays\"))[r.isWebGL2?\"vertexAttribDivisor\":\"vertexAttribDivisorANGLE\"](n,i),d[n]=i)}function ae(t){!0!==p[t]&&(e.enable(t),p[t]=!0)}function oe(t){!1!==p[t]&&(e.disable(t),p[t]=!1)}function se(t,r,i,a,o,s,u,l){if(t!==S){if(g||(ae(3042),g=!0),t===k)o=o||r,s=s||i,u=u||a,r===_&&o===M||(e.blendEquationSeparate(n.convert(r),n.convert(o)),_=r,M=o),i===w&&a===E&&s===L&&u===R||(e.blendFuncSeparate(n.convert(i),n.convert(a),n.convert(s),n.convert(u)),w=i,E=a,L=s,R=u),x=t,N=null;else if(t!==x||l!==N){if(_===O&&M===O||(e.blendEquation(32774),_=O,M=O),l)switch(t){case T:e.blendFuncSeparate(1,771,1,771);break;case C:e.blendFunc(1,1);break;case P:e.blendFuncSeparate(0,0,769,771);break;case A:e.blendFuncSeparate(0,768,0,770);break;default:console.error(\"THREE.WebGLState: Invalid blending: \",t)}else switch(t){case T:e.blendFuncSeparate(770,771,1,771);break;case C:e.blendFunc(770,1);break;case P:e.blendFunc(0,769);break;case A:e.blendFunc(0,768);break;default:console.error(\"THREE.WebGLState: Invalid blending: \",t)}w=null,E=null,L=null,R=null,x=t,N=l}}else g&&(oe(3042),g=!1)}function ue(t){I!==t&&(t?e.frontFace(2304):e.frontFace(2305),I=t)}function le(t){t!==s?(ae(2884),t!==D&&(t===u?e.cullFace(1029):t===l?e.cullFace(1028):e.cullFace(1032))):oe(2884),D=t}function ce(t,n,r){t?(ae(32823),F===n&&B===r||(e.polygonOffset(n,r),F=n,B=r)):oe(32823)}function fe(t){void 0===t&&(t=33984+j-1),V!==t&&(e.activeTexture(t),V=t)}return re[3553]=ne(3553,3553,1),re[34067]=ne(34067,34069,6),i.setClear(0,0,0,1),a.setClear(1),o.setClear(0),ae(2929),a.setFunc(Z),ue(!1),le(u),ae(2884),se(S),{buffers:{color:i,depth:a,stencil:o},initAttributes:function(){for(var e=0,t=f.length;e<t;e++)f[e]=0},enableAttribute:function(e){ie(e,0)},enableAttributeAndDivisor:ie,disableUnusedAttributes:function(){for(var t=0,n=h.length;t!==n;++t)h[t]!==f[t]&&(e.disableVertexAttribArray(t),h[t]=0)},enable:ae,disable:oe,getCompressedTextureFormats:function(){if(null===m&&(m=[],t.get(\"WEBGL_compressed_texture_pvrtc\")||t.get(\"WEBGL_compressed_texture_s3tc\")||t.get(\"WEBGL_compressed_texture_etc1\")||t.get(\"WEBGL_compressed_texture_astc\")))for(var n=e.getParameter(34467),r=0;r<n.length;r++)m.push(n[r]);return m},useProgram:function(t){return v!==t&&(e.useProgram(t),v=t,!0)},setBlending:se,setMaterial:function(e,t){e.side===b?oe(2884):ae(2884);var n=e.side===y;t&&(n=!n),ue(n),e.blending===T&&!1===e.transparent?se(S):se(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),a.setFunc(e.depthFunc),a.setTest(e.depthTest),a.setMask(e.depthWrite),i.setMask(e.colorWrite);var r=e.stencilWrite;o.setTest(r),r&&(o.setFunc(e.stencilFunc,e.stencilRef,e.stencilMask),o.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),ce(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:ue,setCullFace:le,setLineWidth:function(t){t!==z&&(U&&e.lineWidth(t),z=t)},setPolygonOffset:ce,setScissorTest:function(e){e?ae(3089):oe(3089)},activeTexture:fe,bindTexture:function(t,n){null===V&&fe();var r=W[V];void 0===r&&(r={type:void 0,texture:void 0},W[V]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||re[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error(\"THREE.WebGLState:\",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error(\"THREE.WebGLState:\",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error(\"THREE.WebGLState:\",e)}},scissor:function(t){!1===q.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),q.copy(t))},viewport:function(t){!1===te.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),te.copy(t))},reset:function(){for(var t=0;t<h.length;t++)1===h[t]&&(e.disableVertexAttribArray(t),h[t]=0);p={},m=null,V=null,W={},v=null,x=null,I=null,D=null,i.reset(),a.reset(),o.reset()}}}function Qo(e,t,n,r,i,a,o){var s,u=new WeakMap,l=\"undefined\"!=typeof OffscreenCanvas;function c(e,t){return l?new OffscreenCanvas(e,t):document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\")}function f(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if(\"undefined\"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||\"undefined\"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||\"undefined\"!=typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?cn.floorPowerOfTwo:Math.floor,o=a(i*e.width),u=a(i*e.height);void 0===s&&(s=c(o,u));var l=n?c(o,u):s;return l.width=o,l.height=u,l.getContext(\"2d\").drawImage(e,0,0,o,u),console.warn(\"THREE.WebGLRenderer: Texture has been resized from (\"+e.width+\"x\"+e.height+\") to (\"+o+\"x\"+u+\").\"),l}return\"data\"in e&&console.warn(\"THREE.WebGLRenderer: Image in DataTexture is too big (\"+e.width+\"x\"+e.height+\").\"),e}return e}function h(e){return cn.isPowerOfTwo(e.width)&&cn.isPowerOfTwo(e.height)}function d(e,t){return e.generateMipmaps&&t&&e.minFilter!==_e&&e.minFilter!==Te}function p(t,n,i,a){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function m(e,n){if(!i.isWebGL2)return e;var r=e;return 6403===e&&(5126===n&&(r=33326),5131===n&&(r=33325),5121===n&&(r=33321)),6407===e&&(5126===n&&(r=34837),5131===n&&(r=34843),5121===n&&(r=32849)),6408===e&&(5126===n&&(r=34836),5131===n&&(r=34842),5121===n&&(r=32856)),33325===r||33326===r||34842===r||34836===r?t.get(\"EXT_color_buffer_float\"):34843!==r&&34837!==r||console.warn(\"THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead.\"),r}function v(e){return e===_e||e===we||e===Me?9728:9729}function g(t){var n=t.target;n.removeEventListener(\"dispose\",g),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&u.delete(n),o.memory.textures--}function y(t){var n=t.target;n.removeEventListener(\"dispose\",y),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLRenderTargetCube)for(var a=0;a<6;a++)e.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[a]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(t.texture),r.remove(t)}(n),o.memory.textures--}var b=0;function x(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;u.get(e)!==t&&(u.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var a=e.image;if(void 0===a)console.warn(\"THREE.WebGLRenderer: Texture marked for update but image is undefined\");else{if(!1!==a.complete)return void S(i,e,t);console.warn(\"THREE.WebGLRenderer: Texture marked for update but image is incomplete\")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function _(t,o){if(6===t.image.length){var s=r.get(t);if(t.version>0&&s.__version!==t.version){M(s,t),n.activeTexture(33984+o),n.bindTexture(34067,s.__webglTexture),e.pixelStorei(37440,t.flipY);for(var u=t&&t.isCompressedTexture,l=t.image[0]&&t.image[0].isDataTexture,c=[],v=0;v<6;v++)c[v]=u||l?l?t.image[v].image:t.image[v]:f(t.image[v],!1,!0,i.maxCubemapSize);var g,y=c[0],b=h(y)||i.isWebGL2,x=a.convert(t.format),_=a.convert(t.type),w=m(x,_);if(E(34067,t,b),u){for(v=0;v<6;v++){g=c[v].mipmaps;for(var S=0;S<g.length;S++){var T=g[S];t.format!==We&&t.format!==Ve?n.getCompressedTextureFormats().indexOf(x)>-1?n.compressedTexImage2D(34069+v,S,w,T.width,T.height,0,T.data):console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()\"):n.texImage2D(34069+v,S,w,T.width,T.height,0,x,_,T.data)}}s.__maxMipLevel=g.length-1}else{g=t.mipmaps;for(v=0;v<6;v++)if(l){n.texImage2D(34069+v,0,w,c[v].width,c[v].height,0,x,_,c[v].data);for(S=0;S<g.length;S++){var C=(T=g[S]).image[v].image;n.texImage2D(34069+v,S+1,w,C.width,C.height,0,x,_,C.data)}}else{n.texImage2D(34069+v,0,w,x,_,c[v]);for(S=0;S<g.length;S++){T=g[S];n.texImage2D(34069+v,S+1,w,x,_,T.image[v])}}s.__maxMipLevel=g.length}d(t,b)&&p(34067,t,y.width,y.height),s.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+o),n.bindTexture(34067,s.__webglTexture)}}function w(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)}function E(n,o,s){var u;if(s?(e.texParameteri(n,10242,a.convert(o.wrapS)),e.texParameteri(n,10243,a.convert(o.wrapT)),32879!==n&&35866!==n||e.texParameteri(n,32882,a.convert(o.wrapR)),e.texParameteri(n,10240,a.convert(o.magFilter)),e.texParameteri(n,10241,a.convert(o.minFilter))):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),o.wrapS===be&&o.wrapT===be||console.warn(\"THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.\"),e.texParameteri(n,10240,v(o.magFilter)),e.texParameteri(n,10241,v(o.minFilter)),o.minFilter!==_e&&o.minFilter!==Te&&console.warn(\"THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.\")),u=t.get(\"EXT_texture_filter_anisotropic\")){if(o.type===ze&&null===t.get(\"OES_texture_float_linear\"))return;if(o.type===Fe&&null===(i.isWebGL2||t.get(\"OES_texture_half_float_linear\")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function M(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener(\"dispose\",g),t.__webglTexture=e.createTexture(),o.memory.textures++)}function S(t,r,o){var s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),M(t,r),n.activeTexture(33984+o),n.bindTexture(s,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var u=function(e){return!i.isWebGL2&&(e.wrapS!==be||e.wrapT!==be||e.minFilter!==_e&&e.minFilter!==Te)}(r)&&!1===h(r.image),l=f(r.image,u,!1,i.maxTextureSize),c=h(l)||i.isWebGL2,v=a.convert(r.format),g=a.convert(r.type),y=m(v,g);E(s,r,c);var b,x=r.mipmaps;if(r.isDepthTexture){if(y=6402,r.type===ze){if(!i.isWebGL2)throw new Error(\"Float Depth Texture only supported in WebGL2.0\");y=36012}else i.isWebGL2&&(y=33189);r.format===Qe&&6402===y&&r.type!==Ne&&r.type!==De&&(console.warn(\"THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.\"),r.type=Ne,g=a.convert(r.type)),r.format===Ze&&(y=34041,r.type!==He&&(console.warn(\"THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.\"),r.type=He,g=a.convert(r.type))),n.texImage2D(3553,0,y,l.width,l.height,0,v,g,null)}else if(r.isDataTexture)if(x.length>0&&c){for(var _=0,w=x.length;_<w;_++)b=x[_],n.texImage2D(3553,_,y,b.width,b.height,0,v,g,b.data);r.generateMipmaps=!1,t.__maxMipLevel=x.length-1}else n.texImage2D(3553,0,y,l.width,l.height,0,v,g,l.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(_=0,w=x.length;_<w;_++)b=x[_],r.format!==We&&r.format!==Ve?n.getCompressedTextureFormats().indexOf(v)>-1?n.compressedTexImage2D(3553,_,y,b.width,b.height,0,b.data):console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\"):n.texImage2D(3553,_,y,b.width,b.height,0,v,g,b.data);t.__maxMipLevel=x.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,y,l.width,l.height,l.depth,0,v,g,l.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,y,l.width,l.height,l.depth,0,v,g,l.data),t.__maxMipLevel=0;else if(x.length>0&&c){for(_=0,w=x.length;_<w;_++)b=x[_],n.texImage2D(3553,_,y,v,g,b);r.generateMipmaps=!1,t.__maxMipLevel=x.length-1}else n.texImage2D(3553,0,y,v,g,l),t.__maxMipLevel=0;d(r,c)&&p(3553,r,l.width,l.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function T(t,i,o,s){var u=a.convert(i.texture.format),l=a.convert(i.texture.type),c=m(u,l);n.texImage2D(s,0,c,i.width,i.height,0,u,l,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function C(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){if(r){var i=A(n);e.renderbufferStorageMultisample(36161,i,33189,n.width,n.height)}else e.renderbufferStorage(36161,33189,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){i=A(n);e.renderbufferStorageMultisample(36161,i,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var o=m(a.convert(n.texture.format),a.convert(n.texture.type));if(r){i=A(n);e.renderbufferStorageMultisample(36161,i,o,n.width,n.height)}else e.renderbufferStorage(36161,o,n.width,n.height)}e.bindRenderbuffer(36161,null)}function P(t){var n=r.get(t),i=!0===t.isWebGLRenderTargetCube;if(t.depthTexture){if(i)throw new Error(\"target.depthTexture not supported in Cube render targets\");!function(t,n){if(n&&n.isWebGLRenderTargetCube)throw new Error(\"Depth Texture with cube render targets is not supported\");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error(\"renderTarget.depthTexture must be an instance of THREE.DepthTexture\");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),x(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Qe)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==Ze)throw new Error(\"Unknown depthTexture format\");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)e.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=e.createRenderbuffer(),C(n.__webglDepthbuffer[a],t)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),C(n.__webglDepthbuffer,t);e.bindFramebuffer(36160,null)}function A(e){return i.isWebGL2&&e.isWebGLMultisampleRenderTarget?Math.min(i.maxSamples,e.samples):0}var k=!1,O=!1;this.allocateTextureUnit=function(){var e=b;return e>=i.maxTextures&&console.warn(\"THREE.WebGLTextures: Trying to use \"+e+\" texture units while this GPU supports only \"+i.maxTextures),b+=1,e},this.resetTextureUnits=function(){b=0},this.setTexture2D=x,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?S(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?S(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=_,this.setTextureCubeDynamic=w,this.setupRenderTarget=function(t){var s=r.get(t),u=r.get(t.texture);t.addEventListener(\"dispose\",y),u.__webglTexture=e.createTexture(),o.memory.textures++;var l=!0===t.isWebGLRenderTargetCube,c=!0===t.isWebGLMultisampleRenderTarget,f=h(t)||i.isWebGL2;if(l){s.__webglFramebuffer=[];for(var v=0;v<6;v++)s.__webglFramebuffer[v]=e.createFramebuffer()}else if(s.__webglFramebuffer=e.createFramebuffer(),c)if(i.isWebGL2){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var g=m(a.convert(t.texture.format),a.convert(t.texture.type)),b=A(t);e.renderbufferStorageMultisample(36161,b,g,t.width,t.height),e.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),C(s.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn(\"THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.\");if(l){n.bindTexture(34067,u.__webglTexture),E(34067,t.texture,f);for(v=0;v<6;v++)T(s.__webglFramebuffer[v],t,36064,34069+v);d(t.texture,f)&&p(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,u.__webglTexture),E(3553,t.texture,f),T(s.__webglFramebuffer,t,36064,3553),d(t.texture,f)&&p(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&P(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(d(t,h(e)||i.isWebGL2)){var a=e.isWebGLRenderTargetCube?34067:3553,o=r.get(t).__webglTexture;n.bindTexture(a,o),p(a,t,e.width,e.height),n.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(i.isWebGL2){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var a=t.width,o=t.height,s=16384;t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024),e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728)}else console.warn(\"THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.\")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===k&&(console.warn(\"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\"),k=!0),e=e.texture),x(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLRenderTargetCube&&(!1===O&&(console.warn(\"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\"),O=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?_(e,t):w(e,t)}}function Zo(e,t,n){return{convert:function(e){var r;if(e===ye)return 10497;if(e===be)return 33071;if(e===xe)return 33648;if(e===_e)return 9728;if(e===we)return 9984;if(e===Me)return 9986;if(e===Te)return 9729;if(e===Ce)return 9985;if(e===Ae)return 9987;if(e===Oe)return 5121;if(e===Be)return 32819;if(e===je)return 32820;if(e===Ue)return 33635;if(e===Le)return 5120;if(e===Re)return 5122;if(e===Ne)return 5123;if(e===Ie)return 5124;if(e===De)return 5125;if(e===ze)return 5126;if(e===Fe){if(n.isWebGL2)return 5131;if(null!==(r=t.get(\"OES_texture_half_float\")))return r.HALF_FLOAT_OES}if(e===Ge)return 6406;if(e===Ve)return 6407;if(e===We)return 6408;if(e===qe)return 6409;if(e===Xe)return 6410;if(e===Qe)return 6402;if(e===Ze)return 34041;if(e===Je)return 6403;if(e===O)return 32774;if(e===L)return 32778;if(e===R)return 32779;if(e===D)return 0;if(e===z)return 1;if(e===F)return 768;if(e===B)return 769;if(e===j)return 770;if(e===U)return 771;if(e===H)return 772;if(e===G)return 773;if(e===V)return 774;if(e===W)return 775;if(e===q)return 776;if((e===$e||e===Ke||e===et||e===tt)&&null!==(r=t.get(\"WEBGL_compressed_texture_s3tc\"))){if(e===$e)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Ke)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===et)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===tt)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((e===nt||e===rt||e===it||e===at)&&null!==(r=t.get(\"WEBGL_compressed_texture_pvrtc\"))){if(e===nt)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===rt)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===it)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===at)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===ot&&null!==(r=t.get(\"WEBGL_compressed_texture_etc1\")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((e===st||e===ut||e===lt||e===ct||e===ft||e===ht||e===dt||e===pt||e===mt||e===vt||e===gt||e===yt||e===bt||e===xt)&&null!==(r=t.get(\"WEBGL_compressed_texture_astc\")))return e;if(e===N||e===I){if(n.isWebGL2){if(e===N)return 32775;if(e===I)return 32776}if(null!==(r=t.get(\"EXT_blend_minmax\"))){if(e===N)return r.MIN_EXT;if(e===I)return r.MAX_EXT}}if(e===He){if(n.isWebGL2)return 34042;if(null!==(r=t.get(\"WEBGL_depth_texture\")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Jo(){Zn.call(this),this.type=\"Group\"}function $o(e){Vi.call(this),this.cameras=e||[]}Jo.prototype=Object.assign(Object.create(Zn.prototype),{constructor:Jo,isGroup:!0}),$o.prototype=Object.assign(Object.create(Vi.prototype),{constructor:$o,isArrayCamera:!0});var Ko,es=new mn,ts=new mn;function ns(e,t,n){es.setFromMatrixPosition(t.matrixWorld),ts.setFromMatrixPosition(n.matrixWorld);var r=es.distanceTo(ts),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],f=(a[8]+1)/a[0],h=o*c,d=o*f,p=r/(-c+f),m=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var v=o+p,g=s+p,y=h-m,b=d+(r-m),x=u*s/g*v,_=l*s/g*v;e.projectionMatrix.makePerspective(y,b,x,_,v,g)}function rs(e){var t,n,r=this,i=null,a=null,o=null,s=[],u=new Ln,l=new Ln,c=1,f=\"local-floor\";\"undefined\"!=typeof window&&\"VRFrameData\"in window&&(a=new window.VRFrameData,window.addEventListener(\"vrdisplaypresentchange\",_,!1));var h=new Ln,d=new hn,p=new mn,m=new Vi;m.viewport=new wn,m.layers.enable(1);var v=new Vi;v.viewport=new wn,v.layers.enable(2);var g=new $o([m,v]);function y(){return null!==i&&!0===i.isPresenting}g.layers.enable(1),g.layers.enable(2);var b,x=new fn;function _(){if(y()){var a=i.getEyeParameters(\"left\");t=2*a.renderWidth*c,n=a.renderHeight*c,b=e.getPixelRatio(),e.getSize(x),e.setDrawingBufferSize(t,n,1),m.viewport.set(0,0,t/2,n),v.viewport.set(t/2,0,t/2,n),S.start(),r.dispatchEvent({type:\"sessionstart\"})}else r.enabled&&e.setDrawingBufferSize(x.width,x.height,b),S.stop(),r.dispatchEvent({type:\"sessionend\"})}var w=[];function E(e){for(var t=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=t.length;n<i;n++){var a=t[n];if(a&&(\"Daydream Controller\"===a.id||\"Gear VR Controller\"===a.id||\"Oculus Go Controller\"===a.id||\"OpenVR Gamepad\"===a.id||a.id.startsWith(\"Oculus Touch\")||a.id.startsWith(\"HTC Vive Focus\")||a.id.startsWith(\"Spatial Controller\"))){if(r===e)return a;r++}}}function M(e,r){null!==r&&4===r.length&&e.set(r[0]*t,r[1]*n,r[2]*t,r[3]*n)}this.enabled=!1,this.getController=function(e){var t=s[e];return void 0===t&&((t=new Jo).matrixAutoUpdate=!1,t.visible=!1,s[e]=t),t},this.getDevice=function(){return i},this.setDevice=function(e){void 0!==e&&(i=e),S.setContext(e)},this.setFramebufferScaleFactor=function(e){c=e},this.setReferenceSpaceType=function(e){f=e},this.setPoseTarget=function(e){void 0!==e&&(o=e)},this.getCamera=function(e){var t=\"local-floor\"===f?1.6:0;if(!1===y())return e.position.set(0,t,0),e.rotation.set(0,0,0),e;if(i.depthNear=e.near,i.depthFar=e.far,i.getFrameData(a),\"local-floor\"===f){var n=i.stageParameters;n?u.fromArray(n.sittingToStandingTransform):u.makeTranslation(0,t,0)}var r=a.pose,c=null!==o?o:e;c.matrix.copy(u),c.matrix.decompose(c.position,c.quaternion,c.scale),null!==r.orientation&&(d.fromArray(r.orientation),c.quaternion.multiply(d)),null!==r.position&&(d.setFromRotationMatrix(u),p.fromArray(r.position),p.applyQuaternion(d),c.position.add(p)),c.updateMatrixWorld(),m.near=e.near,v.near=e.near,m.far=e.far,v.far=e.far,m.matrixWorldInverse.fromArray(a.leftViewMatrix),v.matrixWorldInverse.fromArray(a.rightViewMatrix),l.getInverse(u),\"local-floor\"===f&&(m.matrixWorldInverse.multiply(l),v.matrixWorldInverse.multiply(l));var b=c.parent;null!==b&&(h.getInverse(b.matrixWorld),m.matrixWorldInverse.multiply(h),v.matrixWorldInverse.multiply(h)),m.matrixWorld.getInverse(m.matrixWorldInverse),v.matrixWorld.getInverse(v.matrixWorldInverse),m.projectionMatrix.fromArray(a.leftProjectionMatrix),v.projectionMatrix.fromArray(a.rightProjectionMatrix),ns(g,m,v);var x=i.getLayers();if(x.length){var _=x[0];M(m.viewport,_.leftBounds),M(v.viewport,_.rightBounds)}return function(){for(var e=0;e<s.length;e++){var t=s[e],n=E(e);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&t.position.set(.2,-.6,-.05),null!==r.position&&t.position.fromArray(r.position),null!==r.orientation&&t.quaternion.fromArray(r.orientation),t.matrix.compose(t.position,t.quaternion,t.scale),t.matrix.premultiply(u),t.matrix.decompose(t.position,t.quaternion,t.scale),t.matrixWorldNeedsUpdate=!0,t.visible=!0;var i=\"Daydream Controller\"===n.id?0:1;void 0===w[e]&&(w[e]=!1),w[e]!==n.buttons[i].pressed&&(w[e]=n.buttons[i].pressed,!0===w[e]?t.dispatchEvent({type:\"selectstart\"}):(t.dispatchEvent({type:\"selectend\"}),t.dispatchEvent({type:\"select\"})))}else t.visible=!1}}(),g},this.getStandingMatrix=function(){return u},this.isPresenting=y;var S=new oa;this.setAnimationLoop=function(e){S.setAnimationLoop(e),y()&&S.start()},this.submitFrame=function(){y()&&i.submitFrame()},this.dispose=function(){\"undefined\"!=typeof window&&window.removeEventListener(\"vrdisplaypresentchange\",_)},this.setFrameOfReferenceType=function(){console.warn(\"THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.\")}}function is(e,t){var n=this,r=null,i=null,a=\"local-floor\",o=null,s=[],u=[];function l(){return null!==r&&null!==i}var c=new Vi;c.layers.enable(1),c.viewport=new wn;var f=new Vi;f.layers.enable(2),f.viewport=new wn;var h=new $o([c,f]);function d(e){for(var t=0;t<s.length;t++)u[t]===e.inputSource&&s[t].dispatchEvent({type:e.type})}function p(){e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),y.stop(),n.dispatchEvent({type:\"sessionend\"})}function m(e){i=e,y.setContext(r),y.start(),n.dispatchEvent({type:\"sessionstart\"})}function v(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}h.layers.enable(1),h.layers.enable(2),this.enabled=!1,this.getController=function(e){var t=s[e];return void 0===t&&((t=new Jo).matrixAutoUpdate=!1,t.visible=!1,s[e]=t),t},this.setFramebufferScaleFactor=function(e){},this.setReferenceSpaceType=function(e){a=e},this.getSession=function(){return r},this.setSession=function(e){null!==(r=e)&&(r.addEventListener(\"select\",d),r.addEventListener(\"selectstart\",d),r.addEventListener(\"selectend\",d),r.addEventListener(\"end\",p),r.updateRenderState({baseLayer:new XRWebGLLayer(r,t)}),r.requestReferenceSpace(a).then(m),u=r.inputSources,r.addEventListener(\"inputsourceschange\",(function(){u=r.inputSources,console.log(u);for(var e=0;e<s.length;e++){s[e].userData.inputSource=u[e]}})))},this.getCamera=function(e){if(l()){var t=e.parent,n=h.cameras;v(h,t);for(var r=0;r<n.length;r++)v(n[r],t);e.matrixWorld.copy(h.matrixWorld);for(var i=e.children,a=(r=0,i.length);r<a;r++)i[r].updateMatrixWorld(!0);return ns(h,c,f),h}return e},this.isPresenting=l;var g=null;var y=new oa;y.setAnimationLoop((function(t,n){if(null!==(o=n.getViewerPose(i))){var a=o.views,l=r.renderState.baseLayer;e.setFramebuffer(l.framebuffer);for(var c=0;c<a.length;c++){var f=a[c],d=l.getViewport(f),p=f.transform.inverse.matrix,m=h.cameras[c];m.matrix.fromArray(p).getInverse(m.matrix),m.projectionMatrix.fromArray(f.projectionMatrix),m.viewport.set(d.x,d.y,d.width,d.height),0===c&&h.matrix.copy(m.matrix)}}for(c=0;c<s.length;c++){var v=s[c],y=u[c];if(y){var b=n.getPose(y.targetRaySpace,i);if(null!==b){v.matrix.fromArray(b.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.visible=!0;continue}}v.visible=!1}g&&g(t)})),this.setAnimationLoop=function(e){g=e},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn(\"THREE.WebXRManager: getStandingMatrix() is no longer needed.\"),new Ln},this.getDevice=function(){console.warn(\"THREE.WebXRManager: getDevice() has been deprecated.\")},this.setDevice=function(){console.warn(\"THREE.WebXRManager: setDevice() has been deprecated.\")},this.setFrameOfReferenceType=function(){console.warn(\"THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.\")},this.submitFrame=function(){}}function as(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,l=void 0!==e.powerPreference?e.powerPreference:\"default\",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,f=null,h=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=ae,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,p,m,v,g,b,x,_,w,E,M,S,T,C,P,A,k,O,L=this,R=!1,N=null,I=0,D=0,z=null,F=null,B=-1,j={geometry:null,program:null,wireframe:!1},U=null,H=null,G=new wn,V=new wn,W=null,q=t.width,X=t.height,Y=1,Q=new wn(0,0,q,X),Z=new wn(0,0,q,X),J=!1,$=new na,K=new da,ee=!1,te=!1,ne=new Ln,re=new mn;function ie(){return null===z?Y:1}try{var oe={alpha:r,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:c,xrCompatible:!0};if(t.addEventListener(\"webglcontextlost\",ce,!1),t.addEventListener(\"webglcontextrestored\",fe,!1),null===(d=n||t.getContext(\"webgl\",oe)||t.getContext(\"experimental-webgl\",oe)))throw null!==t.getContext(\"webgl\")?new Error(\"Error creating WebGL context with your selected attributes.\"):new Error(\"Error creating WebGL context.\");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error(\"THREE.WebGLRenderer: \"+e.message),e}function se(){p=new pa(d),(m=new ha(d,p,e)).isWebGL2||(p.get(\"WEBGL_depth_texture\"),p.get(\"OES_texture_float\"),p.get(\"OES_texture_half_float\"),p.get(\"OES_texture_half_float_linear\"),p.get(\"OES_standard_derivatives\"),p.get(\"OES_element_index_uint\"),p.get(\"ANGLE_instanced_arrays\")),p.get(\"OES_texture_float_linear\"),O=new Zo(d,p,m),(v=new Yo(d,p,O,m)).scissor(V.copy(Z).multiplyScalar(Y).floor()),v.viewport(G.copy(Q).multiplyScalar(Y).floor()),g=new ga(d),b=new Lo,x=new Qo(d,p,v,b,m,O,g),_=new sa(d),w=new ma(d,_,g),E=new xa(w,g),P=new ba(d),M=new Oo(L,p,m),S=new Do,T=new Ho,C=new ca(L,v,E,s),A=new fa(d,p,g,m),k=new va(d,p,g,m),g.programs=M.programs,L.capabilities=m,L.extensions=p,L.properties=b,L.renderLists=S,L.state=v,L.info=g}se();var ue=\"undefined\"!=typeof navigator&&\"xr\"in navigator&&\"supportsSession\"in navigator.xr?new is(L,d):new rs(L);this.vr=ue;var le=new Xo(L,E,m.maxTextureSize);function ce(e){e.preventDefault(),console.log(\"THREE.WebGLRenderer: Context Lost.\"),R=!0}function fe(){console.log(\"THREE.WebGLRenderer: Context Restored.\"),R=!1,se()}function he(e){var t=e.target;t.removeEventListener(\"dispose\",he),function(e){de(e),b.remove(e)}(t)}function de(e){var t=b.get(e).program;e.program=void 0,void 0!==t&&M.releaseProgram(t)}this.shadowMap=le,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var e=p.get(\"WEBGL_lose_context\");e&&e.loseContext()},this.forceContextRestore=function(){var e=p.get(\"WEBGL_lose_context\");e&&e.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(e){void 0!==e&&(Y=e,this.setSize(q,X,!1))},this.getSize=function(e){return void 0===e&&(console.warn(\"WebGLRenderer: .getsize() now requires a Vector2 as an argument\"),e=new fn),e.set(q,X)},this.setSize=function(e,n,r){ue.isPresenting()?console.warn(\"THREE.WebGLRenderer: Can't change size while VR device is presenting.\"):(q=e,X=n,t.width=Math.floor(e*Y),t.height=Math.floor(n*Y),!1!==r&&(t.style.width=e+\"px\",t.style.height=n+\"px\"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn(\"WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument\"),e=new fn),e.set(q*Y,X*Y).floor()},this.setDrawingBufferSize=function(e,n,r){q=e,X=n,Y=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn(\"WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument\"),e=new wn),e.copy(G)},this.getViewport=function(e){return e.copy(Q)},this.setViewport=function(e,t,n,r){e.isVector4?Q.set(e.x,e.y,e.z,e.w):Q.set(e,t,n,r),v.viewport(G.copy(Q).multiplyScalar(Y).floor())},this.getScissor=function(e){return e.copy(Z)},this.setScissor=function(e,t,n,r){e.isVector4?Z.set(e.x,e.y,e.z,e.w):Z.set(e,t,n,r),v.scissor(V.copy(Z).multiplyScalar(Y).floor())},this.getScissorTest=function(){return J},this.setScissorTest=function(e){v.setScissorTest(J=e)},this.getClearColor=function(){return C.getClearColor()},this.setClearColor=function(){C.setClearColor.apply(C,arguments)},this.getClearAlpha=function(){return C.getClearAlpha()},this.setClearAlpha=function(){C.setClearAlpha.apply(C,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),d.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener(\"webglcontextlost\",ce,!1),t.removeEventListener(\"webglcontextrestored\",fe,!1),S.dispose(),T.dispose(),b.dispose(),E.dispose(),ue.dispose(),me.stop()},this.renderBufferImmediate=function(e,t){v.initAttributes();var n=b.get(e);e.hasPositions&&!n.position&&(n.position=d.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=d.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=d.createBuffer()),e.hasColors&&!n.color&&(n.color=d.createBuffer());var r=t.getAttributes();e.hasPositions&&(d.bindBuffer(34962,n.position),d.bufferData(34962,e.positionArray,35048),v.enableAttribute(r.position),d.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(d.bindBuffer(34962,n.normal),d.bufferData(34962,e.normalArray,35048),v.enableAttribute(r.normal),d.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(d.bindBuffer(34962,n.uv),d.bufferData(34962,e.uvArray,35048),v.enableAttribute(r.uv),d.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(d.bindBuffer(34962,n.color),d.bufferData(34962,e.colorArray,35048),v.enableAttribute(r.color),d.vertexAttribPointer(r.color,3,5126,!1,0,0)),v.disableUnusedAttributes(),d.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,a){var o=i.isMesh&&i.matrixWorld.determinant()<0;v.setMaterial(r,o);var s=xe(e,t,r,i),u=!1;j.geometry===n.id&&j.program===s.id&&j.wireframe===(!0===r.wireframe)||(j.geometry=n.id,j.program=s.id,j.wireframe=!0===r.wireframe,u=!0),i.morphTargetInfluences&&(P.update(i,n,r,s),u=!0);var l,c=n.index,f=n.attributes.position,h=1;!0===r.wireframe&&(c=w.getWireframeAttribute(n),h=2);var g=A;null!==c&&(l=_.get(c),(g=k).setIndex(l)),u&&(!function(e,t,n){if(n&&n.isInstancedBufferGeometry&&!m.isWebGL2&&null===p.get(\"ANGLE_instanced_arrays\"))return void console.error(\"THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\");v.initAttributes();var r=n.attributes,i=t.getAttributes(),a=e.defaultAttributeValues;for(var o in i){var s=i[o];if(s>=0){var u=r[o];if(void 0!==u){var l=u.normalized,c=u.itemSize,f=_.get(u);if(void 0===f)continue;var h=f.buffer,g=f.type,y=f.bytesPerElement;if(u.isInterleavedBufferAttribute){var b=u.data,x=b.stride,w=u.offset;b&&b.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(s,b.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=b.meshPerAttribute*b.count)):v.enableAttribute(s),d.bindBuffer(34962,h),d.vertexAttribPointer(s,c,g,l,x*y,w*y)}else u.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(s,u.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=u.meshPerAttribute*u.count)):v.enableAttribute(s),d.bindBuffer(34962,h),d.vertexAttribPointer(s,c,g,l,0,0)}else if(void 0!==a){var E=a[o];if(void 0!==E)switch(E.length){case 2:d.vertexAttrib2fv(s,E);break;case 3:d.vertexAttrib3fv(s,E);break;case 4:d.vertexAttrib4fv(s,E);break;default:d.vertexAttrib1fv(s,E)}}}}v.disableUnusedAttributes()}(r,s,n),null!==c&&d.bindBuffer(34963,l.buffer));var y=1/0;null!==c?y=c.count:void 0!==f&&(y=f.count);var b=n.drawRange.start*h,x=n.drawRange.count*h,E=null!==a?a.start*h:0,M=null!==a?a.count*h:1/0,S=Math.max(b,E),T=Math.min(y,b+x,E+M)-1,C=Math.max(0,T-S+1);if(0!==C){if(i.isMesh)if(!0===r.wireframe)v.setLineWidth(r.wireframeLinewidth*ie()),g.setMode(1);else switch(i.drawMode){case kt:g.setMode(4);break;case Ot:g.setMode(5);break;case Lt:g.setMode(6)}else if(i.isLine){var O=r.linewidth;void 0===O&&(O=1),v.setLineWidth(O*ie()),i.isLineSegments?g.setMode(1):i.isLineLoop?g.setMode(2):g.setMode(3)}else i.isPoints?g.setMode(0):i.isSprite&&g.setMode(4);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&g.renderInstances(n,S,C):g.render(S,C)}},this.compile=function(e,t){(h=T.get(e,t)).init(),e.traverse((function(e){e.isLight&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))})),h.setupLights(t),e.traverse((function(t){if(t.material)if(Array.isArray(t.material))for(var n=0;n<t.material.length;n++)be(t.material[n],e.fog,t);else be(t.material,e.fog,t)}))};var pe=null;var me=new oa;function ve(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)h.pushLight(e),e.castShadow&&h.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||$.intersectsSprite(e)){r&&re.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ne);var i=E.update(e);(a=e.material).visible&&f.push(e,i,a,n,re.z,null)}}else if(e.isImmediateRenderObject)r&&re.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ne),f.push(e,null,e.material,n,re.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||$.intersectsObject(e))){r&&re.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ne);i=E.update(e);var a=e.material;if(Array.isArray(a))for(var o=i.groups,s=0,u=o.length;s<u;s++){var l=o[s],c=a[l.materialIndex];c&&c.visible&&f.push(e,i,c,n,re.z,l)}else a.visible&&f.push(e,i,a,n,re.z,null)}var d=e.children;for(s=0,u=d.length;s<u;s++)ve(d[s],t,n,r)}}function ge(e,t,n,r){for(var i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,u=o.geometry,l=void 0===r?o.material:r,c=o.group;if(n.isArrayCamera){H=n;for(var f=n.cameras,d=0,p=f.length;d<p;d++){var m=f[d];s.layers.test(m.layers)&&(v.viewport(G.copy(m.viewport)),h.setupLights(m),ye(s,t,m,u,l,c))}}else H=null,ye(s,t,n,u,l,c)}}function ye(e,t,n,r,i,a){if(e.onBeforeRender(L,t,n,r,i,a),h=T.get(t,H||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){v.setMaterial(i);var o=xe(n,t.fog,i,e);j.geometry=null,j.program=null,j.wireframe=!1,function(e,t){e.render((function(e){L.renderBufferImmediate(e,t)}))}(e,o)}else L.renderBufferDirect(n,t.fog,r,i,e,a);e.onAfterRender(L,t,n,r,i,a),h=T.get(t,H||n)}function be(e,t,n){var r=b.get(e),i=h.state.lights,a=h.state.shadowsArray,o=i.state.version,s=M.getParameters(e,i.state,a,t,K.numPlanes,K.numIntersection,n),u=M.getProgramCode(e,s),l=r.program,c=!0;if(void 0===l)e.addEventListener(\"dispose\",he);else if(l.code!==u)de(e);else if(r.lightsStateVersion!==o)r.lightsStateVersion=o,c=!1;else{if(void 0!==s.shaderID)return;c=!1}if(c){if(s.shaderID){var f=aa[s.shaderID];r.shader={name:e.type,uniforms:zi(f.uniforms),vertexShader:f.vertexShader,fragmentShader:f.fragmentShader}}else r.shader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.onBeforeCompile(r.shader,L),u=M.getProgramCode(e,s),l=M.acquireProgram(e,r.shader,s,u),r.program=l,e.program=l}var d=l.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var p=0;p<L.maxMorphTargets;p++)d[\"morphTarget\"+p]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(p=0;p<L.maxMorphNormals;p++)d[\"morphNormal\"+p]>=0&&e.numSupportedMorphNormals++}var m=r.shader.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=K.numPlanes,r.numIntersection=K.numIntersection,m.clippingPlanes=K.uniform),r.fog=t,r.lightsStateVersion=o,e.lights&&(m.ambientLightColor.value=i.state.ambient,m.lightProbe.value=i.state.probe,m.directionalLights.value=i.state.directional,m.spotLights.value=i.state.spot,m.rectAreaLights.value=i.state.rectArea,m.pointLights.value=i.state.point,m.hemisphereLights.value=i.state.hemi,m.directionalShadowMap.value=i.state.directionalShadowMap,m.directionalShadowMatrix.value=i.state.directionalShadowMatrix,m.spotShadowMap.value=i.state.spotShadowMap,m.spotShadowMatrix.value=i.state.spotShadowMatrix,m.pointShadowMap.value=i.state.pointShadowMap,m.pointShadowMatrix.value=i.state.pointShadowMatrix);var v=r.program.getUniforms(),g=yo.seqWithValue(v.seq,m);r.uniformsList=g}function xe(e,t,n,r){x.resetTextureUnits();var i=b.get(n),a=h.state.lights;if(ee&&(te||e!==U)){var o=e===U&&n.id===B;K.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,o)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==t?n.needsUpdate=!0:n.lights&&i.lightsStateVersion!==a.state.version?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===K.numPlanes&&i.numIntersection===K.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(be(n,t,r),n.needsUpdate=!1);var s,u,l=!1,c=!1,f=!1,p=i.program,g=p.getUniforms(),_=i.shader.uniforms;if(v.useProgram(p.program)&&(l=!0,c=!0,f=!0),n.id!==B&&(B=n.id,c=!0),l||U!==e){if(g.setValue(d,\"projectionMatrix\",e.projectionMatrix),m.logarithmicDepthBuffer&&g.setValue(d,\"logDepthBufFC\",2/(Math.log(e.far+1)/Math.LN2)),U!==e&&(U=e,c=!0,f=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var w=g.map.cameraPosition;void 0!==w&&w.setValue(d,re.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&g.setValue(d,\"viewMatrix\",e.matrixWorldInverse)}if(n.skinning){g.setOptional(d,r,\"bindMatrix\"),g.setOptional(d,r,\"bindMatrixInverse\");var E=r.skeleton;if(E){var M=E.bones;if(m.floatVertexTextures){if(void 0===E.boneTexture){var S=Math.sqrt(4*M.length);S=cn.ceilPowerOfTwo(S),S=Math.max(S,4);var T=new Float32Array(S*S*4);T.set(E.boneMatrices);var C=new Qi(T,S,S,We,ze);C.needsUpdate=!0,E.boneMatrices=T,E.boneTexture=C,E.boneTextureSize=S}g.setValue(d,\"boneTexture\",E.boneTexture,x),g.setValue(d,\"boneTextureSize\",E.boneTextureSize)}else g.setOptional(d,E,\"boneMatrices\")}}return c&&(g.setValue(d,\"toneMappingExposure\",L.toneMappingExposure),g.setValue(d,\"toneMappingWhitePoint\",L.toneMappingWhitePoint),n.lights&&(u=f,(s=_).ambientLightColor.needsUpdate=u,s.lightProbe.needsUpdate=u,s.directionalLights.needsUpdate=u,s.pointLights.needsUpdate=u,s.spotLights.needsUpdate=u,s.rectAreaLights.needsUpdate=u,s.hemisphereLights.needsUpdate=u),t&&n.fog&&function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)}(_,t),n.isMeshBasicMaterial?_e(_,n):n.isMeshLambertMaterial?(_e(_,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(_,n)):n.isMeshPhongMaterial?(_e(_,n),n.isMeshToonMaterial?function(e,t){we(e,t),t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(_,n):we(_,n)):n.isMeshStandardMaterial?(_e(_,n),n.isMeshPhysicalMaterial?function(e,t){Ee(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===y&&e.clearcoatNormalScale.value.negate());e.transparency.value=t.transparency}(_,n):Ee(_,n)):n.isMeshMatcapMaterial?(_e(_,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===y&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===y&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(_,n)):n.isMeshDepthMaterial?(_e(_,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(_,n)):n.isMeshDistanceMaterial?(_e(_,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(_,n)):n.isMeshNormalMaterial?(_e(_,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===y&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===y&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(_,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(_,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(_,n)):n.isPointsMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*Y,e.scale.value=.5*X,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(_,n):n.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,e.map.value=t.map,null!==t.map&&(!0===t.map.matrixAutoUpdate&&t.map.updateMatrix(),e.uvTransform.value.copy(t.map.matrix))}(_,n):n.isShadowMaterial&&(_.color.value.copy(n.color),_.opacity.value=n.opacity),void 0!==_.ltc_1&&(_.ltc_1.value=ia.LTC_1),void 0!==_.ltc_2&&(_.ltc_2.value=ia.LTC_2),yo.upload(d,i.uniformsList,_,x)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(yo.upload(d,i.uniformsList,_,x),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&g.setValue(d,\"center\",r.center),g.setValue(d,\"modelViewMatrix\",r.modelViewMatrix),g.setValue(d,\"normalMatrix\",r.normalMatrix),g.setValue(d,\"modelMatrix\",r.matrixWorld),p}function _e(e,t){var n;e.opacity.value=t.opacity,t.color&&e.diffuse.value.copy(t.color),t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity),t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.specularMap&&(e.specularMap.value=t.specularMap),t.envMap&&(e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap.isCubeTexture?-1:1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio,e.maxMipLevel.value=b.get(t.envMap).__maxMipLevel),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity),t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity),t.map?n=t.map:t.specularMap?n=t.specularMap:t.displacementMap?n=t.displacementMap:t.normalMap?n=t.normalMap:t.bumpMap?n=t.bumpMap:t.roughnessMap?n=t.roughnessMap:t.metalnessMap?n=t.metalnessMap:t.alphaMap?n=t.alphaMap:t.emissiveMap&&(n=t.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}function we(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===y&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===y&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function Ee(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===y&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===y&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}me.setAnimationLoop((function(e){ue.isPresenting()||pe&&pe(e)})),\"undefined\"!=typeof window&&me.setContext(window),this.setAnimationLoop=function(e){pe=e,ue.setAnimationLoop(e),me.start()},this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(console.warn(\"THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.\"),n=arguments[2]),void 0!==arguments[3]&&(console.warn(\"THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.\"),r=arguments[3]),t&&t.isCamera){if(!R){j.geometry=null,j.program=null,j.wireframe=!1,B=-1,U=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),ue.enabled&&(t=ue.getCamera(t)),(h=T.get(e,t)).init(),e.onBeforeRender(L,e,t,n||z),ne.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),$.setFromMatrix(ne),te=this.localClippingEnabled,ee=K.init(this.clippingPlanes,te,t),(f=S.get(e,t)).init(),ve(e,t,0,L.sortObjects),!0===L.sortObjects&&f.sort(),ee&&K.beginShadows();var i=h.state.shadowsArray;le.render(i,e,t),h.setupLights(t),ee&&K.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),C.render(f,e,t,r);var a=f.opaque,o=f.transparent;if(e.overrideMaterial){var s=e.overrideMaterial;a.length&&ge(a,e,t,s),o.length&&ge(o,e,t,s)}else a.length&&ge(a,e,t),o.length&&ge(o,e,t);e.onAfterRender(L,e,t),null!==z&&(x.updateRenderTargetMipmap(z),x.updateMultisampleRenderTarget(z)),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),ue.enabled&&ue.submitFrame(),f=null,h=null}}else console.error(\"THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.\")},this.setFramebuffer=function(e){N!==e&&d.bindFramebuffer(36160,e),N=e},this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return D},this.getRenderTarget=function(){return z},this.setRenderTarget=function(e,t,n){z=e,I=t,D=n,e&&void 0===b.get(e).__webglFramebuffer&&x.setupRenderTarget(e);var r=N,i=!1;if(e){var a=b.get(e).__webglFramebuffer;e.isWebGLRenderTargetCube?(r=a[t||0],i=!0):r=e.isWebGLMultisampleRenderTarget?b.get(e).__webglMultisampledFramebuffer:a,G.copy(e.viewport),V.copy(e.scissor),W=e.scissorTest}else G.copy(Q).multiplyScalar(Y).floor(),V.copy(Z).multiplyScalar(Y).floor(),W=J;if(F!==r&&(d.bindFramebuffer(36160,r),F=r),v.viewport(G),v.scissor(V),v.setScissorTest(W),i){var o=b.get(e.texture);d.framebufferTexture2D(36160,36064,34069+(t||0),o.__webglTexture,n||0)}},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=b.get(e).__webglFramebuffer;if(e.isWebGLRenderTargetCube&&void 0!==o&&(s=s[o]),s){var u=!1;s!==F&&(d.bindFramebuffer(36160,s),u=!0);try{var l=e.texture,c=l.format,f=l.type;if(c!==We&&O.convert(c)!==d.getParameter(35739))return void console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.\");if(!(f===Oe||O.convert(f)===d.getParameter(35738)||f===ze&&(m.isWebGL2||p.get(\"OES_texture_float\")||p.get(\"WEBGL_color_buffer_float\"))||f===Fe&&(m.isWebGL2?p.get(\"EXT_color_buffer_float\"):p.get(\"EXT_color_buffer_half_float\"))))return void console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.\");36053===d.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&d.readPixels(t,n,r,i,O.convert(c),O.convert(f),a):console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.\")}finally{u&&d.bindFramebuffer(36160,F)}}}else console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.\")},this.copyFramebufferToTexture=function(e,t,n){var r=t.image.width,i=t.image.height,a=O.convert(t.format);x.setTexture2D(t,0),d.copyTexImage2D(3553,n||0,a,e.x,e.y,r,i,0)},this.copyTextureToTexture=function(e,t,n,r){var i=t.image.width,a=t.image.height,o=O.convert(n.format),s=O.convert(n.type);x.setTexture2D(n,0),t.isDataTexture?d.texSubImage2D(3553,r||0,e.x,e.y,i,a,o,s,t.image.data):d.texSubImage2D(3553,r||0,e.x,e.y,o,s,t.image)},\"undefined\"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent(\"observe\",{detail:this}))}function os(e,t){this.name=\"\",this.color=new Dr(e),this.density=void 0!==t?t:25e-5}function ss(e,t,n){this.name=\"\",this.color=new Dr(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function us(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function ls(e,t,n,r){this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function cs(e){Hr.call(this),this.type=\"SpriteMaterial\",this.color=new Dr(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(e)}Object.assign(rs.prototype,r.prototype),Object.assign(is.prototype,r.prototype),Object.assign(os.prototype,{isFogExp2:!0,clone:function(){return new os(this.color,this.density)},toJSON:function(){return{type:\"FogExp2\",color:this.color.getHex(),density:this.density}}}),Object.assign(ss.prototype,{isFog:!0,clone:function(){return new ss(this.color,this.near,this.far)},toJSON:function(){return{type:\"Fog\",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(us.prototype,\"needsUpdate\",{set:function(e){!0===e&&this.version++}}),Object.assign(us.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(e){if(Array.isArray(e))throw new TypeError(\"THREE.BufferAttribute: array should be a Typed Array.\");return this.count=void 0!==e?e.length/this.stride:0,this.array=e,this},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}}),Object.defineProperties(ls.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(ls.prototype,{isInterleavedBufferAttribute:!0,setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}}),cs.prototype=Object.create(Hr.prototype),cs.prototype.constructor=cs,cs.prototype.isSpriteMaterial=!0,cs.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var fs=new mn,hs=new mn,ds=new mn,ps=new fn,ms=new fn,vs=new Ln,gs=new mn,ys=new mn,bs=new mn,xs=new fn,_s=new fn,ws=new fn;function Es(e){if(Zn.call(this),this.type=\"Sprite\",void 0===Ko){Ko=new li;var t=new us(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Ko.setIndex([0,1,2,0,2,3]),Ko.addAttribute(\"position\",new ls(t,3,0,!1)),Ko.addAttribute(\"uv\",new ls(t,2,3,!1))}this.geometry=Ko,this.material=void 0!==e?e:new cs,this.center=new fn(.5,.5)}function Ms(e,t,n,r,i,a){ps.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(ms.x=a*ps.x-i*ps.y,ms.y=i*ps.x+a*ps.y):ms.copy(ps),e.copy(t),e.x+=ms.x,e.y+=ms.y,e.applyMatrix4(vs)}Es.prototype=Object.assign(Object.create(Zn.prototype),{constructor:Es,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.'),hs.setFromMatrixScale(this.matrixWorld),vs.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ds.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&hs.multiplyScalar(-ds.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;Ms(gs.set(-.5,-.5,0),ds,a,hs,n,r),Ms(ys.set(.5,-.5,0),ds,a,hs,n,r),Ms(bs.set(.5,.5,0),ds,a,hs,n,r),xs.set(0,0),_s.set(1,0),ws.set(1,1);var o=e.ray.intersectTriangle(gs,ys,bs,!1,fs);if(null!==o||(Ms(ys.set(-.5,.5,0),ds,a,hs,n,r),_s.set(0,1),null!==(o=e.ray.intersectTriangle(gs,bs,ys,!1,fs)))){var s=e.ray.origin.distanceTo(fs);s<e.near||s>e.far||t.push({distance:s,point:fs.clone(),uv:Lr.getUV(fs,gs,ys,bs,xs,_s,ws,new fn),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return Zn.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this}});var Ss=new mn,Ts=new mn;function Cs(){Zn.call(this),this.type=\"LOD\",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Ps(e,t){e&&e.isGeometry&&console.error(\"THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.\"),Ci.call(this,e,t),this.type=\"SkinnedMesh\",this.bindMode=\"attached\",this.bindMatrix=new Ln,this.bindMatrixInverse=new Ln}Cs.prototype=Object.assign(Object.create(Zn.prototype),{constructor:Cs,isLOD:!0,copy:function(e){Zn.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);return n.splice(r,0,{distance:t,object:e}),this.add(e),this},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(e,t){Ss.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(Ss);this.getObjectForDistance(n).raycast(e,t)},update:function(e){var t=this.levels;if(t.length>1){Ss.setFromMatrixPosition(e.matrixWorld),Ts.setFromMatrixPosition(this.matrixWorld);var n=Ss.distanceTo(Ts);t[0].object.visible=!0;for(var r=1,i=t.length;r<i&&n>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(;r<i;r++)t[r].object.visible=!1}},toJSON:function(e){var t=Zn.prototype.toJSON.call(this,e);t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}}),Ps.prototype=Object.assign(Object.create(Ci.prototype),{constructor:Ps,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new wn,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Ci.prototype.updateMatrixWorld.call(this,e),\"attached\"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):\"detached\"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn(\"THREE.SkinnedMesh: Unrecognized bindMode: \"+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var As=new Ln,ks=new Ln;function Os(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn(\"THREE.Skeleton boneInverses is the wrong length.\"),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Ln)}}function Ls(){Zn.call(this),this.type=\"Bone\"}function Rs(e){Hr.call(this),this.type=\"LineBasicMaterial\",this.color=new Dr(16777215),this.linewidth=1,this.linecap=\"round\",this.linejoin=\"round\",this.lights=!1,this.setValues(e)}Object.assign(Os.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new Ln;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){var e,t,n;for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:ks;As.multiplyMatrices(o,t[i]),As.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new Os(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}}),Ls.prototype=Object.assign(Object.create(Zn.prototype),{constructor:Ls,isBone:!0}),Rs.prototype=Object.create(Hr.prototype),Rs.prototype.constructor=Rs,Rs.prototype.isLineBasicMaterial=!0,Rs.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this};var Ns=new mn,Is=new mn,Ds=new Ln,zs=new _r,Fs=new dr;function Bs(e,t,n){1===n&&console.error(\"THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.\"),Zn.call(this),this.type=\"Line\",this.geometry=void 0!==e?e:new li,this.material=void 0!==t?t:new Rs({color:16777215*Math.random()})}Bs.prototype=Object.assign(Object.create(Zn.prototype),{constructor:Bs,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Ns.fromBufferAttribute(t,r-1),Is.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Ns.distanceTo(Is);e.addAttribute(\"lineDistance\",new $r(n,1))}else console.warn(\"THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.\");else if(e.isGeometry){var a=e.vertices;(n=e.lineDistances)[0]=0;for(r=1,i=a.length;r<i;r++)n[r]=n[r-1],n[r]+=a[r-1].distanceTo(a[r])}return this},raycast:function(e,t){var n=e.linePrecision,r=this.geometry,i=this.matrixWorld;if(null===r.boundingSphere&&r.computeBoundingSphere(),Fs.copy(r.boundingSphere),Fs.applyMatrix4(i),Fs.radius+=n,!1!==e.ray.intersectsSphere(Fs)){Ds.getInverse(i),zs.copy(e.ray).applyMatrix4(Ds);var a=n/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,s=new mn,u=new mn,l=new mn,c=new mn,f=this&&this.isLineSegments?2:1;if(r.isBufferGeometry){var h=r.index,d=r.attributes.position.array;if(null!==h)for(var p=h.array,m=0,v=p.length-1;m<v;m+=f){var g=p[m],y=p[m+1];if(s.fromArray(d,3*g),u.fromArray(d,3*y),!(zs.distanceSqToSegment(s,u,c,l)>o))c.applyMatrix4(this.matrixWorld),(_=e.ray.origin.distanceTo(c))<e.near||_>e.far||t.push({distance:_,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}else for(m=0,v=d.length/3-1;m<v;m+=f){if(s.fromArray(d,3*m),u.fromArray(d,3*m+3),!(zs.distanceSqToSegment(s,u,c,l)>o))c.applyMatrix4(this.matrixWorld),(_=e.ray.origin.distanceTo(c))<e.near||_>e.far||t.push({distance:_,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else if(r.isGeometry){var b=r.vertices,x=b.length;for(m=0;m<x-1;m+=f){var _;if(!(zs.distanceSqToSegment(b[m],b[m+1],c,l)>o))c.applyMatrix4(this.matrixWorld),(_=e.ray.origin.distanceTo(c))<e.near||_>e.far||t.push({distance:_,point:l.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var js=new mn,Us=new mn;function Hs(e,t){Bs.call(this,e,t),this.type=\"LineSegments\"}function Gs(e,t){Bs.call(this,e,t),this.type=\"LineLoop\"}function Vs(e){Hr.call(this),this.type=\"PointsMaterial\",this.color=new Dr(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(e)}Hs.prototype=Object.assign(Object.create(Bs.prototype),{constructor:Hs,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)js.fromBufferAttribute(t,r),Us.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+js.distanceTo(Us);e.addAttribute(\"lineDistance\",new $r(n,1))}else console.warn(\"THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.\");else if(e.isGeometry){var a=e.vertices;for(n=e.lineDistances,r=0,i=a.length;r<i;r+=2)js.copy(a[r]),Us.copy(a[r+1]),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+js.distanceTo(Us)}return this}}),Gs.prototype=Object.assign(Object.create(Bs.prototype),{constructor:Gs,isLineLoop:!0}),Vs.prototype=Object.create(Hr.prototype),Vs.prototype.constructor=Vs,Vs.prototype.isPointsMaterial=!0,Vs.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var Ws=new Ln,qs=new _r,Xs=new dr,Ys=new mn;function Qs(e,t){Zn.call(this),this.type=\"Points\",this.geometry=void 0!==e?e:new li,this.material=void 0!==t?t:new Vs({color:16777215*Math.random()}),this.updateMorphTargets()}function Zs(e,t,n,r,i,a,o){var s=qs.distanceSqToPoint(e);if(s<n){var u=new mn;qs.closestPointToPoint(e,u),u.applyMatrix4(r);var l=i.ray.origin.distanceTo(u);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:o})}}function Js(e,t,n,r,i,a,o,s,u){_n.call(this,e,t,n,r,i,a,o,s,u),this.format=void 0!==o?o:Ve,this.minFilter=void 0!==a?a:Te,this.magFilter=void 0!==i?i:Te,this.generateMipmaps=!1}function $s(e,t,n,r,i,a,o,s,u,l,c,f){_n.call(this,null,a,o,s,u,l,r,i,c,f),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Ks(e,t,n,r,i,a,o,s,u){_n.call(this,e,t,n,r,i,a,o,s,u),this.needsUpdate=!0}function eu(e,t,n,r,i,a,o,s,u,l){if((l=void 0!==l?l:Qe)!==Qe&&l!==Ze)throw new Error(\"DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat\");void 0===n&&l===Qe&&(n=Ne),void 0===n&&l===Ze&&(n=He),_n.call(this,null,r,i,a,o,s,l,n,u),this.image={width:e,height:t},this.magFilter=void 0!==o?o:_e,this.minFilter=void 0!==s?s:_e,this.flipY=!1,this.generateMipmaps=!1}function tu(e){li.call(this),this.type=\"WireframeGeometry\";var t,n,r,i,a,o,s,u,l,c,f=[],h=[0,0],d={},p=[\"a\",\"b\",\"c\"];if(e&&e.isGeometry){var m=e.faces;for(t=0,r=m.length;t<r;t++){var v=m[t];for(n=0;n<3;n++)s=v[p[n]],u=v[p[(n+1)%3]],h[0]=Math.min(s,u),h[1]=Math.max(s,u),void 0===d[l=h[0]+\",\"+h[1]]&&(d[l]={index1:h[0],index2:h[1]})}for(l in d)o=d[l],c=e.vertices[o.index1],f.push(c.x,c.y,c.z),c=e.vertices[o.index2],f.push(c.x,c.y,c.z)}else if(e&&e.isBufferGeometry){var g,y,b,x,_,w,E;if(c=new mn,null!==e.index){for(g=e.attributes.position,y=e.index,0===(b=e.groups).length&&(b=[{start:0,count:y.count,materialIndex:0}]),i=0,a=b.length;i<a;++i)for(t=_=(x=b[i]).start,r=_+x.count;t<r;t+=3)for(n=0;n<3;n++)s=y.getX(t+n),u=y.getX(t+(n+1)%3),h[0]=Math.min(s,u),h[1]=Math.max(s,u),void 0===d[l=h[0]+\",\"+h[1]]&&(d[l]={index1:h[0],index2:h[1]});for(l in d)o=d[l],c.fromBufferAttribute(g,o.index1),f.push(c.x,c.y,c.z),c.fromBufferAttribute(g,o.index2),f.push(c.x,c.y,c.z)}else for(t=0,r=(g=e.attributes.position).count/3;t<r;t++)for(n=0;n<3;n++)w=3*t+n,c.fromBufferAttribute(g,w),f.push(c.x,c.y,c.z),E=3*t+(n+1)%3,c.fromBufferAttribute(g,E),f.push(c.x,c.y,c.z)}this.addAttribute(\"position\",new $r(f,3))}function nu(e,t,n){Ni.call(this),this.type=\"ParametricGeometry\",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new ru(e,t,n)),this.mergeVertices()}function ru(e,t,n){li.call(this),this.type=\"ParametricBufferGeometry\",this.parameters={func:e,slices:t,stacks:n};var r,i,a=[],o=[],s=[],u=[],l=new mn,c=new mn,f=new mn,h=new mn,d=new mn;e.length<3&&console.error(\"THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.\");var p=t+1;for(r=0;r<=n;r++){var m=r/n;for(i=0;i<=t;i++){var v=i/t;e(v,m,c),o.push(c.x,c.y,c.z),v-1e-5>=0?(e(v-1e-5,m,f),h.subVectors(c,f)):(e(v+1e-5,m,f),h.subVectors(f,c)),m-1e-5>=0?(e(v,m-1e-5,f),d.subVectors(c,f)):(e(v,m+1e-5,f),d.subVectors(f,c)),l.crossVectors(h,d).normalize(),s.push(l.x,l.y,l.z),u.push(v,m)}}for(r=0;r<n;r++)for(i=0;i<t;i++){var g=r*p+i,y=r*p+i+1,b=(r+1)*p+i+1,x=(r+1)*p+i;a.push(g,y,x),a.push(y,b,x)}this.setIndex(a),this.addAttribute(\"position\",new $r(o,3)),this.addAttribute(\"normal\",new $r(s,3)),this.addAttribute(\"uv\",new $r(u,2))}function iu(e,t,n,r){Ni.call(this),this.type=\"PolyhedronGeometry\",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new au(e,t,n,r)),this.mergeVertices()}function au(e,t,n,r){li.call(this),this.type=\"PolyhedronBufferGeometry\",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var i=[],a=[];function o(e,t,n,r){var i,a,o=Math.pow(2,r),u=[];for(i=0;i<=o;i++){u[i]=[];var l=e.clone().lerp(n,i/o),c=t.clone().lerp(n,i/o),f=o-i;for(a=0;a<=f;a++)u[i][a]=0===a&&i===o?l:l.clone().lerp(c,a/f)}for(i=0;i<o;i++)for(a=0;a<2*(o-i)-1;a++){var h=Math.floor(a/2);a%2==0?(s(u[i][h+1]),s(u[i+1][h]),s(u[i][h])):(s(u[i][h+1]),s(u[i+1][h+1]),s(u[i+1][h]))}}function s(e){i.push(e.x,e.y,e.z)}function u(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function l(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function c(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new mn,r=new mn,i=new mn,a=0;a<t.length;a+=3)u(t[a+0],n),u(t[a+1],r),u(t[a+2],i),o(n,r,i,e)}(r=r||0),function(e){for(var t=new mn,n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){for(var e=new mn,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var n=c(e)/2/Math.PI+.5,r=(o=e,Math.atan2(-o.y,Math.sqrt(o.x*o.x+o.z*o.z))/Math.PI+.5);a.push(n,1-r)}var o;(function(){for(var e=new mn,t=new mn,n=new mn,r=new mn,o=new fn,s=new fn,u=new fn,f=0,h=0;f<i.length;f+=9,h+=6){e.set(i[f+0],i[f+1],i[f+2]),t.set(i[f+3],i[f+4],i[f+5]),n.set(i[f+6],i[f+7],i[f+8]),o.set(a[h+0],a[h+1]),s.set(a[h+2],a[h+3]),u.set(a[h+4],a[h+5]),r.copy(e).add(t).add(n).divideScalar(3);var d=c(r);l(o,h+0,e,d),l(s,h+2,t,d),l(u,h+4,n,d)}})(),function(){for(var e=0;e<a.length;e+=6){var t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.addAttribute(\"position\",new $r(i,3)),this.addAttribute(\"normal\",new $r(i.slice(),3)),this.addAttribute(\"uv\",new $r(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function ou(e,t){Ni.call(this),this.type=\"TetrahedronGeometry\",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new su(e,t)),this.mergeVertices()}function su(e,t){au.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type=\"TetrahedronBufferGeometry\",this.parameters={radius:e,detail:t}}function uu(e,t){Ni.call(this),this.type=\"OctahedronGeometry\",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new lu(e,t)),this.mergeVertices()}function lu(e,t){au.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type=\"OctahedronBufferGeometry\",this.parameters={radius:e,detail:t}}function cu(e,t){Ni.call(this),this.type=\"IcosahedronGeometry\",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new fu(e,t)),this.mergeVertices()}function fu(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];au.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type=\"IcosahedronBufferGeometry\",this.parameters={radius:e,detail:t}}function hu(e,t){Ni.call(this),this.type=\"DodecahedronGeometry\",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new du(e,t)),this.mergeVertices()}function du(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];au.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type=\"DodecahedronBufferGeometry\",this.parameters={radius:e,detail:t}}function pu(e,t,n,r,i,a){Ni.call(this),this.type=\"TubeGeometry\",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==a&&console.warn(\"THREE.TubeGeometry: taper has been removed.\");var o=new mu(e,t,n,r,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function mu(e,t,n,r,i){li.call(this),this.type=\"TubeBufferGeometry\",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,u=new mn,l=new mn,c=new fn,f=new mn,h=[],d=[],p=[],m=[];function v(i){f=e.getPointAt(i/t,f);var o=a.normals[i],c=a.binormals[i];for(s=0;s<=r;s++){var p=s/r*Math.PI*2,m=Math.sin(p),v=-Math.cos(p);l.x=v*o.x+m*c.x,l.y=v*o.y+m*c.y,l.z=v*o.z+m*c.z,l.normalize(),d.push(l.x,l.y,l.z),u.x=f.x+n*l.x,u.y=f.y+n*l.y,u.z=f.z+n*l.z,h.push(u.x,u.y,u.z)}}!function(){for(o=0;o<t;o++)v(o);v(!1===i?t:0),function(){for(o=0;o<=t;o++)for(s=0;s<=r;s++)c.x=o/t,c.y=s/r,p.push(c.x,c.y)}(),function(){for(s=1;s<=t;s++)for(o=1;o<=r;o++){var e=(r+1)*(s-1)+(o-1),n=(r+1)*s+(o-1),i=(r+1)*s+o,a=(r+1)*(s-1)+o;m.push(e,n,a),m.push(n,i,a)}}()}(),this.setIndex(m),this.addAttribute(\"position\",new $r(h,3)),this.addAttribute(\"normal\",new $r(d,3)),this.addAttribute(\"uv\",new $r(p,2))}function vu(e,t,n,r,i,a,o){Ni.call(this),this.type=\"TorusKnotGeometry\",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},void 0!==o&&console.warn(\"THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.\"),this.fromBufferGeometry(new gu(e,t,n,r,i,a)),this.mergeVertices()}function gu(e,t,n,r,i,a){li.call(this),this.type=\"TorusKnotBufferGeometry\",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,a=a||3;var o,s,u=[],l=[],c=[],f=[],h=new mn,d=new mn,p=new mn,m=new mn,v=new mn,g=new mn,y=new mn;for(o=0;o<=n;++o){var b=o/n*i*Math.PI*2;for(C(b,i,a,e,p),C(b+.01,i,a,e,m),g.subVectors(m,p),y.addVectors(m,p),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var x=s/r*Math.PI*2,_=-t*Math.cos(x),w=t*Math.sin(x);h.x=p.x+(_*y.x+w*v.x),h.y=p.y+(_*y.y+w*v.y),h.z=p.z+(_*y.z+w*v.z),l.push(h.x,h.y,h.z),d.subVectors(h,p).normalize(),c.push(d.x,d.y,d.z),f.push(o/n),f.push(s/r)}}for(s=1;s<=n;s++)for(o=1;o<=r;o++){var E=(r+1)*(s-1)+(o-1),M=(r+1)*s+(o-1),S=(r+1)*s+o,T=(r+1)*(s-1)+o;u.push(E,M,T),u.push(M,S,T)}function C(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*a,i.y=r*(2+u)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(u),this.addAttribute(\"position\",new $r(l,3)),this.addAttribute(\"normal\",new $r(c,3)),this.addAttribute(\"uv\",new $r(f,2))}function yu(e,t,n,r,i){Ni.call(this),this.type=\"TorusGeometry\",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new bu(e,t,n,r,i)),this.mergeVertices()}function bu(e,t,n,r,i){li.call(this),this.type=\"TorusBufferGeometry\",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var a,o,s=[],u=[],l=[],c=[],f=new mn,h=new mn,d=new mn;for(a=0;a<=n;a++)for(o=0;o<=r;o++){var p=o/r*i,m=a/n*Math.PI*2;h.x=(e+t*Math.cos(m))*Math.cos(p),h.y=(e+t*Math.cos(m))*Math.sin(p),h.z=t*Math.sin(m),u.push(h.x,h.y,h.z),f.x=e*Math.cos(p),f.y=e*Math.sin(p),d.subVectors(h,f).normalize(),l.push(d.x,d.y,d.z),c.push(o/r),c.push(a/n)}for(a=1;a<=n;a++)for(o=1;o<=r;o++){var v=(r+1)*a+o-1,g=(r+1)*(a-1)+o-1,y=(r+1)*(a-1)+o,b=(r+1)*a+o;s.push(v,g,b),s.push(g,y,b)}this.setIndex(s),this.addAttribute(\"position\",new $r(u,3)),this.addAttribute(\"normal\",new $r(l,3)),this.addAttribute(\"uv\",new $r(c,2))}Qs.prototype=Object.assign(Object.create(Zn.prototype),{constructor:Qs,isPoints:!0,raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Xs.copy(n.boundingSphere),Xs.applyMatrix4(r),Xs.radius+=i,!1!==e.ray.intersectsSphere(Xs)){Ws.getInverse(r),qs.copy(e.ray).applyMatrix4(Ws);var a=i/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(n.isBufferGeometry){var s=n.index,u=n.attributes.position.array;if(null!==s)for(var l=s.array,c=0,f=l.length;c<f;c++){var h=l[c];Ys.fromArray(u,3*h),Zs(Ys,h,o,r,e,t,this)}else{c=0;for(var d=u.length/3;c<d;c++)Ys.fromArray(u,3*c),Zs(Ys,c,o,r,e,t,this)}}else{var p=n.vertices;for(c=0,d=p.length;c<d;c++)Zs(p[c],c,o,r,e,t,this)}}},updateMorphTargets:function(){var e,t,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,a=Object.keys(i);if(a.length>0){var o=i[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,t=o.length;e<t;e++)n=o[e].name||String(e),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}else{var s=r.morphTargets;void 0!==s&&s.length>0&&console.error(\"THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.\")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Js.prototype=Object.assign(Object.create(_n.prototype),{constructor:Js,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),$s.prototype=Object.create(_n.prototype),$s.prototype.constructor=$s,$s.prototype.isCompressedTexture=!0,Ks.prototype=Object.create(_n.prototype),Ks.prototype.constructor=Ks,Ks.prototype.isCanvasTexture=!0,eu.prototype=Object.create(_n.prototype),eu.prototype.constructor=eu,eu.prototype.isDepthTexture=!0,tu.prototype=Object.create(li.prototype),tu.prototype.constructor=tu,nu.prototype=Object.create(Ni.prototype),nu.prototype.constructor=nu,ru.prototype=Object.create(li.prototype),ru.prototype.constructor=ru,iu.prototype=Object.create(Ni.prototype),iu.prototype.constructor=iu,au.prototype=Object.create(li.prototype),au.prototype.constructor=au,ou.prototype=Object.create(Ni.prototype),ou.prototype.constructor=ou,su.prototype=Object.create(au.prototype),su.prototype.constructor=su,uu.prototype=Object.create(Ni.prototype),uu.prototype.constructor=uu,lu.prototype=Object.create(au.prototype),lu.prototype.constructor=lu,cu.prototype=Object.create(Ni.prototype),cu.prototype.constructor=cu,fu.prototype=Object.create(au.prototype),fu.prototype.constructor=fu,hu.prototype=Object.create(Ni.prototype),hu.prototype.constructor=hu,du.prototype=Object.create(au.prototype),du.prototype.constructor=du,pu.prototype=Object.create(Ni.prototype),pu.prototype.constructor=pu,mu.prototype=Object.create(li.prototype),mu.prototype.constructor=mu,mu.prototype.toJSON=function(){var e=li.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},vu.prototype=Object.create(Ni.prototype),vu.prototype.constructor=vu,gu.prototype=Object.create(li.prototype),gu.prototype.constructor=gu,yu.prototype=Object.create(Ni.prototype),yu.prototype.constructor=yu,bu.prototype=Object.create(li.prototype),bu.prototype.constructor=bu;var xu=function(e,t,n){n=n||2;var r,i,a,o,s,u,l,c=t&&t.length,f=c?t[0]*n:e.length,h=_u(e,0,f,n,!0),d=[];if(!h||h.next===h.prev)return d;if(c&&(h=function(e,t,n,r){var i,a,o,s,u,l=[];for(i=0,a=t.length;i<a;i++)o=t[i]*r,s=i<a-1?t[i+1]*r:e.length,(u=_u(e,o,s,r,!1))===u.next&&(u.steiner=!0),l.push(Ou(u));for(l.sort(Pu),i=0;i<l.length;i++)Au(l[i],n),n=wu(n,n.next);return n}(e,t,h,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var p=n;p<f;p+=n)(s=e[p])<r&&(r=s),(u=e[p+1])<i&&(i=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-r,o-i))?1/l:0}return Eu(h,d,n,r,i,l),d};function _u(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Bu(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Bu(a,e[a],e[a+1],o);return o&&Iu(o,o.next)&&(ju(o),o=o.next),o}function wu(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Iu(r,r.next)&&0!==Nu(r.prev,r,r.next))r=r.next;else{if(ju(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Eu(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=ku(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?Su(e,r,i,a):Mu(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),ju(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?Eu(e=Tu(e,t,n),t,n,r,i,a,2):2===o&&Cu(e,t,n,r,i,a):Eu(wu(e),t,n,r,i,a,1);break}}}function Mu(e){var t=e.prev,n=e,r=e.next;if(Nu(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Lu(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Nu(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Su(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Nu(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,f=ku(s,u,t,n,r),h=ku(l,c,t,n,r),d=e.prevZ,p=e.nextZ;d&&d.z>=f&&p&&p.z<=h;){if(d!==e.prev&&d!==e.next&&Lu(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Nu(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==e.prev&&p!==e.next&&Lu(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Nu(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&Lu(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Nu(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&Lu(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Nu(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Tu(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Iu(i,a)&&Du(i,r,r.next,a)&&zu(i,a)&&zu(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),ju(r),ju(r.next),r=e=a),r=r.next}while(r!==e);return r}function Cu(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Ru(o,s)){var u=Fu(o,s);return o=wu(o,o.next),u=wu(u,u.next),Eu(o,t,n,r,i,a),void Eu(u,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function Pu(e,t){return e.x-t.x}function Au(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n.prev;var u,l=n,c=n.x,f=n.y,h=1/0;r=n.next;for(;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&Lu(a<f?i:o,a,c,f,a<f?o:i,a,r.x,r.y)&&((u=Math.abs(a-r.y)/(i-r.x))<h||u===h&&r.x>n.x)&&zu(r,e)&&(n=r,h=u),r=r.next;return n}(e,t)){var n=Fu(t,e);wu(n,n.next)}}function ku(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Ou(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Lu(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Ru(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Du(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&zu(e,t)&&zu(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)}function Nu(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Iu(e,t){return e.x===t.x&&e.y===t.y}function Du(e,t,n,r){return!!(Iu(e,n)&&Iu(t,r)||Iu(e,r)&&Iu(n,t))||Nu(e,t,n)>0!=Nu(e,t,r)>0&&Nu(n,r,e)>0!=Nu(n,r,t)>0}function zu(e,t){return Nu(e.prev,e,e.next)<0?Nu(e,t,e.next)>=0&&Nu(e,e.prev,t)>=0:Nu(e,t,e.prev)<0||Nu(e,e.next,t)<0}function Fu(e,t){var n=new Uu(e.i,e.x,e.y),r=new Uu(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Bu(e,t,n,r){var i=new Uu(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ju(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Uu(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Hu={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return Hu.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];Gu(e),Vu(n,e);var a=e.length;t.forEach(Gu);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,Vu(n,t[o]);var s=xu(n,r);for(o=0;o<s.length;o+=3)i.push(s.slice(o,o+3));return i}};function Gu(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Vu(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Wu(e,t){Ni.call(this),this.type=\"ExtrudeGeometry\",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new qu(e,t)),this.mergeVertices()}function qu(e,t){li.call(this),this.type=\"ExtrudeBufferGeometry\",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],a=0,o=e.length;a<o;a++){s(e[a])}function s(e){var a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,u=void 0!==t.depth?t.depth:100,l=void 0===t.bevelEnabled||t.bevelEnabled,c=void 0!==t.bevelThickness?t.bevelThickness:6,f=void 0!==t.bevelSize?t.bevelSize:c-2,h=void 0!==t.bevelOffset?t.bevelOffset:0,d=void 0!==t.bevelSegments?t.bevelSegments:3,p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Xu;void 0!==t.amount&&(console.warn(\"THREE.ExtrudeBufferGeometry: amount has been renamed to depth.\"),u=t.amount);var v,g,y,b,x,_,w,E,M=!1;p&&(v=p.getSpacedPoints(s),M=!0,l=!1,g=p.computeFrenetFrames(s,!1),y=new mn,b=new mn,x=new mn),l||(d=0,c=0,f=0,h=0);var S=e.extractPoints(o),T=S.shape,C=S.holes;if(!Hu.isClockWise(T))for(T=T.reverse(),w=0,E=C.length;w<E;w++)_=C[w],Hu.isClockWise(_)&&(C[w]=_.reverse());var P=Hu.triangulateShape(T,C),A=T;for(w=0,E=C.length;w<E;w++)_=C[w],T=T.concat(_);function k(e,t,n){return t||console.error(\"THREE.ExtrudeGeometry: vec does not exist\"),t.clone().multiplyScalar(n).add(e)}var O,L,R,N,I,D,z=T.length,F=P.length;function B(e,t,n){var r,i,a,o=e.x-t.x,s=e.y-t.y,u=n.x-e.x,l=n.y-e.y,c=o*o+s*s,f=o*l-s*u;if(Math.abs(f)>Number.EPSILON){var h=Math.sqrt(c),d=Math.sqrt(u*u+l*l),p=t.x-s/h,m=t.y+o/h,v=((n.x-l/d-p)*l-(n.y+u/d-m)*u)/(o*l-s*u),g=(r=p+o*v-e.x)*r+(i=m+s*v-e.y)*i;if(g<=2)return new fn(r,i);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?u>Number.EPSILON&&(y=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(l)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(c)):(r=o,i=s,a=Math.sqrt(c/2))}return new fn(r/a,i/a)}for(var j=[],U=0,H=A.length,G=H-1,V=U+1;U<H;U++,G++,V++)G===H&&(G=0),V===H&&(V=0),j[U]=B(A[U],A[G],A[V]);var W,q,X=[],Y=j.concat();for(w=0,E=C.length;w<E;w++){for(_=C[w],W=[],U=0,G=(H=_.length)-1,V=U+1;U<H;U++,G++,V++)G===H&&(G=0),V===H&&(V=0),W[U]=B(_[U],_[G],_[V]);X.push(W),Y=Y.concat(W)}for(O=0;O<d;O++){for(R=O/d,N=c*Math.cos(R*Math.PI/2),L=f*Math.sin(R*Math.PI/2)+h,U=0,H=A.length;U<H;U++)Z((I=k(A[U],j[U],L)).x,I.y,-N);for(w=0,E=C.length;w<E;w++)for(_=C[w],W=X[w],U=0,H=_.length;U<H;U++)Z((I=k(_[U],W[U],L)).x,I.y,-N)}for(L=f+h,U=0;U<z;U++)I=l?k(T[U],Y[U],L):T[U],M?(b.copy(g.normals[0]).multiplyScalar(I.x),y.copy(g.binormals[0]).multiplyScalar(I.y),x.copy(v[0]).add(b).add(y),Z(x.x,x.y,x.z)):Z(I.x,I.y,0);for(q=1;q<=s;q++)for(U=0;U<z;U++)I=l?k(T[U],Y[U],L):T[U],M?(b.copy(g.normals[q]).multiplyScalar(I.x),y.copy(g.binormals[q]).multiplyScalar(I.y),x.copy(v[q]).add(b).add(y),Z(x.x,x.y,x.z)):Z(I.x,I.y,u/s*q);for(O=d-1;O>=0;O--){for(R=O/d,N=c*Math.cos(R*Math.PI/2),L=f*Math.sin(R*Math.PI/2)+h,U=0,H=A.length;U<H;U++)Z((I=k(A[U],j[U],L)).x,I.y,u+N);for(w=0,E=C.length;w<E;w++)for(_=C[w],W=X[w],U=0,H=_.length;U<H;U++)I=k(_[U],W[U],L),M?Z(I.x,I.y+v[s-1].y,v[s-1].x+N):Z(I.x,I.y,u+N)}function Q(e,t){var n,r;for(U=e.length;--U>=0;){n=U,(r=U-1)<0&&(r=e.length-1);var i=0,a=s+2*d;for(i=0;i<a;i++){var o=z*i,u=z*(i+1);$(t+n+o,t+r+o,t+r+u,t+n+u)}}}function Z(e,t,n){a.push(e),a.push(t),a.push(n)}function J(e,t,i){K(e),K(t),K(i);var a=r.length/3,o=m.generateTopUV(n,r,a-3,a-2,a-1);ee(o[0]),ee(o[1]),ee(o[2])}function $(e,t,i,a){K(e),K(t),K(a),K(t),K(i),K(a);var o=r.length/3,s=m.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);ee(s[0]),ee(s[1]),ee(s[3]),ee(s[1]),ee(s[2]),ee(s[3])}function K(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function ee(e){i.push(e.x),i.push(e.y)}!function(){var e=r.length/3;if(l){var t=0,i=z*t;for(U=0;U<F;U++)J((D=P[U])[2]+i,D[1]+i,D[0]+i);for(i=z*(t=s+2*d),U=0;U<F;U++)J((D=P[U])[0]+i,D[1]+i,D[2]+i)}else{for(U=0;U<F;U++)J((D=P[U])[2],D[1],D[0]);for(U=0;U<F;U++)J((D=P[U])[0]+z*s,D[1]+z*s,D[2]+z*s)}n.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;for(Q(A,t),t+=A.length,w=0,E=C.length;w<E;w++)Q(_=C[w],t),t+=_.length;n.addGroup(e,r.length/3-e,1)}()}this.addAttribute(\"position\",new $r(r,3)),this.addAttribute(\"uv\",new $r(i,2)),this.computeVertexNormals()}Wu.prototype=Object.create(Ni.prototype),Wu.prototype.constructor=Wu,Wu.prototype.toJSON=function(){var e=Ni.prototype.toJSON.call(this);return Yu(this.parameters.shapes,this.parameters.options,e)},qu.prototype=Object.create(li.prototype),qu.prototype.constructor=qu,qu.prototype.toJSON=function(){var e=li.prototype.toJSON.call(this);return Yu(this.parameters.shapes,this.parameters.options,e)};var Xu={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],s=t[3*r],u=t[3*r+1],l=t[3*i],c=t[3*i+1];return[new fn(a,o),new fn(s,u),new fn(l,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],s=t[3*n+1],u=t[3*n+2],l=t[3*r],c=t[3*r+1],f=t[3*r+2],h=t[3*i],d=t[3*i+1],p=t[3*i+2],m=t[3*a],v=t[3*a+1],g=t[3*a+2];return Math.abs(s-c)<.01?[new fn(o,1-u),new fn(l,1-f),new fn(h,1-p),new fn(m,1-g)]:[new fn(s,1-u),new fn(c,1-f),new fn(d,1-p),new fn(v,1-g)]}};function Yu(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Qu(e,t){Ni.call(this),this.type=\"TextGeometry\",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Zu(e,t)),this.mergeVertices()}function Zu(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error(\"THREE.TextGeometry: font parameter is not an instance of THREE.Font.\"),new Ni;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),qu.call(this,r,t),this.type=\"TextBufferGeometry\"}function Ju(e,t,n,r,i,a,o){Ni.call(this),this.type=\"SphereGeometry\",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new $u(e,t,n,r,i,a,o)),this.mergeVertices()}function $u(e,t,n,r,i,a,o){li.call(this),this.type=\"SphereBufferGeometry\",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,u,l=Math.min(a+o,Math.PI),c=0,f=[],h=new mn,d=new mn,p=[],m=[],v=[],g=[];for(u=0;u<=n;u++){var y=[],b=u/n,x=0;for(0==u&&0==a?x=.5/t:u==n&&l==Math.PI&&(x=-.5/t),s=0;s<=t;s++){var _=s/t;h.x=-e*Math.cos(r+_*i)*Math.sin(a+b*o),h.y=e*Math.cos(a+b*o),h.z=e*Math.sin(r+_*i)*Math.sin(a+b*o),m.push(h.x,h.y,h.z),d.copy(h).normalize(),v.push(d.x,d.y,d.z),g.push(_+x,1-b),y.push(c++)}f.push(y)}for(u=0;u<n;u++)for(s=0;s<t;s++){var w=f[u][s+1],E=f[u][s],M=f[u+1][s],S=f[u+1][s+1];(0!==u||a>0)&&p.push(w,E,S),(u!==n-1||l<Math.PI)&&p.push(E,M,S)}this.setIndex(p),this.addAttribute(\"position\",new $r(m,3)),this.addAttribute(\"normal\",new $r(v,3)),this.addAttribute(\"uv\",new $r(g,2))}function Ku(e,t,n,r,i,a){Ni.call(this),this.type=\"RingGeometry\",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new el(e,t,n,r,i,a)),this.mergeVertices()}function el(e,t,n,r,i,a){li.call(this),this.type=\"RingBufferGeometry\",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},e=e||.5,t=t||1,i=void 0!==i?i:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var o,s,u,l=[],c=[],f=[],h=[],d=e,p=(t-e)/(r=void 0!==r?Math.max(1,r):1),m=new mn,v=new fn;for(s=0;s<=r;s++){for(u=0;u<=n;u++)o=i+u/n*a,m.x=d*Math.cos(o),m.y=d*Math.sin(o),c.push(m.x,m.y,m.z),f.push(0,0,1),v.x=(m.x/t+1)/2,v.y=(m.y/t+1)/2,h.push(v.x,v.y);d+=p}for(s=0;s<r;s++){var g=s*(n+1);for(u=0;u<n;u++){var y=o=u+g,b=o+n+1,x=o+n+2,_=o+1;l.push(y,b,_),l.push(b,x,_)}}this.setIndex(l),this.addAttribute(\"position\",new $r(c,3)),this.addAttribute(\"normal\",new $r(f,3)),this.addAttribute(\"uv\",new $r(h,2))}function tl(e,t,n,r){Ni.call(this),this.type=\"LatheGeometry\",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new nl(e,t,n,r)),this.mergeVertices()}function nl(e,t,n,r){li.call(this),this.type=\"LatheBufferGeometry\",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=cn.clamp(r,0,2*Math.PI);var i,a,o,s=[],u=[],l=[],c=1/t,f=new mn,h=new fn;for(a=0;a<=t;a++){var d=n+a*c*r,p=Math.sin(d),m=Math.cos(d);for(o=0;o<=e.length-1;o++)f.x=e[o].x*p,f.y=e[o].y,f.z=e[o].x*m,u.push(f.x,f.y,f.z),h.x=a/t,h.y=o/(e.length-1),l.push(h.x,h.y)}for(a=0;a<t;a++)for(o=0;o<e.length-1;o++){var v=i=o+a*e.length,g=i+e.length,y=i+e.length+1,b=i+1;s.push(v,g,b),s.push(g,y,b)}if(this.setIndex(s),this.addAttribute(\"position\",new $r(u,3)),this.addAttribute(\"uv\",new $r(l,2)),this.computeVertexNormals(),r===2*Math.PI){var x=this.attributes.normal.array,_=new mn,w=new mn,E=new mn;for(i=t*e.length*3,a=0,o=0;a<e.length;a++,o+=3)_.x=x[o+0],_.y=x[o+1],_.z=x[o+2],w.x=x[i+o+0],w.y=x[i+o+1],w.z=x[i+o+2],E.addVectors(_,w).normalize(),x[o+0]=x[i+o+0]=E.x,x[o+1]=x[i+o+1]=E.y,x[o+2]=x[i+o+2]=E.z}}function rl(e,t){Ni.call(this),this.type=\"ShapeGeometry\",\"object\"==typeof t&&(console.warn(\"THREE.ShapeGeometry: Options parameter has been removed.\"),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new il(e,t)),this.mergeVertices()}function il(e,t){li.call(this),this.type=\"ShapeBufferGeometry\",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],a=[],o=0,s=0;if(!1===Array.isArray(e))l(e);else for(var u=0;u<e.length;u++)l(e[u]),this.addGroup(o,s,u),o+=s,s=0;function l(e){var o,u,l,c=r.length/3,f=e.extractPoints(t),h=f.shape,d=f.holes;for(!1===Hu.isClockWise(h)&&(h=h.reverse()),o=0,u=d.length;o<u;o++)l=d[o],!0===Hu.isClockWise(l)&&(d[o]=l.reverse());var p=Hu.triangulateShape(h,d);for(o=0,u=d.length;o<u;o++)l=d[o],h=h.concat(l);for(o=0,u=h.length;o<u;o++){var m=h[o];r.push(m.x,m.y,0),i.push(0,0,1),a.push(m.x,m.y)}for(o=0,u=p.length;o<u;o++){var v=p[o],g=v[0]+c,y=v[1]+c,b=v[2]+c;n.push(g,y,b),s+=3}}this.setIndex(n),this.addAttribute(\"position\",new $r(r,3)),this.addAttribute(\"normal\",new $r(i,3)),this.addAttribute(\"uv\",new $r(a,2))}function al(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function ol(e,t){li.call(this),this.type=\"EdgesGeometry\",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,a,o=[],s=Math.cos(cn.DEG2RAD*t),u=[0,0],l={},c=[\"a\",\"b\",\"c\"];e.isBufferGeometry?(a=new Ni).fromBufferGeometry(e):a=e.clone(),a.mergeVertices(),a.computeFaceNormals();for(var f=a.vertices,h=a.faces,d=0,p=h.length;d<p;d++)for(var m=h[d],v=0;v<3;v++)n=m[c[v]],r=m[c[(v+1)%3]],u[0]=Math.min(n,r),u[1]=Math.max(n,r),void 0===l[i=u[0]+\",\"+u[1]]?l[i]={index1:u[0],index2:u[1],face1:d,face2:void 0}:l[i].face2=d;for(i in l){var g=l[i];if(void 0===g.face2||h[g.face1].normal.dot(h[g.face2].normal)<=s){var y=f[g.index1];o.push(y.x,y.y,y.z),y=f[g.index2],o.push(y.x,y.y,y.z)}}this.addAttribute(\"position\",new $r(o,3))}function sl(e,t,n,r,i,a,o,s){Ni.call(this),this.type=\"CylinderGeometry\",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new ul(e,t,n,r,i,a,o,s)),this.mergeVertices()}function ul(e,t,n,r,i,a,o,s){li.call(this),this.type=\"CylinderBufferGeometry\",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};var u=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var l=[],c=[],f=[],h=[],d=0,p=[],m=n/2,v=0;function g(n){var i,a,p,g=new fn,y=new mn,b=0,x=!0===n?e:t,_=!0===n?1:-1;for(a=d,i=1;i<=r;i++)c.push(0,m*_,0),f.push(0,_,0),h.push(.5,.5),d++;for(p=d,i=0;i<=r;i++){var w=i/r*s+o,E=Math.cos(w),M=Math.sin(w);y.x=x*M,y.y=m*_,y.z=x*E,c.push(y.x,y.y,y.z),f.push(0,_,0),g.x=.5*E+.5,g.y=.5*M*_+.5,h.push(g.x,g.y),d++}for(i=0;i<r;i++){var S=a+i,T=p+i;!0===n?l.push(T,T+1,S):l.push(T+1,T,S),b+=3}u.addGroup(v,b,!0===n?1:2),v+=b}!function(){var a,g,y=new mn,b=new mn,x=0,_=(t-e)/n;for(g=0;g<=i;g++){var w=[],E=g/i,M=E*(t-e)+e;for(a=0;a<=r;a++){var S=a/r,T=S*s+o,C=Math.sin(T),P=Math.cos(T);b.x=M*C,b.y=-E*n+m,b.z=M*P,c.push(b.x,b.y,b.z),y.set(C,_,P).normalize(),f.push(y.x,y.y,y.z),h.push(S,1-E),w.push(d++)}p.push(w)}for(a=0;a<r;a++)for(g=0;g<i;g++){var A=p[g][a],k=p[g+1][a],O=p[g+1][a+1],L=p[g][a+1];l.push(A,k,L),l.push(k,O,L),x+=6}u.addGroup(v,x,0),v+=x}(),!1===a&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(l),this.addAttribute(\"position\",new $r(c,3)),this.addAttribute(\"normal\",new $r(f,3)),this.addAttribute(\"uv\",new $r(h,2))}function ll(e,t,n,r,i,a,o){sl.call(this,0,e,t,n,r,i,a,o),this.type=\"ConeGeometry\",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function cl(e,t,n,r,i,a,o){ul.call(this,0,e,t,n,r,i,a,o),this.type=\"ConeBufferGeometry\",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function fl(e,t,n,r){Ni.call(this),this.type=\"CircleGeometry\",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new hl(e,t,n,r)),this.mergeVertices()}function hl(e,t,n,r){li.call(this),this.type=\"CircleBufferGeometry\",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,a,o=[],s=[],u=[],l=[],c=new mn,f=new fn;for(s.push(0,0,0),u.push(0,0,1),l.push(.5,.5),a=0,i=3;a<=t;a++,i+=3){var h=n+a/t*r;c.x=e*Math.cos(h),c.y=e*Math.sin(h),s.push(c.x,c.y,c.z),u.push(0,0,1),f.x=(s[i]/e+1)/2,f.y=(s[i+1]/e+1)/2,l.push(f.x,f.y)}for(i=1;i<=t;i++)o.push(i,i+1,0);this.setIndex(o),this.addAttribute(\"position\",new $r(s,3)),this.addAttribute(\"normal\",new $r(u,3)),this.addAttribute(\"uv\",new $r(l,2))}Qu.prototype=Object.create(Ni.prototype),Qu.prototype.constructor=Qu,Zu.prototype=Object.create(qu.prototype),Zu.prototype.constructor=Zu,Ju.prototype=Object.create(Ni.prototype),Ju.prototype.constructor=Ju,$u.prototype=Object.create(li.prototype),$u.prototype.constructor=$u,Ku.prototype=Object.create(Ni.prototype),Ku.prototype.constructor=Ku,el.prototype=Object.create(li.prototype),el.prototype.constructor=el,tl.prototype=Object.create(Ni.prototype),tl.prototype.constructor=tl,nl.prototype=Object.create(li.prototype),nl.prototype.constructor=nl,rl.prototype=Object.create(Ni.prototype),rl.prototype.constructor=rl,rl.prototype.toJSON=function(){var e=Ni.prototype.toJSON.call(this);return al(this.parameters.shapes,e)},il.prototype=Object.create(li.prototype),il.prototype.constructor=il,il.prototype.toJSON=function(){var e=li.prototype.toJSON.call(this);return al(this.parameters.shapes,e)},ol.prototype=Object.create(li.prototype),ol.prototype.constructor=ol,sl.prototype=Object.create(Ni.prototype),sl.prototype.constructor=sl,ul.prototype=Object.create(li.prototype),ul.prototype.constructor=ul,ll.prototype=Object.create(sl.prototype),ll.prototype.constructor=ll,cl.prototype=Object.create(ul.prototype),cl.prototype.constructor=cl,fl.prototype=Object.create(Ni.prototype),fl.prototype.constructor=fl,hl.prototype=Object.create(li.prototype),hl.prototype.constructor=hl;var dl=Object.freeze({WireframeGeometry:tu,ParametricGeometry:nu,ParametricBufferGeometry:ru,TetrahedronGeometry:ou,TetrahedronBufferGeometry:su,OctahedronGeometry:uu,OctahedronBufferGeometry:lu,IcosahedronGeometry:cu,IcosahedronBufferGeometry:fu,DodecahedronGeometry:hu,DodecahedronBufferGeometry:du,PolyhedronGeometry:iu,PolyhedronBufferGeometry:au,TubeGeometry:pu,TubeBufferGeometry:mu,TorusKnotGeometry:vu,TorusKnotBufferGeometry:gu,TorusGeometry:yu,TorusBufferGeometry:bu,TextGeometry:Qu,TextBufferGeometry:Zu,SphereGeometry:Ju,SphereBufferGeometry:$u,RingGeometry:Ku,RingBufferGeometry:el,PlaneGeometry:ua,PlaneBufferGeometry:la,LatheGeometry:tl,LatheBufferGeometry:nl,ShapeGeometry:rl,ShapeBufferGeometry:il,ExtrudeGeometry:Wu,ExtrudeBufferGeometry:qu,EdgesGeometry:ol,ConeGeometry:ll,ConeBufferGeometry:cl,CylinderGeometry:sl,CylinderBufferGeometry:ul,CircleGeometry:fl,CircleBufferGeometry:hl,BoxGeometry:Ii,BoxBufferGeometry:Di});function pl(e){Hr.call(this),this.type=\"ShadowMaterial\",this.color=new Dr(0),this.transparent=!0,this.setValues(e)}function ml(e){Hi.call(this,e),this.type=\"RawShaderMaterial\"}function vl(e){Hr.call(this),this.defines={STANDARD:\"\"},this.type=\"MeshStandardMaterial\",this.color=new Dr(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gt,this.normalScale=new fn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function gl(e){vl.call(this),this.defines={STANDARD:\"\",PHYSICAL:\"\"},this.type=\"MeshPhysicalMaterial\",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new fn(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(e)}function yl(e){Hr.call(this),this.type=\"MeshPhongMaterial\",this.color=new Dr(16777215),this.specular=new Dr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gt,this.normalScale=new fn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=te,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function bl(e){yl.call(this),this.defines={TOON:\"\"},this.type=\"MeshToonMaterial\",this.gradientMap=null,this.setValues(e)}function xl(e){Hr.call(this),this.type=\"MeshNormalMaterial\",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gt,this.normalScale=new fn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function _l(e){Hr.call(this),this.type=\"MeshLambertMaterial\",this.color=new Dr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=te,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function wl(e){Hr.call(this),this.defines={MATCAP:\"\"},this.type=\"MeshMatcapMaterial\",this.color=new Dr(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Gt,this.normalScale=new fn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(e)}function El(e){Rs.call(this),this.type=\"LineDashedMaterial\",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}pl.prototype=Object.create(Hr.prototype),pl.prototype.constructor=pl,pl.prototype.isShadowMaterial=!0,pl.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this},ml.prototype=Object.create(Hi.prototype),ml.prototype.constructor=ml,ml.prototype.isRawShaderMaterial=!0,vl.prototype=Object.create(Hr.prototype),vl.prototype.constructor=vl,vl.prototype.isMeshStandardMaterial=!0,vl.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.defines={STANDARD:\"\"},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},gl.prototype=Object.create(vl.prototype),gl.prototype.constructor=gl,gl.prototype.isMeshPhysicalMaterial=!0,gl.prototype.copy=function(e){return vl.prototype.copy.call(this,e),this.defines={STANDARD:\"\",PHYSICAL:\"\"},this.reflectivity=e.reflectivity,this.clearcoat=e.clearcoat,this.clearcoatRoughness=e.clearcoatRoughness,e.sheen?this.sheen=(this.sheen||new Dr).copy(e.sheen):this.sheen=null,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.transparency=e.transparency,this},yl.prototype=Object.create(Hr.prototype),yl.prototype.constructor=yl,yl.prototype.isMeshPhongMaterial=!0,yl.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},bl.prototype=Object.create(yl.prototype),bl.prototype.constructor=bl,bl.prototype.isMeshToonMaterial=!0,bl.prototype.copy=function(e){return yl.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},xl.prototype=Object.create(Hr.prototype),xl.prototype.constructor=xl,xl.prototype.isMeshNormalMaterial=!0,xl.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},_l.prototype=Object.create(Hr.prototype),_l.prototype.constructor=_l,_l.prototype.isMeshLambertMaterial=!0,_l.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},wl.prototype=Object.create(Hr.prototype),wl.prototype.constructor=wl,wl.prototype.isMeshMatcapMaterial=!0,wl.prototype.copy=function(e){return Hr.prototype.copy.call(this,e),this.defines={MATCAP:\"\"},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},El.prototype=Object.create(Rs.prototype),El.prototype.constructor=El,El.prototype.isLineDashedMaterial=!0,El.prototype.copy=function(e){return Rs.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Ml=Object.freeze({ShadowMaterial:pl,SpriteMaterial:cs,RawShaderMaterial:ml,ShaderMaterial:Hi,PointsMaterial:Vs,MeshPhysicalMaterial:gl,MeshStandardMaterial:vl,MeshPhongMaterial:yl,MeshToonMaterial:bl,MeshNormalMaterial:xl,MeshLambertMaterial:_l,MeshDepthMaterial:Go,MeshDistanceMaterial:Vo,MeshBasicMaterial:Gr,MeshMatcapMaterial:wl,LineDashedMaterial:El,LineBasicMaterial:Rs,Material:Hr}),Sl={arraySlice:function(e,t,n){return Sl.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:\"number\"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,u=0;u!==t;++u)i[o++]=e[s+u];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}};function Tl(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Cl(e,t,n,r){Tl.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Pl(e,t,n,r){Tl.call(this,e,t,n,r)}function Al(e,t,n,r){Tl.call(this,e,t,n,r)}function kl(e,t,n,r){if(void 0===e)throw new Error(\"THREE.KeyframeTrack: track name is undefined\");if(void 0===t||0===t.length)throw new Error(\"THREE.KeyframeTrack: no keyframes in track named \"+e);this.name=e,this.times=Sl.convertArray(t,this.TimeBufferType),this.values=Sl.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Ol(e,t,n){kl.call(this,e,t,n)}function Ll(e,t,n,r){kl.call(this,e,t,n,r)}function Rl(e,t,n,r){kl.call(this,e,t,n,r)}function Nl(e,t,n,r){Tl.call(this,e,t,n,r)}function Il(e,t,n,r){kl.call(this,e,t,n,r)}function Dl(e,t,n,r){kl.call(this,e,t,n,r)}function zl(e,t,n,r){kl.call(this,e,t,n,r)}function Fl(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=cn.generateUUID(),this.duration<0&&this.resetDuration()}function Bl(e){if(void 0===e.type)throw new Error(\"THREE.KeyframeTrack: track type undefined, can not parse\");var t=function(e){switch(e.toLowerCase()){case\"scalar\":case\"double\":case\"float\":case\"number\":case\"integer\":return Rl;case\"vector\":case\"vector2\":case\"vector3\":case\"vector4\":return zl;case\"color\":return Ll;case\"quaternion\":return Il;case\"bool\":case\"boolean\":return Ol;case\"string\":return Dl}throw new Error(\"THREE.KeyframeTrack: Unsupported typeName: \"+e)}(e.type);if(void 0===e.times){var n=[],r=[];Sl.flattenJSON(e.keys,n,r,\"value\"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Tl.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===o)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var u=n+a>>>1;e<t[u]?a=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t},interpolate_:function(){throw new Error(\"call to abstract method\")},intervalChanged_:function(){}}),\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign(Tl.prototype,{beforeStart_:Tl.prototype.copySampleValue_,afterEnd_:Tl.prototype.copySampleValue_}),Cl.prototype=Object.assign(Object.create(Tl.prototype),{constructor:Cl,DefaultSettings_:{endingStart:Ct,endingEnd:Ct},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Pt:i=e,o=2*t-n;break;case At:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Pt:a=e,s=2*n-t;break;case At:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var u=.5*(n-t),l=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(s-n),this._offsetPrev=i*l,this._offsetNext=a*l},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,h=this._weightNext,d=(n-t)/(r-t),p=d*d,m=p*d,v=-f*m+2*f*p-f*d,g=(1+f)*m+(-1.5-2*f)*p+(-.5+f)*d+1,y=(-1-h)*m+(1.5+h)*p+.5*d,b=h*m-h*p,x=0;x!==o;++x)i[x]=v*a[l+x]+g*a[u+x]+y*a[s+x]+b*a[c+x];return i}}),Pl.prototype=Object.assign(Object.create(Tl.prototype),{constructor:Pl,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=s-o,l=(n-t)/(r-t),c=1-l,f=0;f!==o;++f)i[f]=a[u+f]*c+a[s+f]*l;return i}}),Al.prototype=Object.assign(Object.create(Tl.prototype),{constructor:Al,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(kl,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Sl.convertArray(e.times,Array),values:Sl.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(kl.prototype,{constructor:kl,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:St,InterpolantFactoryMethodDiscrete:function(e){return new Al(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Pl(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Cl(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case Mt:t=this.InterpolantFactoryMethodDiscrete;break;case St:t=this.InterpolantFactoryMethodLinear;break;case Tt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n=\"unsupported interpolation for \"+this.ValueTypeName+\" keyframe track named \"+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn(\"THREE.KeyframeTrack:\",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Mt;case this.InterpolantFactoryMethodLinear:return St;case this.InterpolantFactoryMethodSmooth:return Tt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Sl.arraySlice(n,i,a),this.values=Sl.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error(\"THREE.KeyframeTrack: Invalid value size in track.\",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error(\"THREE.KeyframeTrack: Track is empty.\",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if(\"number\"==typeof s&&isNaN(s)){console.error(\"THREE.KeyframeTrack: Time is not a valid number.\",this,o,s),e=!1;break}if(null!==a&&a>s){console.error(\"THREE.KeyframeTrack: Out of order keys.\",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&Sl.isTypedArray(r)){o=0;for(var u=r.length;o!==u;++o){var l=r[o];if(isNaN(l)){console.error(\"THREE.KeyframeTrack: Value is not a valid number.\",this,o,l),e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=this.getInterpolation()===Tt,i=1,a=e.length-1,o=1;o<a;++o){var s=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==u[0]))if(r)s=!0;else for(var l=o*n,c=l-n,f=l+n,h=0;h!==n;++h){var d=t[l+h];if(d!==t[c+h]||d!==t[f+h]){s=!0;break}}if(s){if(o!==i){e[i]=e[o];var p=o*n,m=i*n;for(h=0;h!==n;++h)t[m+h]=t[p+h]}++i}}if(a>0){e[i]=e[a];for(p=a*n,m=i*n,h=0;h!==n;++h)t[m+h]=t[p+h];++i}return i!==e.length&&(this.times=Sl.arraySlice(e,0,i),this.values=Sl.arraySlice(t,0,i*n)),this},clone:function(){var e=Sl.arraySlice(this.times,0),t=Sl.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Ol.prototype=Object.assign(Object.create(kl.prototype),{constructor:Ol,ValueTypeName:\"bool\",ValueBufferType:Array,DefaultInterpolation:Mt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ll.prototype=Object.assign(Object.create(kl.prototype),{constructor:Ll,ValueTypeName:\"color\"}),Rl.prototype=Object.assign(Object.create(kl.prototype),{constructor:Rl,ValueTypeName:\"number\"}),Nl.prototype=Object.assign(Object.create(Tl.prototype),{constructor:Nl,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,u=(n-t)/(r-t),l=s+o;s!==l;s+=4)hn.slerpFlat(i,0,a,s-o,a,s,u);return i}}),Il.prototype=Object.assign(Object.create(kl.prototype),{constructor:Il,ValueTypeName:\"quaternion\",DefaultInterpolation:St,InterpolantFactoryMethodLinear:function(e){return new Nl(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Dl.prototype=Object.assign(Object.create(kl.prototype),{constructor:Dl,ValueTypeName:\"string\",ValueBufferType:Array,DefaultInterpolation:Mt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),zl.prototype=Object.assign(Object.create(kl.prototype),{constructor:zl,ValueTypeName:\"vector\"}),Object.assign(Fl,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Bl(n[i]).scale(r));return new Fl(e.name,e.duration,t)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid},i=0,a=n.length;i!==a;++i)t.push(kl.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var l=Sl.getKeyframeOrder(s);s=Sl.sortedArray(s,1,l),u=Sl.sortedArray(u,1,l),r||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new Rl(\".morphTargetInfluences[\"+t[o].name+\"]\",s,u).scale(1/n))}return new Fl(e,-1,a)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\\w-]*?)([\\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],u=s.name.match(i);if(u&&u.length>1){var l=r[f=u[1]];l||(r[f]=l=[]),l.push(s)}}var c=[];for(var f in r)c.push(Fl.CreateFromMorphTargetSequence(f,r[f],t,n));return c},parseAnimation:function(e,t){if(!e)return console.error(\"THREE.AnimationClip: No animation in JSONLoader data.\"),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];Sl.flattenJSON(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||\"default\",a=e.length||-1,o=e.fps||30,s=e.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var c={},f=0;f<l.length;f++)if(l[f].morphTargets)for(var h=0;h<l[f].morphTargets.length;h++)c[l[f].morphTargets[h]]=-1;for(var d in c){var p=[],m=[];for(h=0;h!==l[f].morphTargets.length;++h){var v=l[f];p.push(v.time),m.push(v.morphTarget===d?1:0)}r.push(new Rl(\".morphTargetInfluence[\"+d+\"]\",p,m))}a=c.length*(o||1)}else{var g=\".bones[\"+t[u].name+\"]\";n(zl,g+\".position\",l,\"pos\",r),n(Il,g+\".quaternion\",l,\"rot\",r),n(zl,g+\".scale\",l,\"scl\",r)}}return 0===r.length?null:new Fl(i,a,r)}}),Object.assign(Fl.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Fl(this.name,this.duration,e)}});var jl={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Ul(e,t,n){var r=this,i=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===i&&void 0!==r.onStart&&r.onStart(e,a,o),i=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,o),a===o&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this}}var Hl=new Ul;function Gl(e){this.manager=void 0!==e?e:Hl,this.crossOrigin=\"anonymous\",this.path=\"\",this.resourcePath=\"\"}Object.assign(Gl.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this}}),Gl.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n],a=t[n+1];if(i.test(e))return a}return null}};var Vl={};function Wl(e){Gl.call(this,e)}function ql(e){Gl.call(this,e)}function Xl(e){Gl.call(this,e),this._parser=null}function Yl(e){Gl.call(this,e),this._parser=null}function Ql(e){Gl.call(this,e)}function Zl(e){Gl.call(this,e)}function Jl(e){Gl.call(this,e)}function $l(){this.type=\"Curve\",this.arcLengthDivisions=200}function Kl(e,t,n,r,i,a,o,s){$l.call(this),this.type=\"EllipseCurve\",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function ec(e,t,n,r,i,a){Kl.call(this,e,t,n,n,r,i,a),this.type=\"ArcCurve\"}function tc(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var u=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,u*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}Wl.prototype=Object.assign(Object.create(Gl.prototype),{constructor:Wl,load:function(e,t,n,r){void 0===e&&(e=\"\"),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=jl.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===Vl[e]){var o=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],u=!!o[2],l=o[3];l=decodeURIComponent(l),u&&(l=atob(l));try{var c,f=(this.responseType||\"\").toLowerCase();switch(f){case\"arraybuffer\":case\"blob\":for(var h=new Uint8Array(l.length),d=0;d<l.length;d++)h[d]=l.charCodeAt(d);c=\"blob\"===f?new Blob([h.buffer],{type:s}):h.buffer;break;case\"document\":var p=new DOMParser;c=p.parseFromString(l,s);break;case\"json\":c=JSON.parse(l);break;default:c=l}setTimeout((function(){t&&t(c),i.manager.itemEnd(e)}),0)}catch(t){setTimeout((function(){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{Vl[e]=[],Vl[e].push({onLoad:t,onProgress:n,onError:r});var m=new XMLHttpRequest;for(var v in m.open(\"GET\",e,!0),m.addEventListener(\"load\",(function(t){var n=this.response;jl.add(e,n);var r=Vl[e];if(delete Vl[e],200===this.status||0===this.status){0===this.status&&console.warn(\"THREE.FileLoader: HTTP Status 0 received.\");for(var a=0,o=r.length;a<o;a++){(s=r[a]).onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),m.addEventListener(\"progress\",(function(t){for(var n=Vl[e],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(t)}}),!1),m.addEventListener(\"error\",(function(t){var n=Vl[e];delete Vl[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),m.addEventListener(\"abort\",(function(t){var n=Vl[e];delete Vl[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:\"text/plain\"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return i.manager.itemStart(e),m}Vl[e].push({onLoad:t,onProgress:n,onError:r})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}}),ql.prototype=Object.assign(Object.create(Gl.prototype),{constructor:ql,load:function(e,t,n,r){var i=this,a=new Wl(i.manager);a.setPath(i.path),a.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var r=Fl.parse(e[n]);t.push(r)}return t}}),Xl.prototype=Object.assign(Object.create(Gl.prototype),{constructor:Xl,load:function(e,t,n,r){var i=this,a=[],o=new $s;o.image=a;var s=new Wl(this.manager);function u(u){s.load(e[u],(function(e){var n=i._parser(e,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=Te),o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(s.setPath(this.path),s.setResponseType(\"arraybuffer\"),Array.isArray(e))for(var l=0,c=0,f=e.length;c<f;++c)u(c);else s.load(e,(function(e){var n=i._parser(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=Te),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}),Yl.prototype=Object.assign(Object.create(Gl.prototype),{constructor:Yl,load:function(e,t,n,r){var i=this,a=new Qi,o=new Wl(this.manager);return o.setResponseType(\"arraybuffer\"),o.setPath(this.path),o.load(e,(function(e){var n=i._parser(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:be,a.wrapT=void 0!==n.wrapT?n.wrapT:be,a.magFilter=void 0!==n.magFilter?n.magFilter:Te,a.minFilter=void 0!==n.minFilter?n.minFilter:Ae,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps),1===n.mipmapCount&&(a.minFilter=Te),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}),Ql.prototype=Object.assign(Object.create(Gl.prototype),{constructor:Ql,load:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=jl.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"img\");function s(){o.removeEventListener(\"load\",s,!1),o.removeEventListener(\"error\",u,!1),jl.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){o.removeEventListener(\"load\",s,!1),o.removeEventListener(\"error\",u,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return o.addEventListener(\"load\",s,!1),o.addEventListener(\"error\",u,!1),\"data:\"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}),Zl.prototype=Object.assign(Object.create(Gl.prototype),{constructor:Zl,load:function(e,t,n,r){var i=new _a,a=new Ql(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i}}),Jl.prototype=Object.assign(Object.create(Gl.prototype),{constructor:Jl,load:function(e,t,n,r){var i=new _n,a=new Ql(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(n){i.image=n;var r=e.search(/\\.jpe?g($|\\?)/i)>0||0===e.search(/^data\\:image\\/jpeg/);i.format=r?Ve:We,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}),Object.assign($l.prototype,{getPoint:function(){return console.warn(\"THREE.Curve: .getPoint() not implemented.\"),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),a=0;for(r.push(0),n=1;n<=e;n++)a+=(t=this.getPoint(n/e)).distanceTo(i),r.push(a),i=t;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)},getTangent:function(e){var t=e-1e-4,n=e+1e-4;t<0&&(t=0),n>1&&(n=1);var r=this.getPoint(t);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var n,r,i,a=new mn,o=[],s=[],u=[],l=new mn,c=new Ln;for(n=0;n<=e;n++)r=n/e,o[n]=this.getTangentAt(r),o[n].normalize();s[0]=new mn,u[0]=new mn;var f=Number.MAX_VALUE,h=Math.abs(o[0].x),d=Math.abs(o[0].y),p=Math.abs(o[0].z);for(h<=f&&(f=h,a.set(1,0,0)),d<=f&&(f=d,a.set(0,1,0)),p<=f&&a.set(0,0,1),l.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],l),u[0].crossVectors(o[0],s[0]),n=1;n<=e;n++)s[n]=s[n-1].clone(),u[n]=u[n-1].clone(),l.crossVectors(o[n-1],o[n]),l.length()>Number.EPSILON&&(l.normalize(),i=Math.acos(cn.clamp(o[n-1].dot(o[n]),-1,1)),s[n].applyMatrix4(c.makeRotationAxis(l,i))),u[n].crossVectors(o[n],s[n]);if(!0===t)for(i=Math.acos(cn.clamp(s[0].dot(s[e]),-1,1)),i/=e,o[0].dot(l.crossVectors(s[0],s[e]))>0&&(i=-i),n=1;n<=e;n++)s[n].applyMatrix4(c.makeRotationAxis(o[n],i*n)),u[n].crossVectors(o[n],s[n]);return{tangents:o,normals:s,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:\"Curve\",generator:\"Curve.toJSON\"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Kl.prototype=Object.create($l.prototype),Kl.prototype.constructor=Kl,Kl.prototype.isEllipseCurve=!0,Kl.prototype.getPoint=function(e,t){for(var n=t||new fn,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),f=s-this.aX,h=u-this.aY;s=f*l-h*c+this.aX,u=f*c+h*l+this.aY}return n.set(s,u)},Kl.prototype.copy=function(e){return $l.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Kl.prototype.toJSON=function(){var e=$l.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Kl.prototype.fromJSON=function(e){return $l.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},ec.prototype=Object.create(Kl.prototype),ec.prototype.constructor=ec,ec.prototype.isArcCurve=!0;var nc=new mn,rc=new tc,ic=new tc,ac=new tc;function oc(e,t,n,r){$l.call(this),this.type=\"CatmullRomCurve3\",this.points=e||[],this.closed=t||!1,this.curveType=n||\"centripetal\",this.tension=r||.5}function sc(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function uc(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function lc(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function cc(e,t,n,r){$l.call(this),this.type=\"CubicBezierCurve\",this.v0=e||new fn,this.v1=t||new fn,this.v2=n||new fn,this.v3=r||new fn}function fc(e,t,n,r){$l.call(this),this.type=\"CubicBezierCurve3\",this.v0=e||new mn,this.v1=t||new mn,this.v2=n||new mn,this.v3=r||new mn}function hc(e,t){$l.call(this),this.type=\"LineCurve\",this.v1=e||new fn,this.v2=t||new fn}function dc(e,t){$l.call(this),this.type=\"LineCurve3\",this.v1=e||new mn,this.v2=t||new mn}function pc(e,t,n){$l.call(this),this.type=\"QuadraticBezierCurve\",this.v0=e||new fn,this.v1=t||new fn,this.v2=n||new fn}function mc(e,t,n){$l.call(this),this.type=\"QuadraticBezierCurve3\",this.v0=e||new mn,this.v1=t||new mn,this.v2=n||new mn}function vc(e){$l.call(this),this.type=\"SplineCurve\",this.points=e||[]}oc.prototype=Object.create($l.prototype),oc.prototype.constructor=oc,oc.prototype.isCatmullRomCurve3=!0,oc.prototype.getPoint=function(e,t){var n,r,i,a,o=t||new mn,s=this.points,u=s.length,l=(u-(this.closed?0:1))*e,c=Math.floor(l),f=l-c;if(this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/u)+1)*u:0===f&&c===u-1&&(c=u-2,f=1),this.closed||c>0?n=s[(c-1)%u]:(nc.subVectors(s[0],s[1]).add(s[0]),n=nc),r=s[c%u],i=s[(c+1)%u],this.closed||c+2<u?a=s[(c+2)%u]:(nc.subVectors(s[u-1],s[u-2]).add(s[u-1]),a=nc),\"centripetal\"===this.curveType||\"chordal\"===this.curveType){var h=\"chordal\"===this.curveType?.5:.25,d=Math.pow(n.distanceToSquared(r),h),p=Math.pow(r.distanceToSquared(i),h),m=Math.pow(i.distanceToSquared(a),h);p<1e-4&&(p=1),d<1e-4&&(d=p),m<1e-4&&(m=p),rc.initNonuniformCatmullRom(n.x,r.x,i.x,a.x,d,p,m),ic.initNonuniformCatmullRom(n.y,r.y,i.y,a.y,d,p,m),ac.initNonuniformCatmullRom(n.z,r.z,i.z,a.z,d,p,m)}else\"catmullrom\"===this.curveType&&(rc.initCatmullRom(n.x,r.x,i.x,a.x,this.tension),ic.initCatmullRom(n.y,r.y,i.y,a.y,this.tension),ac.initCatmullRom(n.z,r.z,i.z,a.z,this.tension));return o.set(rc.calc(f),ic.calc(f),ac.calc(f)),o},oc.prototype.copy=function(e){$l.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},oc.prototype.toJSON=function(){var e=$l.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},oc.prototype.fromJSON=function(e){$l.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new mn).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},cc.prototype=Object.create($l.prototype),cc.prototype.constructor=cc,cc.prototype.isCubicBezierCurve=!0,cc.prototype.getPoint=function(e,t){var n=t||new fn,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(lc(e,r.x,i.x,a.x,o.x),lc(e,r.y,i.y,a.y,o.y)),n},cc.prototype.copy=function(e){return $l.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},cc.prototype.toJSON=function(){var e=$l.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},cc.prototype.fromJSON=function(e){return $l.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},fc.prototype=Object.create($l.prototype),fc.prototype.constructor=fc,fc.prototype.isCubicBezierCurve3=!0,fc.prototype.getPoint=function(e,t){var n=t||new mn,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(lc(e,r.x,i.x,a.x,o.x),lc(e,r.y,i.y,a.y,o.y),lc(e,r.z,i.z,a.z,o.z)),n},fc.prototype.copy=function(e){return $l.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},fc.prototype.toJSON=function(){var e=$l.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},fc.prototype.fromJSON=function(e){return $l.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},hc.prototype=Object.create($l.prototype),hc.prototype.constructor=hc,hc.prototype.isLineCurve=!0,hc.prototype.getPoint=function(e,t){var n=t||new fn;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},hc.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},hc.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},hc.prototype.copy=function(e){return $l.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},hc.prototype.toJSON=function(){var e=$l.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},hc.prototype.fromJSON=function(e){return $l.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},dc.prototype=Object.create($l.prototype),dc.prototype.constructor=dc,dc.prototype.isLineCurve3=!0,dc.prototype.getPoint=function(e,t){var n=t||new mn;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},dc.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},dc.prototype.copy=function(e){return $l.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},dc.prototype.toJSON=function(){var e=$l.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},dc.prototype.fromJSON=function(e){return $l.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},pc.prototype=Object.create($l.prototype),pc.prototype.constructor=pc,pc.prototype.isQuadraticBezierCurve=!0,pc.prototype.getPoint=function(e,t){var n=t||new fn,r=this.v0,i=this.v1,a=this.v2;return n.set(uc(e,r.x,i.x,a.x),uc(e,r.y,i.y,a.y)),n},pc.prototype.copy=function(e){return $l.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},pc.prototype.toJSON=function(){var e=$l.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},pc.prototype.fromJSON=function(e){return $l.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},mc.prototype=Object.create($l.prototype),mc.prototype.constructor=mc,mc.prototype.isQuadraticBezierCurve3=!0,mc.prototype.getPoint=function(e,t){var n=t||new mn,r=this.v0,i=this.v1,a=this.v2;return n.set(uc(e,r.x,i.x,a.x),uc(e,r.y,i.y,a.y),uc(e,r.z,i.z,a.z)),n},mc.prototype.copy=function(e){return $l.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},mc.prototype.toJSON=function(){var e=$l.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},mc.prototype.fromJSON=function(e){return $l.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},vc.prototype=Object.create($l.prototype),vc.prototype.constructor=vc,vc.prototype.isSplineCurve=!0,vc.prototype.getPoint=function(e,t){var n=t||new fn,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],u=r[a],l=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(sc(o,s.x,u.x,l.x,c.x),sc(o,s.y,u.y,l.y,c.y)),n},vc.prototype.copy=function(e){$l.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},vc.prototype.toJSON=function(){var e=$l.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},vc.prototype.fromJSON=function(e){$l.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new fn).fromArray(r))}return this};var gc=Object.freeze({ArcCurve:ec,CatmullRomCurve3:oc,CubicBezierCurve:cc,CubicBezierCurve3:fc,EllipseCurve:Kl,LineCurve:hc,LineCurve3:dc,QuadraticBezierCurve:pc,QuadraticBezierCurve3:mc,SplineCurve:vc});function yc(){$l.call(this),this.type=\"CurvePath\",this.curves=[],this.autoClose=!1}function bc(e){yc.call(this),this.type=\"Path\",this.currentPoint=new fn,e&&this.setFromPoints(e)}function xc(e){bc.call(this,e),this.uuid=cn.generateUUID(),this.type=\"Shape\",this.holes=[]}function _c(e,t){Zn.call(this),this.type=\"Light\",this.color=new Dr(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function wc(e,t,n){_c.call(this,e,n),this.type=\"HemisphereLight\",this.castShadow=void 0,this.position.copy(Zn.DefaultUp),this.updateMatrix(),this.groundColor=new Dr(t)}function Ec(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new fn(512,512),this.map=null,this.mapPass=null,this.matrix=new Ln,this._frustum=new na,this._frameExtents=new fn(1,1),this._viewportCount=1,this._viewports=[new wn(0,0,1,1)]}function Mc(){Ec.call(this,new Vi(50,1,.5,500))}function Sc(e,t,n,r,i,a){_c.call(this,e,t),this.type=\"SpotLight\",this.position.copy(Zn.DefaultUp),this.updateMatrix(),this.target=new Zn,Object.defineProperty(this,\"power\",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new Mc}function Tc(){Ec.call(this,new Vi(90,1,.5,500)),this._frameExtents=new fn(4,2),this._viewportCount=6,this._viewports=[new wn(2,1,1,1),new wn(0,1,1,1),new wn(3,1,1,1),new wn(1,1,1,1),new wn(3,0,1,1),new wn(1,0,1,1)],this._cubeDirections=[new mn(1,0,0),new mn(-1,0,0),new mn(0,0,1),new mn(0,0,-1),new mn(0,1,0),new mn(0,-1,0)],this._cubeUps=[new mn(0,1,0),new mn(0,1,0),new mn(0,1,0),new mn(0,1,0),new mn(0,0,1),new mn(0,0,-1)]}function Cc(e,t,n,r){_c.call(this,e,t),this.type=\"PointLight\",Object.defineProperty(this,\"power\",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Tc}function Pc(e,t,n,r,i,a){Gi.call(this),this.type=\"OrthographicCamera\",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Ac(){Ec.call(this,new Pc(-5,5,5,-5,.5,500))}function kc(e,t){_c.call(this,e,t),this.type=\"DirectionalLight\",this.position.copy(Zn.DefaultUp),this.updateMatrix(),this.target=new Zn,this.shadow=new Ac}function Oc(e,t){_c.call(this,e,t),this.type=\"AmbientLight\",this.castShadow=void 0}function Lc(e,t,n,r){_c.call(this,e,t),this.type=\"RectAreaLight\",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Rc(e){Gl.call(this,e),this.textures={}}yc.prototype=Object.assign(Object.create($l.prototype),{constructor:yc,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new hc(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,a=this.curves[r],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){$l.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=$l.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){$l.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new gc[r.type]).fromJSON(r))}return this}}),bc.prototype=Object.assign(Object.create(yc.prototype),{constructor:bc,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var n=new hc(this.currentPoint.clone(),new fn(e,t));this.curves.push(n),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,n,r){var i=new pc(this.currentPoint.clone(),new fn(e,t),new fn(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(e,t,n,r,i,a){var o=new cc(this.currentPoint.clone(),new fn(e,t),new fn(n,r),new fn(i,a));this.curves.push(o),this.currentPoint.set(i,a)},splineThru:function(e){var t=new vc([this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(e+o,t+s,n,r,i,a)},absarc:function(e,t,n,r,i,a){this.absellipse(e,t,n,n,r,i,a)},ellipse:function(e,t,n,r,i,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(e+u,t+l,n,r,i,a,o,s)},absellipse:function(e,t,n,r,i,a,o,s){var u=new Kl(e,t,n,r,i,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var c=u.getPoint(1);this.currentPoint.copy(c)},copy:function(e){return yc.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=yc.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return yc.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),xc.prototype=Object.assign(Object.create(bc.prototype),{constructor:xc,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){bc.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=bc.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){bc.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new bc).fromJSON(r))}return this}}),_c.prototype=Object.assign(Object.create(Zn.prototype),{constructor:_c,isLight:!0,copy:function(e){return Zn.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Zn.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),wc.prototype=Object.assign(Object.create(_c.prototype),{constructor:wc,isHemisphereLight:!0,copy:function(e){return _c.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(Ec.prototype,{_projScreenMatrix:new Ln,_lightPositionWorld:new mn,_lookTarget:new mn,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(e.matrixWorld),t.position.copy(a),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Mc.prototype=Object.assign(Object.create(Ec.prototype),{constructor:Mc,isSpotLightShadow:!0,updateMatrices:function(e,t,n){var r=this.camera,i=2*cn.RAD2DEG*e.angle,a=this.mapSize.width/this.mapSize.height,o=e.distance||r.far;i===r.fov&&a===r.aspect&&o===r.far||(r.fov=i,r.aspect=a,r.far=o,r.updateProjectionMatrix()),Ec.prototype.updateMatrices.call(this,e,t,n)}}),Sc.prototype=Object.assign(Object.create(_c.prototype),{constructor:Sc,isSpotLight:!0,copy:function(e){return _c.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Tc.prototype=Object.assign(Object.create(Ec.prototype),{constructor:Tc,isPointLightShadow:!0,updateMatrices:function(e,t,n){var r=this.camera,i=this.matrix,a=this._lightPositionWorld,o=this._lookTarget,s=this._projScreenMatrix;a.setFromMatrixPosition(e.matrixWorld),r.position.copy(a),o.copy(r.position),o.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(o),r.updateMatrixWorld(),i.makeTranslation(-a.x,-a.y,-a.z),s.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromMatrix(s)}}),Cc.prototype=Object.assign(Object.create(_c.prototype),{constructor:Cc,isPointLight:!0,copy:function(e){return _c.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Pc.prototype=Object.assign(Object.create(Gi.prototype),{constructor:Pc,isOrthographicCamera:!0,copy:function(e,t){return Gi.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,f=(this.top-this.bottom)/this.view.height;a=(i+=c*(this.view.offsetX/u))+c*(this.view.width/u),s=(o-=f*(this.view.offsetY/l))-f*(this.view.height/l)}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Zn.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Ac.prototype=Object.assign(Object.create(Ec.prototype),{constructor:Ac,isDirectionalLightShadow:!0,updateMatrices:function(e,t,n){Ec.prototype.updateMatrices.call(this,e,t,n)}}),kc.prototype=Object.assign(Object.create(_c.prototype),{constructor:kc,isDirectionalLight:!0,copy:function(e){return _c.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Oc.prototype=Object.assign(Object.create(_c.prototype),{constructor:Oc,isAmbientLight:!0}),Lc.prototype=Object.assign(Object.create(_c.prototype),{constructor:Lc,isRectAreaLight:!0,copy:function(e){return _c.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=_c.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Rc.prototype=Object.assign(Object.create(Gl.prototype),{constructor:Rc,load:function(e,t,n,r){var i=this,a=new Wl(i.manager);a.setPath(i.path),a.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn(\"THREE.MaterialLoader: Undefined texture\",e),t[e]}var r=new Ml[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.vertexColors&&(r.vertexColors=e.vertexColors),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.uniforms)for(var i in e.uniforms){var a=e.uniforms[i];switch(r.uniforms[i]={},a.type){case\"t\":r.uniforms[i].value=n(a.value);break;case\"c\":r.uniforms[i].value=(new Dr).setHex(a.value);break;case\"v2\":r.uniforms[i].value=(new fn).fromArray(a.value);break;case\"v3\":r.uniforms[i].value=(new mn).fromArray(a.value);break;case\"v4\":r.uniforms[i].value=(new wn).fromArray(a.value);break;case\"m3\":r.uniforms[i].value=(new yn).fromArray(a.value);case\"m4\":r.uniforms[i].value=(new Ln).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)r.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap),r.transparent=!0),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new fn).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new fn).fromArray(e.clearcoatNormalScale)),r},setTextures:function(e){return this.textures=e,this}});var Nc={decodeText:function(e){if(\"undefined\"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t=\"\",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){var t=e.lastIndexOf(\"/\");return-1===t?\"./\":e.substr(0,t+1)}};function Ic(){li.call(this),this.type=\"InstancedBufferGeometry\",this.maxInstancedCount=void 0}function Dc(e,t,n,r){\"number\"==typeof n&&(r=n,n=!1,console.error(\"THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.\")),Vr.call(this,e,t,n),this.meshPerAttribute=r||1}function zc(e){Gl.call(this,e)}Ic.prototype=Object.assign(Object.create(li.prototype),{constructor:Ic,isInstancedBufferGeometry:!0,copy:function(e){return li.prototype.copy.call(this,e),this.maxInstancedCount=e.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=li.prototype.toJSON.call(this);return e.maxInstancedCount=this.maxInstancedCount,e.isInstancedBufferGeometry=!0,e}}),Dc.prototype=Object.assign(Object.create(Vr.prototype),{constructor:Dc,isInstancedBufferAttribute:!0,copy:function(e){return Vr.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Vr.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),zc.prototype=Object.assign(Object.create(Gl.prototype),{constructor:zc,load:function(e,t,n,r){var i=this,a=new Wl(i.manager);a.setPath(i.path),a.load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=e.isInstancedBufferGeometry?new Ic:new li,n=e.data.index;if(void 0!==n){var r=new Fc[n.type](n.array);t.setIndex(new Vr(r,1))}var i=e.data.attributes;for(var a in i){var o=i[a],s=(r=new Fc[o.type](o.array),new(o.isInstancedBufferAttribute?Dc:Vr)(r,o.itemSize,o.normalized));void 0!==o.name&&(s.name=o.name),t.addAttribute(a,s)}var u=e.data.morphAttributes;if(u)for(var a in u){for(var l=u[a],c=[],f=0,h=l.length;f<h;f++){o=l[f],s=new Vr(r=new Fc[o.type](o.array),o.itemSize,o.normalized);void 0!==o.name&&(s.name=o.name),c.push(s)}t.morphAttributes[a]=c}var d=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==d){f=0;for(var p=d.length;f!==p;++f){var m=d[f];t.addGroup(m.start,m.count,m.materialIndex)}}var v=e.data.boundingSphere;if(void 0!==v){var g=new mn;void 0!==v.center&&g.fromArray(v.center),t.boundingSphere=new dr(g,v.radius)}return e.name&&(t.name=e.name),e.userData&&(t.userData=e.userData),t}});var Fc={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:\"undefined\"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Bc(e){Gl.call(this,e)}Bc.prototype=Object.assign(Object.create(Gl.prototype),{constructor:Bc,load:function(e,t,n,r){var i=this,a=\"\"===this.path?Nc.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new Wl(i.manager);o.setPath(this.path),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error(\"THREE:ObjectLoader: Can't parse \"+e+\".\",t.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&\"geometry\"!==o.type.toLowerCase()?i.parse(a,t):console.error(\"THREE.ObjectLoader: Can't load \"+e)}),n,r)},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new xc).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n={};if(void 0!==e)for(var r=new zc,i=0,a=e.length;i<a;i++){var o,s=e[i];switch(s.type){case\"PlaneGeometry\":case\"PlaneBufferGeometry\":o=new dl[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case\"BoxGeometry\":case\"BoxBufferGeometry\":case\"CubeGeometry\":o=new dl[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case\"CircleGeometry\":case\"CircleBufferGeometry\":o=new dl[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case\"CylinderGeometry\":case\"CylinderBufferGeometry\":o=new dl[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case\"ConeGeometry\":case\"ConeBufferGeometry\":o=new dl[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case\"SphereGeometry\":case\"SphereBufferGeometry\":o=new dl[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case\"DodecahedronGeometry\":case\"DodecahedronBufferGeometry\":case\"IcosahedronGeometry\":case\"IcosahedronBufferGeometry\":case\"OctahedronGeometry\":case\"OctahedronBufferGeometry\":case\"TetrahedronGeometry\":case\"TetrahedronBufferGeometry\":o=new dl[s.type](s.radius,s.detail);break;case\"RingGeometry\":case\"RingBufferGeometry\":o=new dl[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case\"TorusGeometry\":case\"TorusBufferGeometry\":o=new dl[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case\"TorusKnotGeometry\":case\"TorusKnotBufferGeometry\":o=new dl[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case\"TubeGeometry\":case\"TubeBufferGeometry\":o=new dl[s.type]((new gc[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case\"LatheGeometry\":case\"LatheBufferGeometry\":o=new dl[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case\"PolyhedronGeometry\":case\"PolyhedronBufferGeometry\":o=new dl[s.type](s.vertices,s.indices,s.radius,s.details);break;case\"ShapeGeometry\":case\"ShapeBufferGeometry\":for(var u=[],l=0,c=s.shapes.length;l<c;l++){var f=t[s.shapes[l]];u.push(f)}o=new dl[s.type](u,s.curveSegments);break;case\"ExtrudeGeometry\":case\"ExtrudeBufferGeometry\":for(u=[],l=0,c=s.shapes.length;l<c;l++){f=t[s.shapes[l]];u.push(f)}var h=s.options.extrudePath;void 0!==h&&(s.options.extrudePath=(new gc[h.type]).fromJSON(h)),o=new dl[s.type](u,s.options);break;case\"BufferGeometry\":case\"InstancedBufferGeometry\":o=r.parse(s);break;case\"Geometry\":if(\"THREE\"in window&&\"LegacyJSONLoader\"in THREE)o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry;else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type \"Geometry\".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type \"'+s.type+'\"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}return n},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new Rc;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var s=e[a];if(\"MultiMaterial\"===s.type){for(var u=[],l=0;l<s.materials.length;l++){var c=s.materials[l];void 0===n[c.uuid]&&(n[c.uuid]=i.parse(c)),u.push(n[c.uuid])}r[s.uuid]=u}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=Fl.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n=this,r={};function i(e){return n.manager.itemStart(e),a.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var a=new Ql(new Ul(t));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=e.length;o<s;o++){var u=e[o],l=u.url;if(Array.isArray(l)){r[u.uuid]=[];for(var c=0,f=l.length;c<f;c++){var h=l[c],d=/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(h)?h:n.resourcePath+h;r[u.uuid].push(i(d))}}else{d=/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(u.url)?u.url:n.resourcePath+u.url;r[u.uuid]=i(d)}}}return r},parseTextures:function(e,t){function n(e,t){return\"number\"==typeof e?e:(console.warn(\"THREE.ObjectLoader.parseTexture: Constant should be in numeric form.\",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o,s=e[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No \"image\" specified for',s.uuid),void 0===t[s.image]&&console.warn(\"THREE.ObjectLoader: Undefined image\",s.image),(o=Array.isArray(t[s.image])?new _a(t[s.image]):new _n(t[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=n(s.mapping,Uc)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=n(s.wrap[0],Hc),o.wrapT=n(s.wrap[1],Hc)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=n(s.minFilter,Gc)),void 0!==s.magFilter&&(o.magFilter=n(s.magFilter,Gc)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),r[s.uuid]=o}return r},parseObject:function(e,t,n){var r;function i(e){return void 0===t[e]&&console.warn(\"THREE.ObjectLoader: Undefined geometry\",e),t[e]}function a(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn(\"THREE.ObjectLoader: Undefined material\",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn(\"THREE.ObjectLoader: Undefined material\",e),n[e]}}switch(e.type){case\"Scene\":r=new Jn,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new Dr(e.background)),void 0!==e.fog&&(\"Fog\"===e.fog.type?r.fog=new ss(e.fog.color,e.fog.near,e.fog.far):\"FogExp2\"===e.fog.type&&(r.fog=new os(e.fog.color,e.fog.density)));break;case\"PerspectiveCamera\":r=new Vi(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case\"OrthographicCamera\":r=new Pc(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case\"AmbientLight\":r=new Oc(e.color,e.intensity);break;case\"DirectionalLight\":r=new kc(e.color,e.intensity);break;case\"PointLight\":r=new Cc(e.color,e.intensity,e.distance,e.decay);break;case\"RectAreaLight\":r=new Lc(e.color,e.intensity,e.width,e.height);break;case\"SpotLight\":r=new Sc(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case\"HemisphereLight\":r=new wc(e.color,e.groundColor,e.intensity);break;case\"SkinnedMesh\":console.warn(\"THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.\");case\"Mesh\":var o=i(e.geometry),s=a(e.material);r=o.bones&&o.bones.length>0?new Ps(o,s):new Ci(o,s),void 0!==e.drawMode&&r.setDrawMode(e.drawMode);break;case\"LOD\":r=new Cs;break;case\"Line\":r=new Bs(i(e.geometry),a(e.material),e.mode);break;case\"LineLoop\":r=new Gs(i(e.geometry),a(e.material));break;case\"LineSegments\":r=new Hs(i(e.geometry),a(e.material));break;case\"PointCloud\":case\"Points\":r=new Qs(i(e.geometry),a(e.material));break;case\"Sprite\":r=new Es(a(e.material));break;case\"Group\":r=new Jo;break;default:r=new Zn}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var u=e.children,l=0;l<u.length;l++)r.add(this.parseObject(u[l],t,n));if(\"LOD\"===e.type)for(var c=e.levels,f=0;f<c.length;f++){var h=c[f],d=r.getObjectByProperty(\"uuid\",h.object);void 0!==d&&r.addLevel(d,h.distance)}return r}});var jc,Uc={UVMapping:ce,CubeReflectionMapping:fe,CubeRefractionMapping:he,EquirectangularReflectionMapping:de,EquirectangularRefractionMapping:pe,SphericalReflectionMapping:me,CubeUVReflectionMapping:ve,CubeUVRefractionMapping:ge},Hc={RepeatWrapping:ye,ClampToEdgeWrapping:be,MirroredRepeatWrapping:xe},Gc={NearestFilter:_e,NearestMipmapNearestFilter:we,NearestMipmapLinearFilter:Me,LinearFilter:Te,LinearMipmapNearestFilter:Ce,LinearMipmapLinearFilter:Ae};function Vc(e){\"undefined\"==typeof createImageBitmap&&console.warn(\"THREE.ImageBitmapLoader: createImageBitmap() not supported.\"),\"undefined\"==typeof fetch&&console.warn(\"THREE.ImageBitmapLoader: fetch() not supported.\"),Gl.call(this,e),this.options=void 0}function Wc(){this.type=\"ShapePath\",this.color=new Dr,this.subPaths=[],this.currentPath=null}function qc(e){this.type=\"Font\",this.data=e}function Xc(e,t,n,r,i){var a=i.glyphs[e]||i.glyphs[\"?\"];if(a){var o,s,u,l,c,f,h,d,p=new Wc;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(\" \")),v=0,g=m.length;v<g;){switch(m[v++]){case\"m\":o=m[v++]*t+n,s=m[v++]*t+r,p.moveTo(o,s);break;case\"l\":o=m[v++]*t+n,s=m[v++]*t+r,p.lineTo(o,s);break;case\"q\":u=m[v++]*t+n,l=m[v++]*t+r,c=m[v++]*t+n,f=m[v++]*t+r,p.quadraticCurveTo(c,f,u,l);break;case\"b\":u=m[v++]*t+n,l=m[v++]*t+r,c=m[v++]*t+n,f=m[v++]*t+r,h=m[v++]*t+n,d=m[v++]*t+r,p.bezierCurveTo(c,f,h,d,u,l)}}return{offsetX:a.ha*t,path:p}}console.error('THREE.Font: character \"'+e+'\" does not exists in font family '+i.familyName+\".\")}function Yc(e){Gl.call(this,e)}Vc.prototype=Object.assign(Object.create(Gl.prototype),{constructor:Vc,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=\"\"),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=jl.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;fetch(e).then((function(e){return e.blob()})).then((function(e){return void 0===i.options?createImageBitmap(e):createImageBitmap(e,i.options)})).then((function(n){jl.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign(Wc.prototype,{moveTo:function(e,t){this.currentPath=new bc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,a){this.currentPath.bezierCurveTo(e,t,n,r,i,a)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new xc;a.curves=i.curves,t.push(a)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],u=-u,s=t[i],l=-l),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-u*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var i=Hu.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===t)return n(a);var o,s,u,l=[];if(1===a.length)return s=a[0],(u=new xc).curves=s.curves,l.push(u),l;var c=!i(a[0].getPoints());c=e?!c:c;var f,h,d=[],p=[],m=[],v=0;p[v]=void 0,m[v]=[];for(var g=0,y=a.length;g<y;g++)o=i(f=(s=a[g]).getPoints()),(o=e?!o:o)?(!c&&p[v]&&v++,p[v]={s:new xc,p:f},p[v].s.curves=s.curves,c&&v++,m[v]=[]):m[v].push({h:s,p:f[0]});if(!p[0])return n(a);if(p.length>1){for(var b=!1,x=[],_=0,w=p.length;_<w;_++)d[_]=[];for(_=0,w=p.length;_<w;_++)for(var E=m[_],M=0;M<E.length;M++){for(var S=E[M],T=!0,C=0;C<p.length;C++)r(S.p,p[C].p)&&(_!==C&&x.push({froms:_,tos:C,hole:M}),T?(T=!1,d[C].push(S)):b=!0);T&&d[_].push(S)}x.length>0&&(b||(m=d))}g=0;for(var P=p.length;g<P;g++){u=p[g].s,l.push(u);for(var A=0,k=(h=m[g]).length;A<k;A++)u.holes.push(h[A].h)}return l}}),Object.assign(qc.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(\"\"),i=t/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,u=0,l=0;l<r.length;l++){var c=r[l];if(\"\\n\"===c)s=0,u-=a;else{var f=Xc(c,i,s,u,n);s+=f.offsetX,o.push(f.path)}}return o}(e,t,this.data),i=0,a=r.length;i<a;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),Yc.prototype=Object.assign(Object.create(Gl.prototype),{constructor:Yc,load:function(e,t,n,r){var i=this,a=new Wl(this.manager);a.setPath(this.path),a.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn(\"THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.\"),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new qc(e)}});var Qc={getContext:function(){return void 0===jc&&(jc=new(window.AudioContext||window.webkitAudioContext)),jc},setContext:function(e){jc=e}};function Zc(e){Gl.call(this,e)}function Jc(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new mn)}function $c(e,t){_c.call(this,void 0,t),this.sh=void 0!==e?e:new Jc}function Kc(e,t,n){$c.call(this,void 0,n);var r=(new Dr).set(e),i=(new Dr).set(t),a=new mn(r.r,r.g,r.b),o=new mn(i.r,i.g,i.b),s=Math.sqrt(Math.PI),u=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(u)}function ef(e,t){$c.call(this,void 0,t);var n=(new Dr).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Zc.prototype=Object.assign(Object.create(Gl.prototype),{constructor:Zc,load:function(e,t,n,r){var i=new Wl(this.manager);i.setResponseType(\"arraybuffer\"),i.setPath(this.path),i.load(e,(function(e){var n=e.slice(0);Qc.getContext().decodeAudioData(n,(function(e){t(e)}))}),n,r)}}),Object.assign(Jc.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScale(a[1],.488603*r),t.addScale(a[2],.488603*i),t.addScale(a[3],.488603*n),t.addScale(a[4],n*r*1.092548),t.addScale(a[5],r*i*1.092548),t.addScale(a[6],.315392*(3*i*i-1)),t.addScale(a[7],n*i*1.092548),t.addScale(a[8],.546274*(n*n-r*r)),t},getIrradianceAt:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScale(a[1],1.023328*r),t.addScale(a[2],1.023328*i),t.addScale(a[3],1.023328*n),t.addScale(a[4],.858086*n*r),t.addScale(a[5],.858086*r*i),t.addScale(a[6],.743125*i*i-.247708),t.addScale(a[7],.858086*n*i),t.addScale(a[8],.429043*(n*n-r*r)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}),Object.assign(Jc,{getBasisAt:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}),$c.prototype=Object.assign(Object.create(_c.prototype),{constructor:$c,isLightProbe:!0,copy:function(e){return _c.prototype.copy.call(this,e),this.sh.copy(e.sh),this.intensity=e.intensity,this},toJSON:function(e){return _c.prototype.toJSON.call(this,e)}}),Kc.prototype=Object.assign(Object.create($c.prototype),{constructor:Kc,isHemisphereLightProbe:!0,copy:function(e){return $c.prototype.copy.call(this,e),this},toJSON:function(e){return $c.prototype.toJSON.call(this,e)}}),ef.prototype=Object.assign(Object.create($c.prototype),{constructor:ef,isAmbientLightProbe:!0,copy:function(e){return $c.prototype.copy.call(this,e),this},toJSON:function(e){return $c.prototype.toJSON.call(this,e)}});var tf=new Ln,nf=new Ln;function rf(){this.type=\"StereoCamera\",this.aspect=1,this.eyeSep=.064,this.cameraL=new Vi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Vi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function af(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(rf.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,i=e.projectionMatrix.clone(),a=t.eyeSep/2,o=a*t.near/t.focus,s=t.near*Math.tan(cn.DEG2RAD*t.fov*.5)/t.zoom;nf.elements[12]=-a,tf.elements[12]=a,n=-s*t.aspect+o,r=s*t.aspect+o,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(i),n=-s*t.aspect-o,r=s*t.aspect-o,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(nf),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(tf)}}),Object.assign(af.prototype,{start:function(){this.startTime=(\"undefined\"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=(\"undefined\"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var of=new mn,sf=new hn,uf=new mn,lf=new mn;function cf(){Zn.call(this),this.type=\"AudioListener\",this.context=Qc.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new af}function ff(e){Zn.call(this),this.type=\"Audio\",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType=\"empty\",this.filters=[]}cf.prototype=Object.assign(Object.create(Zn.prototype),{constructor:cf,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){Zn.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(of,sf,uf),lf.set(0,0,-1).applyQuaternion(sf),t.positionX){var r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(of.x,r),t.positionY.linearRampToValueAtTime(of.y,r),t.positionZ.linearRampToValueAtTime(of.z,r),t.forwardX.linearRampToValueAtTime(lf.x,r),t.forwardY.linearRampToValueAtTime(lf.y,r),t.forwardZ.linearRampToValueAtTime(lf.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(of.x,of.y,of.z),t.setOrientation(lf.x,lf.y,lf.z,n.x,n.y,n.z)}}),ff.prototype=Object.assign(Object.create(Zn.prototype),{constructor:ff,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType=\"audioNode\",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType=\"mediaNode\",this.source=this.context.createMediaElementSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType=\"buffer\",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,e.start(this.startTime,this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn(\"THREE.Audio: this Audio has no playback control.\")}else console.warn(\"THREE.Audio: Audio is already playing.\")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn(\"THREE.Audio: this Audio has no playback control.\"),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var hf=new mn,df=new hn,pf=new mn,mf=new mn;function vf(e){ff.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel=\"HRTF\",this.panner.connect(this.gain)}function gf(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function yf(e,t,n){this.binding=e,this.valueSize=n;var r,i=Float64Array;switch(t){case\"quaternion\":r=this._slerp;break;case\"string\":case\"bool\":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}vf.prototype=Object.assign(Object.create(ff.prototype),{constructor:vf,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(Zn.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(hf,df,pf),mf.set(0,0,1).applyQuaternion(df);var t=this.panner;if(t.positionX){var n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(hf.x,n),t.positionY.linearRampToValueAtTime(hf.y,n),t.positionZ.linearRampToValueAtTime(hf.z,n),t.orientationX.linearRampToValueAtTime(mf.x,n),t.orientationY.linearRampToValueAtTime(mf.y,n),t.orientationZ.linearRampToValueAtTime(mf.z,n)}else t.setPosition(hf.x,hf.y,hf.z),t.setOrientation(mf.x,mf.y,mf.z)}}}),Object.assign(gf.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(yf.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,i<1){var o=3*t;this._mixBufferRegion(n,r,o,1-i,t)}for(var s=t,u=t+t;s!==u;++s)if(n[s]!==n[s+t]){a.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=3*n;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]},_slerp:function(e,t,n,r){hn.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}});var bf=new RegExp(\"[\\\\[\\\\]\\\\.:\\\\/]\",\"g\"),xf=\"[^\"+\"\\\\[\\\\]\\\\.:\\\\/\".replace(\"\\\\.\",\"\")+\"]\",_f=/((?:WC+[\\/:])*)/.source.replace(\"WC\",\"[^\\\\[\\\\]\\\\.:\\\\/]\"),wf=/(WCOD+)?/.source.replace(\"WCOD\",xf),Ef=/(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace(\"WC\",\"[^\\\\[\\\\]\\\\.:\\\\/]\"),Mf=/\\.(WC+)(?:\\[(.+)\\])?/.source.replace(\"WC\",\"[^\\\\[\\\\]\\\\.:\\\\/]\"),Sf=new RegExp(\"^\"+_f+wf+Ef+Mf+\"$\"),Tf=[\"material\",\"materials\",\"bones\"];function Cf(e,t,n){var r=n||Pf.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Pf(e,t,n){this.path=t,this.parsedPath=n||Pf.parseTrackName(t),this.node=Pf.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Af(){this.uuid=cn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function kf(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null;for(var r=t.tracks,i=r.length,a=new Array(i),o={endingStart:Ct,endingEnd:Ct},s=0;s!==i;++s){var u=r[s].createInterpolant(null);a[s]=u,u.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=wt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Of(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Lf(e){\"string\"==typeof e&&(console.warn(\"THREE.Uniform: Type parameter is no longer needed.\"),e=arguments[1]),this.value=e}function Rf(e,t,n){us.call(this,e,t),this.meshPerAttribute=n||1}function Nf(e,t,n,r){this.ray=new _r(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn(\"THREE.Raycaster: params.PointCloud has been renamed to params.Points.\"),this.Points}}})}function If(e,t){return e.distance-t.distance}function Df(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r))for(var i=e.children,a=0,o=i.length;a<o;a++)Df(i[a],t,n,!0)}function zf(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function Ff(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}Object.assign(Cf.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Pf,{Composite:Cf,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Pf.Composite(e,t,n):new Pf(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\\s/g,\"_\").replace(bf,\"\")},parseTrackName:function(e){var t=Sf.exec(e);if(!t)throw new Error(\"PropertyBinding: Cannot parse trackName: \"+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(\".\");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==Tf.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error(\"PropertyBinding: can not parse propertyName from trackName: \"+e);return n},findNode:function(e,t){if(!t||\"\"===t||\"root\"===t||\".\"===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.name===t||i.uuid===t)return i;var a=r(i.children);if(a)return a}return null},i=r(e.children);if(i)return i}return null}}),Object.assign(Pf.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Pf.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case\"materials\":if(!e.material)return void console.error(\"THREE.PropertyBinding: Can not bind to material as node does not have a material.\",this);if(!e.material.materials)return void console.error(\"THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.\",this);e=e.material.materials;break;case\"bones\":if(!e.skeleton)return void console.error(\"THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.\",this);e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[n])return void console.error(\"THREE.PropertyBinding: Can not bind to objectName of node undefined.\",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error(\"THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.\",this,e);e=e[a]}}var s=e[r];if(void 0!==s){var u=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==i){if(\"morphTargetInfluences\"===r){if(!e.geometry)return void console.error(\"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.\",this);if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes)return void console.error(\"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.\",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(e.geometry.morphAttributes.position[o].name===i){i=o;break}}else{if(!e.geometry.morphTargets)return void console.error(\"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.\",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===i){i=o;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else{var c=t.nodeName;console.error(\"THREE.PropertyBinding: Trying to update property for track: \"+c+\".\"+r+\" but it wasn't found.\",e)}}else console.error(\"THREE.PropertyBinding: Trying to update node for track: \"+this.path+\" but it wasn't found.\")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign(Pf.prototype,{_getValue_unbound:Pf.prototype.getValue,_setValue_unbound:Pf.prototype.setValue}),Object.assign(Af.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,u=void 0,l=0,c=arguments.length;l!==c;++l){var f=arguments[l],h=f.uuid,d=r[h];if(void 0===d){d=t++,r[h]=d,e.push(f);for(var p=0,m=s;p!==m;++p)o[p].push(new Pf(f,i[p],a[p]))}else if(d<n){u=e[d];var v=--n,g=e[v];r[g.uuid]=d,e[d]=g,r[h]=v,e[v]=f;for(p=0,m=s;p!==m;++p){var y=o[p],b=y[v],x=y[d];y[d]=b,void 0===x&&(x=new Pf(f,i[p],a[p])),y[v]=x}}else e[d]!==u&&console.error(\"THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.\")}this.nCachedObjects_=n},remove:function(){for(var e=this._objects,t=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=n[u];if(void 0!==l&&l>=t){var c=t++,f=e[c];n[f.uuid]=l,e[l]=f,n[u]=c,e[c]=s;for(var h=0,d=i;h!==d;++h){var p=r[h],m=p[c],v=p[l];p[l]=m,p[c]=v}}}this.nCachedObjects_=t},uncache:function(){for(var e=this._objects,t=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,a=i.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],l=u.uuid,c=r[l];if(void 0!==c)if(delete r[l],c<n){var f=--n,h=e[f],d=e[y=--t];r[h.uuid]=c,e[c]=h,r[d.uuid]=f,e[f]=d,e.pop();for(var p=0,m=a;p!==m;++p){var v=(b=i[p])[f],g=b[y];b[c]=v,b[f]=g,b.pop()}}else{var y;r[(d=e[y=--t]).uuid]=c,e[c]=d,e.pop();for(p=0,m=a;p!==m;++p){var b;(b=i[p])[c]=b[y],b.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,c=new Array(u);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var f=l,h=s.length;f!==h;++f){var d=s[f];c[f]=new Pf(d,e,t)}return c},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}),Object.assign(kf.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,u=a.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/o,u[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0)for(var u=this._interpolants,l=this._propertyBindings,c=0,f=u.length;c!==f;++c)u[c].evaluate(o),l[c].accumulate(r,s)}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this.time+e,n=this._clip.duration,r=this.loop,i=this._loopCount,a=r===Et;if(0===e)return-1===i?t:a&&1==(1&i)?n-t:t;if(r===_t){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(t>=n)t=n;else{if(!(t<0)){this.time=t;break e}t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=t,this._mixer.dispatchEvent({type:\"finished\",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),t>=n||t<0){var o=Math.floor(t/n);t-=n*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=e>0?n:0,this.time=t,this._mixer.dispatchEvent({type:\"finished\",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=t,this._mixer.dispatchEvent({type:\"loop\",action:this,loopDelta:o})}}else this.time=t;if(a&&1==(1&i))return n-t}return t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Pt,r.endingEnd=Pt):(r.endingStart=e?this.zeroSlopeAtStart?Pt:Ct:At,r.endingEnd=t?this.zeroSlopeAtEnd?Pt:Ct:At)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}),Of.prototype=Object.assign(Object.create(r.prototype),{constructor:Of,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var c=0;c!==i;++c){var f=r[c],h=f.name,d=l[h];if(void 0!==d)a[c]=d;else{if(void 0!==(d=a[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,h));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(d=new yf(Pf.create(n,h,p),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(d,s,h),a[c]=d}o[c].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,u=s[s.length-1],l=e._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],a=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Pl(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t){var n=t||this._root,r=n.uuid,i=\"string\"==typeof e?Fl.findByName(n,e):e,a=null!==i?i.uuid:e,o=this._actionsByClip[a],s=null;if(void 0!==o){var u=o.actionByRoot[r];if(void 0!==u)return u;s=o.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var l=new kf(this,i,t);return this._bindAction(l,s),this._addInactiveAction(l,a,r),l},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i=\"string\"==typeof e?Fl.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}var s=this._bindings,u=this._nActiveBindings;for(o=0;o!==u;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,c=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Lf.prototype.clone=function(){return new Lf(void 0===this.value.clone?this.value:this.value.clone())},Rf.prototype=Object.assign(Object.create(us.prototype),{constructor:Rf,isInstancedInterleavedBuffer:!0,copy:function(e){return us.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Object.assign(Nf.prototype,{linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error(\"THREE.Raycaster: Unsupported camera type.\")},intersectObject:function(e,t,n){var r=n||[];return Df(e,this,r,t),r.sort(If),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn(\"THREE.Raycaster.intersectObjects: objects is not an Array.\"),r;for(var i=0,a=e.length;i<a;i++)Df(e[i],this,r,t);return r.sort(If),r}}),Object.assign(zf.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(cn.clamp(t/this.radius,-1,1))),this}}),Object.assign(Ff.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});var Bf=new fn;function jf(e,t){this.min=void 0!==e?e:new fn(1/0,1/0),this.max=void 0!==t?t:new fn(-1/0,-1/0)}Object.assign(jf.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Bf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn(\"THREE.Box2: .getCenter() target is now required\"),e=new fn),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn(\"THREE.Box2: .getSize() target is now required\"),e=new fn),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn(\"THREE.Box2: .getParameter() target is now required\"),t=new fn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn(\"THREE.Box2: .clampPoint() target is now required\"),t=new fn),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Bf.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Uf=new mn,Hf=new mn;function Gf(e,t){this.start=void 0!==e?e:new mn,this.end=void 0!==t?t:new mn}function Vf(e){Zn.call(this),this.material=e,this.render=function(){}}Object.assign(Gf.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn(\"THREE.Line3: .getCenter() target is now required\"),e=new mn),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn(\"THREE.Line3: .delta() target is now required\"),e=new mn),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn(\"THREE.Line3: .at() target is now required\"),t=new mn),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){Uf.subVectors(e,this.start),Hf.subVectors(this.end,this.start);var n=Hf.dot(Hf),r=Hf.dot(Uf)/n;return t&&(r=cn.clamp(r,0,1)),r},closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn(\"THREE.Line3: .closestPointToPoint() target is now required\"),n=new mn),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Vf.prototype=Object.create(Zn.prototype),Vf.prototype.constructor=Vf,Vf.prototype.isImmediateRenderObject=!0;var Wf=new mn,qf=new mn,Xf=new yn,Yf=[\"a\",\"b\",\"c\"];function Qf(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var u=new li,l=new $r(2*o*3,3);u.addAttribute(\"position\",l),Hs.call(this,u,new Rs({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}Qf.prototype=Object.create(Hs.prototype),Qf.prototype.constructor=Qf,Qf.prototype.update=function(){this.object.updateMatrixWorld(!0),Xf.getNormalMatrix(this.object.matrixWorld);var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry;if(n&&n.isGeometry)for(var r=n.vertices,i=n.faces,a=0,o=0,s=i.length;o<s;o++)for(var u=i[o],l=0,c=u.vertexNormals.length;l<c;l++){var f=r[u[Yf[l]]],h=u.vertexNormals[l];Wf.copy(f).applyMatrix4(e),qf.copy(h).applyMatrix3(Xf).normalize().multiplyScalar(this.size).add(Wf),t.setXYZ(a,Wf.x,Wf.y,Wf.z),a+=1,t.setXYZ(a,qf.x,qf.y,qf.z),a+=1}else if(n&&n.isBufferGeometry){var d=n.attributes.position,p=n.attributes.normal;for(a=0,l=0,c=d.count;l<c;l++)Wf.set(d.getX(l),d.getY(l),d.getZ(l)).applyMatrix4(e),qf.set(p.getX(l),p.getY(l),p.getZ(l)),qf.applyMatrix3(Xf).normalize().multiplyScalar(this.size).add(Wf),t.setXYZ(a,Wf.x,Wf.y,Wf.z),a+=1,t.setXYZ(a,qf.x,qf.y,qf.z),a+=1}t.needsUpdate=!0};var Zf=new mn;function Jf(e,t){Zn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new li,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,a=1;i<32;i++,a++){var o=i/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}n.addAttribute(\"position\",new $r(r,3));var u=new Rs({fog:!1});this.cone=new Hs(n,u),this.add(this.cone),this.update()}Jf.prototype=Object.create(Zn.prototype),Jf.prototype.constructor=Jf,Jf.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Jf.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Zf.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Zf),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var $f=new mn,Kf=new Ln,eh=new Ln;function th(e){for(var t=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),n=new li,r=[],i=[],a=new Dr(0,0,1),o=new Dr(0,1,0),s=0;s<t.length;s++){var u=t[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}n.addAttribute(\"position\",new $r(r,3)),n.addAttribute(\"color\",new $r(i,3));var l=new Rs({vertexColors:M,depthTest:!1,depthWrite:!1,transparent:!0});Hs.call(this,n,l),this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function nh(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new $u(t,4,2),i=new Gr({wireframe:!0,fog:!1});Ci.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function rh(e,t){this.type=\"RectAreaLightHelper\",this.light=e,this.color=t;var n=new li;n.addAttribute(\"position\",new $r([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var r=new Rs({fog:!1});Bs.call(this,n,r);var i=new li;i.addAttribute(\"position\",new $r([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),i.computeBoundingSphere(),this.add(new Ci(i,new Gr({side:y,fog:!1}))),this.update()}th.prototype=Object.create(Hs.prototype),th.prototype.constructor=th,th.prototype.updateMatrixWorld=function(e){var t=this.bones,n=this.geometry,r=n.getAttribute(\"position\");eh.getInverse(this.root.matrixWorld);for(var i=0,a=0;i<t.length;i++){var o=t[i];o.parent&&o.parent.isBone&&(Kf.multiplyMatrices(eh,o.matrixWorld),$f.setFromMatrixPosition(Kf),r.setXYZ(a,$f.x,$f.y,$f.z),Kf.multiplyMatrices(eh,o.parent.matrixWorld),$f.setFromMatrixPosition(Kf),r.setXYZ(a+1,$f.x,$f.y,$f.z),a+=2)}n.getAttribute(\"position\").needsUpdate=!0,Zn.prototype.updateMatrixWorld.call(this,e)},nh.prototype=Object.create(Ci.prototype),nh.prototype.constructor=nh,nh.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},nh.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},rh.prototype=Object.create(Bs.prototype),rh.prototype.constructor=rh,rh.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var e=this.material.color,t=Math.max(e.r,e.g,e.b);t>1&&e.multiplyScalar(1/t),this.children[0].material.color.copy(this.material.color)}},rh.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()};var ih=new mn,ah=new Dr,oh=new Dr;function sh(e,t,n){Zn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new lu(t);r.rotateY(.5*Math.PI),this.material=new Gr({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=M);var i=r.getAttribute(\"position\"),a=new Float32Array(3*i.count);r.addAttribute(\"color\",new Vr(a,3)),this.add(new Ci(r,this.material)),this.update()}function uh(e,t){this.lightProbe=e,this.size=t;var n={GAMMA_OUTPUT:\"\"},r=new Hi({defines:n,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:[\"varying vec3 vNormal;\",\"void main() {\",\"\\tvNormal = normalize( normalMatrix * normal );\",\"\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\"}\"].join(\"\\n\"),fragmentShader:[\"#define RECIPROCAL_PI 0.318309886\",\"vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\",\"\\t// matrix is assumed to be orthogonal\",\"\\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );\",\"}\",\"vec3 linearToOutput( in vec3 a ) {\",\"\\t#ifdef GAMMA_OUTPUT\",\"\\t\\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\",\"\\t#else\",\"\\t\\treturn a;\",\"\\t#endif\",\"}\",\"// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf\",\"vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\",\"\\t// normal is assumed to have unit length\",\"\\tfloat x = normal.x, y = normal.y, z = normal.z;\",\"\\t// band 0\",\"\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\",\"\\t// band 1\",\"\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\",\"\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\",\"\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\",\"\\t// band 2\",\"\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\",\"\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\",\"\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\",\"\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\",\"\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\",\"\\treturn result;\",\"}\",\"uniform vec3 sh[ 9 ]; // sh coefficients\",\"uniform float intensity; // light probe intensity\",\"varying vec3 vNormal;\",\"void main() {\",\"\\tvec3 normal = normalize( vNormal );\",\"\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\",\"\\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );\",\"\\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;\",\"\\toutgoingLight = linearToOutput( outgoingLight );\",\"\\tgl_FragColor = vec4( outgoingLight, 1.0 );\",\"}\"].join(\"\\n\")}),i=new $u(1,32,16);Ci.call(this,i,r),this.onBeforeRender()}function lh(e,t,n,r){e=e||10,t=t||10,n=new Dr(void 0!==n?n:4473924),r=new Dr(void 0!==r?r:8947848);for(var i=t/2,a=e/t,o=e/2,s=[],u=[],l=0,c=0,f=-o;l<=t;l++,f+=a){s.push(-o,0,f,o,0,f),s.push(f,0,-o,f,0,o);var h=l===i?n:r;h.toArray(u,c),c+=3,h.toArray(u,c),c+=3,h.toArray(u,c),c+=3,h.toArray(u,c),c+=3}var d=new li;d.addAttribute(\"position\",new $r(s,3)),d.addAttribute(\"color\",new $r(u,3));var p=new Rs({vertexColors:M});Hs.call(this,d,p)}function ch(e,t,n,r,i,a){e=e||10,t=t||16,n=n||8,r=r||64,i=new Dr(void 0!==i?i:4473924),a=new Dr(void 0!==a?a:8947848);var o,s,u,l,c,f,h,d=[],p=[];for(l=0;l<=t;l++)u=l/t*(2*Math.PI),o=Math.sin(u)*e,s=Math.cos(u)*e,d.push(0,0,0),d.push(o,0,s),h=1&l?i:a,p.push(h.r,h.g,h.b),p.push(h.r,h.g,h.b);for(l=0;l<=n;l++)for(h=1&l?i:a,f=e-e/n*l,c=0;c<r;c++)u=c/r*(2*Math.PI),o=Math.sin(u)*f,s=Math.cos(u)*f,d.push(o,0,s),p.push(h.r,h.g,h.b),u=(c+1)/r*(2*Math.PI),o=Math.sin(u)*f,s=Math.cos(u)*f,d.push(o,0,s),p.push(h.r,h.g,h.b);var m=new li;m.addAttribute(\"position\",new $r(d,3)),m.addAttribute(\"color\",new $r(p,3));var v=new Rs({vertexColors:M});Hs.call(this,m,v)}function fh(e,t,n,r){this.audio=e,this.range=t||1,this.divisionsInnerAngle=n||16,this.divisionsOuterAngle=r||2;var i=new li,a=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*a+3));i.addAttribute(\"position\",new Vr(o,3));var s=new Rs({color:65280}),u=new Rs({color:16776960});Bs.call(this,i,[u,s]),this.update()}sh.prototype=Object.create(Zn.prototype),sh.prototype.constructor=sh,sh.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},sh.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute(\"color\");ah.copy(this.light.color),oh.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?ah:oh;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(ih.setFromMatrixPosition(this.light.matrixWorld).negate())},uh.prototype=Object.create(Ci.prototype),uh.prototype.constructor=uh,uh.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},uh.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},lh.prototype=Object.assign(Object.create(Hs.prototype),{constructor:lh,copy:function(e){return Hs.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),ch.prototype=Object.create(Hs.prototype),ch.prototype.constructor=ch,fh.prototype=Object.create(Bs.prototype),fh.prototype.constructor=fh,fh.prototype.update=function(){var e,t,n=this.audio,r=this.range,i=this.divisionsInnerAngle,a=this.divisionsOuterAngle,o=cn.degToRad(n.panner.coneInnerAngle),s=cn.degToRad(n.panner.coneOuterAngle),u=o/2,l=s/2,c=0,f=0,h=this.geometry,d=h.attributes.position;function p(n,i,a,o){var s=(i-n)/a;for(d.setXYZ(c,0,0,0),f++,e=n;e<i;e+=s)t=c+f,d.setXYZ(t,Math.sin(e)*r,0,Math.cos(e)*r),d.setXYZ(t+1,Math.sin(Math.min(e+s,i))*r,0,Math.cos(Math.min(e+s,i))*r),d.setXYZ(t+2,0,0,0),f+=3;h.addGroup(c,f,o),c+=f,f=0}h.clearGroups(),p(-l,-u,a,0),p(-u,u,i,1),p(u,l,a,0),d.needsUpdate=!0,o===s&&(this.material[0].visible=!1)},fh.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()};var hh=new mn,dh=new mn,ph=new yn;function mh(e,t,n,r){this.object=e,this.size=void 0!==t?t:1;var i=void 0!==n?n:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn(\"THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.\");var u=new li,l=new $r(2*o*3,3);u.addAttribute(\"position\",l),Hs.call(this,u,new Rs({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}mh.prototype=Object.create(Hs.prototype),mh.prototype.constructor=mh,mh.prototype.update=function(){this.object.updateMatrixWorld(!0),ph.getNormalMatrix(this.object.matrixWorld);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,n=this.object.geometry,r=n.vertices,i=n.faces,a=0,o=0,s=i.length;o<s;o++){var u=i[o],l=u.normal;hh.copy(r[u.a]).add(r[u.b]).add(r[u.c]).divideScalar(3).applyMatrix4(e),dh.copy(l).applyMatrix3(ph).normalize().multiplyScalar(this.size).add(hh),t.setXYZ(a,hh.x,hh.y,hh.z),a+=1,t.setXYZ(a,dh.x,dh.y,dh.z),a+=1}t.needsUpdate=!0};var vh=new mn,gh=new mn,yh=new mn;function bh(e,t,n){Zn.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new li;r.addAttribute(\"position\",new $r([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new Rs({fog:!1});this.lightPlane=new Bs(r,i),this.add(this.lightPlane),(r=new li).addAttribute(\"position\",new $r([0,0,0,0,0,1],3)),this.targetLine=new Bs(r,i),this.add(this.targetLine),this.update()}bh.prototype=Object.create(Zn.prototype),bh.prototype.constructor=bh,bh.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},bh.prototype.update=function(){vh.setFromMatrixPosition(this.light.matrixWorld),gh.setFromMatrixPosition(this.light.target.matrixWorld),yh.subVectors(gh,vh),this.lightPlane.lookAt(gh),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(gh),this.targetLine.scale.z=yh.length()};var xh=new mn,_h=new Gi;function wh(e){var t=new li,n=new Rs({color:16777215,vertexColors:E}),r=[],i=[],a={},o=new Dr(16755200),s=new Dr(16711680),u=new Dr(43775),l=new Dr(16777215),c=new Dr(3355443);function f(e,t,n){h(e,n),h(t,n)}function h(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}f(\"n1\",\"n2\",o),f(\"n2\",\"n4\",o),f(\"n4\",\"n3\",o),f(\"n3\",\"n1\",o),f(\"f1\",\"f2\",o),f(\"f2\",\"f4\",o),f(\"f4\",\"f3\",o),f(\"f3\",\"f1\",o),f(\"n1\",\"f1\",o),f(\"n2\",\"f2\",o),f(\"n3\",\"f3\",o),f(\"n4\",\"f4\",o),f(\"p\",\"n1\",s),f(\"p\",\"n2\",s),f(\"p\",\"n3\",s),f(\"p\",\"n4\",s),f(\"u1\",\"u2\",u),f(\"u2\",\"u3\",u),f(\"u3\",\"u1\",u),f(\"c\",\"t\",l),f(\"p\",\"c\",c),f(\"cn1\",\"cn2\",c),f(\"cn3\",\"cn4\",c),f(\"cf1\",\"cf2\",c),f(\"cf3\",\"cf4\",c),t.addAttribute(\"position\",new $r(r,3)),t.addAttribute(\"color\",new $r(i,3)),Hs.call(this,t,n),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Eh(e,t,n,r,i,a,o){xh.set(i,a,o).unproject(r);var s=t[e];if(void 0!==s)for(var u=n.getAttribute(\"position\"),l=0,c=s.length;l<c;l++)u.setXYZ(s[l],xh.x,xh.y,xh.z)}wh.prototype=Object.create(Hs.prototype),wh.prototype.constructor=wh,wh.prototype.update=function(){var e=this.geometry,t=this.pointMap;_h.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Eh(\"c\",t,e,_h,0,0,-1),Eh(\"t\",t,e,_h,0,0,1),Eh(\"n1\",t,e,_h,-1,-1,-1),Eh(\"n2\",t,e,_h,1,-1,-1),Eh(\"n3\",t,e,_h,-1,1,-1),Eh(\"n4\",t,e,_h,1,1,-1),Eh(\"f1\",t,e,_h,-1,-1,1),Eh(\"f2\",t,e,_h,1,-1,1),Eh(\"f3\",t,e,_h,-1,1,1),Eh(\"f4\",t,e,_h,1,1,1),Eh(\"u1\",t,e,_h,.7,1.1,-1),Eh(\"u2\",t,e,_h,-.7,1.1,-1),Eh(\"u3\",t,e,_h,0,2,-1),Eh(\"cf1\",t,e,_h,-1,0,1),Eh(\"cf2\",t,e,_h,1,0,1),Eh(\"cf3\",t,e,_h,0,-1,1),Eh(\"cf4\",t,e,_h,0,1,1),Eh(\"cn1\",t,e,_h,-1,0,-1),Eh(\"cn2\",t,e,_h,1,0,-1),Eh(\"cn3\",t,e,_h,0,-1,-1),Eh(\"cn4\",t,e,_h,0,1,-1),e.getAttribute(\"position\").needsUpdate=!0};var Mh=new cr;function Sh(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new li;i.setIndex(new Vr(n,1)),i.addAttribute(\"position\",new Vr(r,3)),Hs.call(this,i,new Rs({color:t})),this.matrixAutoUpdate=!1,this.update()}function Th(e,t){this.type=\"Box3Helper\",this.box=e,t=t||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new li;r.setIndex(new Vr(n,1)),r.addAttribute(\"position\",new $r([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Hs.call(this,r,new Rs({color:t})),this.geometry.computeBoundingSphere()}function Ch(e,t,n){this.type=\"PlaneHelper\",this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=new li;i.addAttribute(\"position\",new $r([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),Bs.call(this,i,new Rs({color:r}));var a=new li;a.addAttribute(\"position\",new $r([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new Ci(a,new Gr({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}Sh.prototype=Object.create(Hs.prototype),Sh.prototype.constructor=Sh,Sh.prototype.update=function(e){if(void 0!==e&&console.warn(\"THREE.BoxHelper: .update() has no longer arguments.\"),void 0!==this.object&&Mh.setFromObject(this.object),!Mh.isEmpty()){var t=Mh.min,n=Mh.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}},Sh.prototype.setFromObject=function(e){return this.object=e,this.update(),this},Sh.prototype.copy=function(e){return Hs.prototype.copy.call(this,e),this.object=e.object,this},Sh.prototype.clone=function(){return(new this.constructor).copy(this)},Th.prototype=Object.create(Hs.prototype),Th.prototype.constructor=Th,Th.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Zn.prototype.updateMatrixWorld.call(this,e))},Ch.prototype=Object.create(Bs.prototype),Ch.prototype.constructor=Ch,Ch.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?y:g,this.lookAt(this.plane.normal),Zn.prototype.updateMatrixWorld.call(this,e)};var Ph,Ah,kh=new mn;function Oh(e,t,n,r,i,a){Zn.call(this),void 0===e&&(e=new mn(0,0,1)),void 0===t&&(t=new mn(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===a&&(a=.2*i),void 0===Ph&&((Ph=new li).addAttribute(\"position\",new $r([0,0,0,0,1,0],3)),(Ah=new ul(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new Bs(Ph,new Rs({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ci(Ah,new Gr({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}function Lh(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new li;n.addAttribute(\"position\",new $r(t,3)),n.addAttribute(\"color\",new $r([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Rs({vertexColors:M});Hs.call(this,n,r)}function Rh(e,t,n,r,i,a,o){return console.warn(\"THREE.Face4 has been removed. A THREE.Face3 will be created instead.\"),new jr(e,t,n,i,a,o)}Oh.prototype=Object.create(Zn.prototype),Oh.prototype.constructor=Oh,Oh.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{kh.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(kh,t)}},Oh.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},Oh.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},Oh.prototype.copy=function(e){return Zn.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},Oh.prototype.clone=function(){return(new this.constructor).copy(this)},Lh.prototype=Object.create(Hs.prototype),Lh.prototype.constructor=Lh;var Nh=0,Ih=1;function Dh(e){return console.warn(\"THREE.MeshFaceMaterial has been removed. Use an Array instead.\"),e}function zh(e){return void 0===e&&(e=[]),console.warn(\"THREE.MultiMaterial has been removed. Use an Array instead.\"),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function Fh(e,t){return console.warn(\"THREE.PointCloud has been renamed to THREE.Points.\"),new Qs(e,t)}function Bh(e){return console.warn(\"THREE.Particle has been renamed to THREE.Sprite.\"),new Es(e)}function jh(e,t){return console.warn(\"THREE.ParticleSystem has been renamed to THREE.Points.\"),new Qs(e,t)}function Uh(e){return console.warn(\"THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.\"),new Vs(e)}function Hh(e){return console.warn(\"THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.\"),new Vs(e)}function Gh(e){return console.warn(\"THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.\"),new Vs(e)}function Vh(e,t,n){return console.warn(\"THREE.Vertex has been removed. Use THREE.Vector3 instead.\"),new mn(e,t,n)}function Wh(e,t){return console.warn(\"THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.\"),new Vr(e,t).setDynamic(!0)}function qh(e,t){return console.warn(\"THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.\"),new Wr(e,t)}function Xh(e,t){return console.warn(\"THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.\"),new qr(e,t)}function Yh(e,t){return console.warn(\"THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.\"),new Xr(e,t)}function Qh(e,t){return console.warn(\"THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.\"),new Yr(e,t)}function Zh(e,t){return console.warn(\"THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.\"),new Qr(e,t)}function Jh(e,t){return console.warn(\"THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.\"),new Zr(e,t)}function $h(e,t){return console.warn(\"THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.\"),new Jr(e,t)}function Kh(e,t){return console.warn(\"THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.\"),new $r(e,t)}function ed(e,t){return console.warn(\"THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.\"),new Kr(e,t)}function td(e){console.warn(\"THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.\"),oc.call(this,e),this.type=\"catmullrom\",this.closed=!0}function nd(e){console.warn(\"THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.\"),oc.call(this,e),this.type=\"catmullrom\"}function rd(e){console.warn(\"THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.\"),oc.call(this,e),this.type=\"catmullrom\"}function id(e){return console.warn(\"THREE.AxisHelper has been renamed to THREE.AxesHelper.\"),new Lh(e)}function ad(e,t){return console.warn(\"THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.\"),new Sh(e,t)}function od(e,t){return console.warn(\"THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.\"),new Hs(new ol(e.geometry),new Rs({color:void 0!==t?t:16777215}))}function sd(e,t){return console.warn(\"THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.\"),new Hs(new tu(e.geometry),new Rs({color:void 0!==t?t:16777215}))}function ud(e){return console.warn(\"THREE.XHRLoader has been renamed to THREE.FileLoader.\"),new Wl(e)}function ld(e){return console.warn(\"THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.\"),new Yl(e)}$l.create=function(e,t){return console.log(\"THREE.Curve.create() has been deprecated\"),e.prototype=Object.create($l.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(yc.prototype,{createPointsGeometry:function(e){console.warn(\"THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn(\"THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn(\"THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\");for(var t=new Ni,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new mn(i.x,i.y,i.z||0))}return t}}),Object.assign(bc.prototype,{fromPoints:function(e){console.warn(\"THREE.Path: .fromPoints() has been renamed to .setFromPoints().\"),this.setFromPoints(e)}}),td.prototype=Object.create(oc.prototype),nd.prototype=Object.create(oc.prototype),rd.prototype=Object.create(oc.prototype),Object.assign(rd.prototype,{initFromArray:function(){console.error(\"THREE.Spline: .initFromArray() has been removed.\")},getControlPointsArray:function(){console.error(\"THREE.Spline: .getControlPointsArray() has been removed.\")},reparametrizeByArcLength:function(){console.error(\"THREE.Spline: .reparametrizeByArcLength() has been removed.\")}}),lh.prototype.setColors=function(){console.error(\"THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.\")},th.prototype.update=function(){console.error(\"THREE.SkeletonHelper: update() no longer needs to be called.\")},Object.assign(Gl.prototype,{extractUrlBase:function(e){return console.warn(\"THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.\"),Nc.extractUrlBase(e)}}),Object.assign(Bc.prototype,{setTexturePath:function(e){return console.warn(\"THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().\"),this.setResourcePath(e)}}),Object.assign(jf.prototype,{center:function(e){return console.warn(\"THREE.Box2: .center() has been renamed to .getCenter().\"),this.getCenter(e)},empty:function(){return console.warn(\"THREE.Box2: .empty() has been renamed to .isEmpty().\"),this.isEmpty()},isIntersectionBox:function(e){return console.warn(\"THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(e)},size:function(e){return console.warn(\"THREE.Box2: .size() has been renamed to .getSize().\"),this.getSize(e)}}),Object.assign(cr.prototype,{center:function(e){return console.warn(\"THREE.Box3: .center() has been renamed to .getCenter().\"),this.getCenter(e)},empty:function(){return console.warn(\"THREE.Box3: .empty() has been renamed to .isEmpty().\"),this.isEmpty()},isIntersectionBox:function(e){return console.warn(\"THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn(\"THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().\"),this.intersectsSphere(e)},size:function(e){return console.warn(\"THREE.Box3: .size() has been renamed to .getSize().\"),this.getSize(e)}}),Gf.prototype.center=function(e){return console.warn(\"THREE.Line3: .center() has been renamed to .getCenter().\"),this.getCenter(e)},Object.assign(cn,{random16:function(){return console.warn(\"THREE.Math: .random16() has been deprecated. Use Math.random() instead.\"),Math.random()},nearestPowerOfTwo:function(e){return console.warn(\"THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().\"),cn.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn(\"THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().\"),cn.ceilPowerOfTwo(e)}}),Object.assign(yn.prototype,{flattenToArrayOffset:function(e,t){return console.warn(\"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"),this.toArray(e,t)},multiplyVector3:function(e){return console.warn(\"THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.\"),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error(\"THREE.Matrix3: .multiplyVector3Array() has been removed.\")},applyToBuffer:function(e){return console.warn(\"THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.\"),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error(\"THREE.Matrix3: .applyToVector3Array() has been removed.\")}}),Object.assign(Ln.prototype,{extractPosition:function(e){return console.warn(\"THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().\"),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn(\"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"),this.toArray(e,t)},getPosition:function(){return console.warn(\"THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.\"),(new mn).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn(\"THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().\"),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn(\"THREE.Matrix4: .multiplyToArray() has been removed.\")},multiplyVector3:function(e){return console.warn(\"THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn(\"THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error(\"THREE.Matrix4: .multiplyVector3Array() has been removed.\")},rotateAxis:function(e){console.warn(\"THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.\"),e.transformDirection(this)},crossVector:function(e){return console.warn(\"THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),e.applyMatrix4(this)},translate:function(){console.error(\"THREE.Matrix4: .translate() has been removed.\")},rotateX:function(){console.error(\"THREE.Matrix4: .rotateX() has been removed.\")},rotateY:function(){console.error(\"THREE.Matrix4: .rotateY() has been removed.\")},rotateZ:function(){console.error(\"THREE.Matrix4: .rotateZ() has been removed.\")},rotateByAxis:function(){console.error(\"THREE.Matrix4: .rotateByAxis() has been removed.\")},applyToBuffer:function(e){return console.warn(\"THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.\"),this.applyToBufferAttribute(e)},applyToVector3Array:function(){console.error(\"THREE.Matrix4: .applyToVector3Array() has been removed.\")},makeFrustum:function(e,t,n,r,i,a){return console.warn(\"THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.\"),this.makePerspective(e,t,r,n,i,a)}}),Ki.prototype.isIntersectionLine=function(e){return console.warn(\"THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().\"),this.intersectsLine(e)},hn.prototype.multiplyVector3=function(e){return console.warn(\"THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.\"),e.applyQuaternion(this)},Object.assign(_r.prototype,{isIntersectionBox:function(e){return console.warn(\"THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn(\"THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().\"),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn(\"THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().\"),this.intersectsSphere(e)}}),Object.assign(Lr.prototype,{area:function(){return console.warn(\"THREE.Triangle: .area() has been renamed to .getArea().\"),this.getArea()},barycoordFromPoint:function(e,t){return console.warn(\"THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().\"),this.getBarycoord(e,t)},midpoint:function(e){return console.warn(\"THREE.Triangle: .midpoint() has been renamed to .getMidpoint().\"),this.getMidpoint(e)},normal:function(e){return console.warn(\"THREE.Triangle: .normal() has been renamed to .getNormal().\"),this.getNormal(e)},plane:function(e){return console.warn(\"THREE.Triangle: .plane() has been renamed to .getPlane().\"),this.getPlane(e)}}),Object.assign(Lr,{barycoordFromPoint:function(e,t,n,r,i){return console.warn(\"THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().\"),Lr.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn(\"THREE.Triangle: .normal() has been renamed to .getNormal().\"),Lr.getNormal(e,t,n,r)}}),Object.assign(xc.prototype,{extractAllPoints:function(e){return console.warn(\"THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.\"),this.extractPoints(e)},extrude:function(e){return console.warn(\"THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.\"),new Wu(this,e)},makeGeometry:function(e){return console.warn(\"THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.\"),new rl(this,e)}}),Object.assign(fn.prototype,{fromAttribute:function(e,t,n){return console.warn(\"THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn(\"THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().\"),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn(\"THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().\"),this.manhattanLength()}}),Object.assign(mn.prototype,{setEulerFromRotationMatrix:function(){console.error(\"THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.\")},setEulerFromQuaternion:function(){console.error(\"THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.\")},getPositionFromMatrix:function(e){return console.warn(\"THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().\"),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn(\"THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().\"),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn(\"THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().\"),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn(\"THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.\"),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn(\"THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn(\"THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().\"),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn(\"THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().\"),this.manhattanLength()}}),Object.assign(wn.prototype,{fromAttribute:function(e,t,n){return console.warn(\"THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn(\"THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().\"),this.manhattanLength()}}),Object.assign(Ni.prototype,{computeTangents:function(){console.error(\"THREE.Geometry: .computeTangents() has been removed.\")},computeLineDistances:function(){console.error(\"THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.\")}}),Object.assign(Zn.prototype,{getChildByName:function(e){return console.warn(\"THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().\"),this.getObjectByName(e)},renderDepth:function(){console.warn(\"THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.\")},translate:function(e,t){return console.warn(\"THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.\"),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error(\"THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.\")}}),Object.defineProperties(Zn.prototype,{eulerOrder:{get:function(){return console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\"),this.rotation.order},set:function(e){console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\"),this.rotation.order=e}},useQuaternion:{get:function(){console.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\")},set:function(){console.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\")}}}),Object.defineProperties(Cs.prototype,{objects:{get:function(){return console.warn(\"THREE.LOD: .objects has been renamed to .levels.\"),this.levels}}}),Object.defineProperty(Os.prototype,\"useVertexTexture\",{get:function(){console.warn(\"THREE.Skeleton: useVertexTexture has been removed.\")},set:function(){console.warn(\"THREE.Skeleton: useVertexTexture has been removed.\")}}),Ps.prototype.initBones=function(){console.error(\"THREE.SkinnedMesh: initBones() has been removed.\")},Object.defineProperty($l.prototype,\"__arcLengthDivisions\",{get:function(){return console.warn(\"THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.\"),this.arcLengthDivisions},set:function(e){console.warn(\"THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.\"),this.arcLengthDivisions=e}}),Vi.prototype.setLens=function(e,t){console.warn(\"THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.\"),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(_c.prototype,{onlyShadow:{set:function(){console.warn(\"THREE.Light: .onlyShadow has been removed.\")}},shadowCameraFov:{set:function(e){console.warn(\"THREE.Light: .shadowCameraFov is now .shadow.camera.fov.\"),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn(\"THREE.Light: .shadowCameraLeft is now .shadow.camera.left.\"),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn(\"THREE.Light: .shadowCameraRight is now .shadow.camera.right.\"),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn(\"THREE.Light: .shadowCameraTop is now .shadow.camera.top.\"),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn(\"THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.\"),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn(\"THREE.Light: .shadowCameraNear is now .shadow.camera.near.\"),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn(\"THREE.Light: .shadowCameraFar is now .shadow.camera.far.\"),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn(\"THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.\")}},shadowBias:{set:function(e){console.warn(\"THREE.Light: .shadowBias is now .shadow.bias.\"),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn(\"THREE.Light: .shadowDarkness has been removed.\")}},shadowMapWidth:{set:function(e){console.warn(\"THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.\"),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn(\"THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.\"),this.shadow.mapSize.height=e}}}),Object.defineProperties(Vr.prototype,{length:{get:function(){return console.warn(\"THREE.BufferAttribute: .length has been deprecated. Use .count instead.\"),this.array.length}},copyIndicesArray:function(){console.error(\"THREE.BufferAttribute: .copyIndicesArray() has been removed.\")}}),Object.assign(li.prototype,{addIndex:function(e){console.warn(\"THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().\"),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn(\"THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.\"),console.warn(\"THREE.BufferGeometry: .addDrawCall() is now .addGroup().\"),this.addGroup(e,t)},clearDrawCalls:function(){console.warn(\"THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().\"),this.clearGroups()},computeTangents:function(){console.warn(\"THREE.BufferGeometry: .computeTangents() has been removed.\")},computeOffsets:function(){console.warn(\"THREE.BufferGeometry: .computeOffsets() has been removed.\")}}),Object.defineProperties(li.prototype,{drawcalls:{get:function(){return console.error(\"THREE.BufferGeometry: .drawcalls has been renamed to .groups.\"),this.groups}},offsets:{get:function(){return console.warn(\"THREE.BufferGeometry: .offsets has been renamed to .groups.\"),this.groups}}}),Object.assign(qu.prototype,{getArrays:function(){console.error(\"THREE.ExtrudeBufferGeometry: .getArrays() has been removed.\")},addShapeList:function(){console.error(\"THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.\")},addShape:function(){console.error(\"THREE.ExtrudeBufferGeometry: .addShape() has been removed.\")}}),Object.defineProperties(Lf.prototype,{dynamic:{set:function(){console.warn(\"THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.\")}},onUpdate:{value:function(){return console.warn(\"THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.\"),this}}}),Object.defineProperties(Hr.prototype,{wrapAround:{get:function(){console.warn(\"THREE.Material: .wrapAround has been removed.\")},set:function(){console.warn(\"THREE.Material: .wrapAround has been removed.\")}},overdraw:{get:function(){console.warn(\"THREE.Material: .overdraw has been removed.\")},set:function(){console.warn(\"THREE.Material: .overdraw has been removed.\")}},wrapRGB:{get:function(){return console.warn(\"THREE.Material: .wrapRGB has been removed.\"),new Dr}},shading:{get:function(){console.error(\"THREE.\"+this.type+\": .shading has been removed. Use the boolean .flatShading instead.\")},set:function(e){console.warn(\"THREE.\"+this.type+\": .shading has been removed. Use the boolean .flatShading instead.\"),this.flatShading=e===x}}}),Object.defineProperties(yl.prototype,{metal:{get:function(){return console.warn(\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.\"),!1},set:function(){console.warn(\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead\")}}}),Object.defineProperties(Hi.prototype,{derivatives:{get:function(){return console.warn(\"THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"),this.extensions.derivatives},set:function(e){console.warn(\"THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"),this.extensions.derivatives=e}}}),Object.assign(as.prototype,{clearTarget:function(e,t,n,r){console.warn(\"THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.\"),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn(\"THREE.WebGLRenderer: .animate() is now .setAnimationLoop().\"),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn(\"THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().\"),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn(\"THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().\"),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn(\"THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.\"),this.capabilities.precision},resetGLState:function(){return console.warn(\"THREE.WebGLRenderer: .resetGLState() is now .state.reset().\"),this.state.reset()},supportsFloatTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).\"),this.extensions.get(\"OES_texture_float\")},supportsHalfFloatTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).\"),this.extensions.get(\"OES_texture_half_float\")},supportsStandardDerivatives:function(){return console.warn(\"THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).\"),this.extensions.get(\"OES_standard_derivatives\")},supportsCompressedTextureS3TC:function(){return console.warn(\"THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).\"),this.extensions.get(\"WEBGL_compressed_texture_s3tc\")},supportsCompressedTexturePVRTC:function(){return console.warn(\"THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).\"),this.extensions.get(\"WEBGL_compressed_texture_pvrtc\")},supportsBlendMinMax:function(){return console.warn(\"THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).\"),this.extensions.get(\"EXT_blend_minmax\")},supportsVertexTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.\"),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn(\"THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).\"),this.extensions.get(\"ANGLE_instanced_arrays\")},enableScissorTest:function(e){console.warn(\"THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().\"),this.setScissorTest(e)},initMaterial:function(){console.warn(\"THREE.WebGLRenderer: .initMaterial() has been removed.\")},addPrePlugin:function(){console.warn(\"THREE.WebGLRenderer: .addPrePlugin() has been removed.\")},addPostPlugin:function(){console.warn(\"THREE.WebGLRenderer: .addPostPlugin() has been removed.\")},updateShadowMap:function(){console.warn(\"THREE.WebGLRenderer: .updateShadowMap() has been removed.\")},setFaceCulling:function(){console.warn(\"THREE.WebGLRenderer: .setFaceCulling() has been removed.\")},allocTextureUnit:function(){console.warn(\"THREE.WebGLRenderer: .allocTextureUnit() has been removed.\")},setTexture:function(){console.warn(\"THREE.WebGLRenderer: .setTexture() has been removed.\")},setTexture2D:function(){console.warn(\"THREE.WebGLRenderer: .setTexture2D() has been removed.\")},setTextureCube:function(){console.warn(\"THREE.WebGLRenderer: .setTextureCube() has been removed.\")},getActiveMipMapLevel:function(){return console.warn(\"THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().\"),this.getActiveMipmapLevel()}}),Object.defineProperties(as.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn(\"THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.\"),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn(\"THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.\"),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.\")}},context:{get:function(){return console.warn(\"THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.\"),this.getContext()}}}),Object.defineProperties(Xo.prototype,{cullFace:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.\")}},renderReverseSided:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.\")}},renderSingleSided:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.\")}}}),Object.defineProperties(Yi.prototype,{activeCubeFace:{set:function(){console.warn(\"THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().\")}},activeMipMapLevel:{set:function(){console.warn(\"THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().\")}}}),Object.defineProperties(En.prototype,{wrapS:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\"),this.texture.wrapS},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\"),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\"),this.texture.wrapT},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\"),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"),this.texture.magFilter},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"),this.texture.minFilter},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"),this.texture.anisotropy},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"),this.texture.anisotropy=e}},offset:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"),this.texture.offset},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"),this.texture.offset=e}},repeat:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"),this.texture.repeat},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"),this.texture.repeat=e}},format:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .format is now .texture.format.\"),this.texture.format},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .format is now .texture.format.\"),this.texture.format=e}},type:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .type is now .texture.type.\"),this.texture.type},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .type is now .texture.type.\"),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"),this.texture.generateMipmaps},set:function(e){console.warn(\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"),this.texture.generateMipmaps=e}}}),Object.defineProperties(rs.prototype,{standing:{set:function(){console.warn(\"THREE.WebVRManager: .standing has been removed.\")}},userHeight:{set:function(){console.warn(\"THREE.WebVRManager: .userHeight has been removed.\")}}}),ff.prototype.load=function(e){console.warn(\"THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.\");var t=this;return(new Zc).load(e,(function(e){t.setBuffer(e)})),this},gf.prototype.getData=function(){return console.warn(\"THREE.AudioAnalyser: .getData() is now .getFrequencyData().\"),this.getFrequencyData()},Xi.prototype.updateCubeMap=function(e,t){return console.warn(\"THREE.CubeCamera: .updateCubeMap() is now .update().\"),this.update(e,t)};var cd={merge:function(e,t,n){var r;console.warn(\"THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.\"),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn(\"THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.\"),e.center()}};function fd(){console.error(\"THREE.CanvasRenderer has been removed\")}function hd(){console.error(\"THREE.JSONLoader has been removed.\")}bn.crossOrigin=void 0,bn.loadTexture=function(e,t,n,r){console.warn(\"THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.\");var i=new Jl;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},bn.loadTextureCube=function(e,t,n,r){console.warn(\"THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.\");var i=new Zl;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},bn.loadCompressedTexture=function(){console.error(\"THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.\")},bn.loadCompressedTextureCube=function(){console.error(\"THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.\")};var dd={createMultiMaterialObject:function(){console.error(\"THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js\")},detach:function(){console.error(\"THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js\")},attach:function(){console.error(\"THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js\")}};function pd(){console.error(\"THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js\")}},function(e,t,n){var r=n(61),i=\"object\"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function(\"return this\")();e.exports=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.red=t.getContrastingColor=t.isValidHex=t.toState=t.simpleCheckForValidColor=void 0;var r=a(n(244)),i=a(n(246));function a(e){return e&&e.__esModule?e:{default:e}}t.simpleCheckForValidColor=function(e){var t=0,n=0;return(0,r.default)([\"r\",\"g\",\"b\",\"a\",\"h\",\"s\",\"l\",\"v\"],(function(r){if(e[r]&&(t+=1,isNaN(e[r])||(n+=1),\"s\"===r||\"l\"===r)){/^\\d+%$/.test(e[r])&&(n+=1)}})),t===n&&e};var o=t.toState=function(e,t){var n=e.hex?(0,i.default)(e.hex):(0,i.default)(e),r=n.toHsl(),a=n.toHsv(),o=n.toRgb(),s=n.toHex();return 0===r.s&&(r.h=t||0,a.h=t||0),{hsl:r,hex:\"000000\"===s&&0===o.a?\"transparent\":\"#\"+s,rgb:o,hsv:a,oldHue:e.h||t||r.h,source:e.source}};t.isValidHex=function(e){var t=\"#\"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,i.default)(e).isValid()},t.getContrastingColor=function(e){if(!e)return\"#fff\";var t=o(e);return\"transparent\"===t.hex?\"rgba(0,0,0,0.4)\":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?\"#000\":\"#fff\"},t.red={hsl:{a:1,h:0,l:.5,s:1},hex:\"#ff0000\",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}};t.default=t},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(111);t.default=new r.Dispatcher},function(e,t){e.exports=function(e){return null!=e&&\"object\"==typeof e}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(21),o=n(11),s=(r=o)&&r.__esModule?r:{default:r},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(8));var l={Default:[[0,1],[.05,.75],[.37,.5],[.62,.5],[.95,.25],[1,0]],Linear:[[0,1],[.25,.75],[.5,.5],[.75,.25],[1,0]],Flat:[[0,1],[.25,1],[.5,1],[.75,1],[1,1]],Valley:[[0,1],[.25,.75],[.5,.5],[.75,.75],[1,1]]},c=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));for(var n in e.initColorIdx=5,e.presetColors=[\"#DC143C\",\"#FF6347\",\"#FFA500\",\"#FFFF00\",\"#00FF00\",\"#7FFFD4\",\"#00FFFF\",\"#00BFFF\",\"#1E90FF\",\"#7B68EE\",\"#9932CC\",\"#FF00FF\",\"#FF69B4\",\"#FFFFFF\",\"#FFF8DC\",\"#CD853F\"],e.cameraProp=[{xpos:0,ypos:0,zpos:50,fov:45,far:2e3,depth:0,aspect:1,zoom:1,type:\"Perspective\"}],e.texture=[],e.checked=[],e.focused=[],e.minmaxV=[],e.minmaxH=[],e.plotColor=[],e.gridSize=15,e.tubeNum=16,e.segment=16,e.division=5,e.visualQuery=!1,e.dragSelection=!0,e.activeId=-1,e.lock=[],e.opacityCurves={},l){for(var r=[],i=0;i<l[n].length;i++)r.push(new u.Vector2(l[n][i][0],l[n][i][1]));e.opacityCurves[n]=new u.SplineCurve(r)}return e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:\"handleActions\",value:function(e){switch(e.type){case\"UPLOAD_DATA\":this.uploadData();break;case\"UPDATE_CAMERA\":this.updateCamera(e.id,e.cameraProp);break;case\"SWITCH_CAMERA\":this.switchCamera(e.id);break;case\"RESET_CAMERA\":this.resetCamera(e.id);break;case\"SEARCH_TIME\":this.searchTime(e.id,e.dst);break;case\"UPDATE_CHECKED\":this.updateChecked(e.id);break;case\"SWITCH_GRID\":this.switchGridDisplay(e.id,e.state);break;case\"SWITCH_LABEL\":this.switchLabelDisplay(e.id,e.state);break;case\"SWITCH_AXIS\":this.switchAxisDisplay(e.id,e.state);break;case\"SWITCH_PLOT\":this.switchPlotDisplay(e.id,e.state);break;case\"CHANGE_BACKGROUND\":this.changeBackground(e.id,e.color);break;case\"CLIP_TUBE\":this.clipTube(e.id,e.state);break;case\"SWITCH_SHADE\":this.switchShade(e.id,e.state);break;case\"UPDATE_FOCUS\":this.updateFocus(e.id,e.zpos,e.flag);break;case\"CHANGE_FAR\":this.changeFar(e.id,e.value);break;case\"UPDATE_MINMAXH\":this.updateMinMaxH(e.id,e.min,e.max);break;case\"UPDATE_MINMAXV\":this.updateMinMaxV(e.id,e.min,e.max);break;case\"CHANGE_PLOTCOLOR\":this.changePlotColor(e.id,e.color);break;case\"UPDATE_TEXTURE\":this.updateTexture(e.id,e.texture);break;case\"ACTIVATE_VIEWPORT\":this.activateViewport(e.id);break;case\"TIME_FITTING\":this.timeFitting(e.dst);break;case\"LOCK_CONTROL\":this.lockControl(e.ids,e.state);break;case\"SYNCHRONIZE_TUBES\":this.synchronizeTubes(e.id,e.zpos,e.pos,e.deg);break;case\"ZOOM_OUT_TIMETUBE\":this.zoomOutTimeTubes(e.id);break;case\"RESET_ZOOM_TIMETUBES\":this.resetZoomTimeTubes(e.id);break;case\"ZOOM_IN_TIMETUBES\":this.zoomInTimeTubes(e.id);break;case\"UPDATE_OPACITY\":this.updateOpacity(e.id,e.opt)}}},{key:\"getCameraProp\",value:function(e){return this.cameraProp[e]}},{key:\"getChecked\",value:function(e){return this.checked[e]}},{key:\"getCheckedList\",value:function(){return this.checked}},{key:\"getFocused\",value:function(e){return this.focused[e]}},{key:\"getMinMaxH\",value:function(e){return this.minmaxH[e]}},{key:\"getMinMaxV\",value:function(e){return this.minmaxV[e]}},{key:\"getActiveId\",value:function(){return this.activeId}},{key:\"getPresetColors\",value:function(){return this.presetColors}},{key:\"getPresetColor\",value:function(e){return this.presetColors[e]}},{key:\"getPresetNum\",value:function(){return this.presetColors.length}},{key:\"getPlotColor\",value:function(e){return this.plotColor[e]}},{key:\"getInitColorIdx\",value:function(){return this.initColorIdx}},{key:\"getGridSize\",value:function(){return this.gridSize}},{key:\"getVisualQuery\",value:function(){return this.visualQuery}},{key:\"getTexture\",value:function(e){return this.texture[e]}},{key:\"getTubeNum\",value:function(){return this.tubeNum}},{key:\"getDivision\",value:function(){return this.division}},{key:\"getSegment\",value:function(){return this.segment}},{key:\"getLock\",value:function(e){return this.lock[e]}},{key:\"getOpacityDistSet\",value:function(){return l}},{key:\"getOpacityCurves\",value:function(){return this.opacityCurves}},{key:\"getOpacityCurve\",value:function(e){return this.opacityCurves[e]}},{key:\"setPlotColor\",value:function(e,t){this.plotColor[e]=t}},{key:\"setPlotColorbyIdx\",value:function(e,t){this.plotColor[e]=this.presetColors[t]}},{key:\"setLock\",value:function(e,t){this.lock[e]=t}},{key:\"uploadData\",value:function(){this.cameraProp.length;this.cameraProp.push({xpos:0,ypos:0,zpos:50,fov:45,depth:0,far:2e3,aspect:1,zoom:1,type:\"Perspective\"}),this.checked.push(!0),this.focused.push(0),this.minmaxV.push([0,0]),this.minmaxV.push([0,0]),this.lock.push(0),this.emit(\"upload\")}},{key:\"updateCamera\",value:function(e,t){for(var n in t)this.cameraProp[e][n]=t[n];this.emit(\"change\")}},{key:\"resetCamera\",value:function(e){this.cameraProp[e].xpos=0,this.cameraProp[e].ypos=0,this.cameraProp[e].zpos=50,this.emit(\"reset\")}},{key:\"switchCamera\",value:function(e){\"Perspective\"===this.cameraProp[e].type?this.cameraProp[e].type=\"Orthographic\":this.cameraProp[e].type=\"Perspective\",this.emit(\"switch\")}},{key:\"searchTime\",value:function(e,t){this.emit(\"searchTime\",e,t)}},{key:\"updateChecked\",value:function(e){this.checked[e]=!this.checked[e],this.emit(\"updateChecked\",e)}},{key:\"switchGridDisplay\",value:function(e,t){this.emit(\"switchGrid\",e,t)}},{key:\"switchLabelDisplay\",value:function(e,t){this.emit(\"switchLabel\",e,t)}},{key:\"switchAxisDisplay\",value:function(e,t){this.emit(\"switchAxis\",e,t)}},{key:\"switchPlotDisplay\",value:function(e,t){this.emit(\"switchPlot\",e,t)}},{key:\"changeBackground\",value:function(e,t){this.emit(\"changeBackground\",e,t)}},{key:\"clipTube\",value:function(e,t){this.emit(\"clipTube\",e,t)}},{key:\"switchShade\",value:function(e,t){this.emit(\"switchShade\",e,t)}},{key:\"updateFocus\",value:function(e,t,n){this.focused[e]=t,this.emit(\"updateFocus\",e,t,n)}},{key:\"changeFar\",value:function(e,t){this.cameraProp[e].far=t,this.emit(\"changeFar\",e)}},{key:\"updateMinMaxH\",value:function(e,t,n){this.minmaxH[e]=[t,n],this.emit(\"updateMinMaxH\",e)}},{key:\"updateMinMaxV\",value:function(e,t,n){this.minmaxV[e]=[t,n],this.emit(\"updateMinMaxV\",e)}},{key:\"changePlotColor\",value:function(e,t){this.plotColor[e]=t,this.emit(\"changePlotColor\",e)}},{key:\"updateTexture\",value:function(e,t){this.texture[e]=t,this.emit(\"updateTexture\",e)}},{key:\"activateViewport\",value:function(e){this.activeId=e}},{key:\"timeFitting\",value:function(e){this.emit(\"timeFitting\",e)}},{key:\"lockControl\",value:function(e,t){if(t)for(var n=0;n<e.length;n++)this.lock[e[n]]=this.getFocused(e[n]);else for(var r=0;r<this.lock.length;r++)this.lock[r]=0;this.emit(\"lockControl\",e,t)}},{key:\"synchronizeTubes\",value:function(e,t,n,r){this.emit(\"synchronizeTubes\",e,t,n,r)}},{key:\"zoomOutTimeTubes\",value:function(e){this.cameraProp[e].zoom>=.2&&(this.cameraProp[e].zoom-=.1,this.emit(\"updateZoomTimeTubes\",e))}},{key:\"resetZoomTimeTubes\",value:function(e){this.cameraProp[e].zoom=1,this.emit(\"updateZoomTimeTubes\",e)}},{key:\"zoomInTimeTubes\",value:function(e){this.cameraProp[e].zoom+=.1,this.emit(\"updateZoomTimeTubes\",e)}},{key:\"updateOpacity\",value:function(e,t){this.emit(\"updateOpacity\",e,t)}}]),t}(a.EventEmitter));s.default.register(c.handleActions.bind(c)),t.default=c},function(e,t,n){var r=n(68),i=n(133),a=n(191),o=n(5);e.exports=function(e,t){return(o(e)?r:a)(e,i(t,3))}},function(e,t,n){var r=n(22),i=n(124),a=n(125),o=\"[object Null]\",s=\"[object Undefined]\",u=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:o:u&&u in Object(e)?i(e):a(e)}},function(e,t,n){var r=n(146),i=n(149);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(21),a=u(n(11)),o=u(n(13)),s=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var l=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.visualQuery=!1,e.mode=\"AE\",e.source=-1,e.target=[],e.selector=!0,e.dragSelection=!0,e.tubeAttributes=[],e.selectedPeriod=[-1,-1],e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"handleActions\",value:function(e){switch(e.type){case\"UPDATE_SOURCE\":this.updateSource(e.id);break;case\"UPDATE_TARGET\":this.updateTarget(e.ids);break;case\"SWITCH_SELECTOR\":this.switchSelector();break;case\"SWITCH_DRAGSELECTION\":this.switchDragSelection();break;case\"RESET_SELECTION\":this.resetSelection();break;case\"SELECT_TIMEINTERVAL\":this.selectTimeInterval(e.id,e.value);break;case\"SWITCH_QUERY_MODE\":this.switchQueryMode(e.mode);break;case\"UPLOAD_TUBE_ATTRIBUTES\":this.uploadTubeAttributes(e.id,e.position,e.color,e.indices);break;case\"UPDATE_SELECTED_PERIOD\":this.updateSelectedPeriod(e.period);break;case\"SELECT_PERIOD_FROM_SP\":this.selectPeriodfromSP(e.period)}}},{key:\"getVisualQuery\",value:function(){return this.visualQuery}},{key:\"getSource\",value:function(){return this.source}},{key:\"getTarget\",value:function(){return this.target}},{key:\"getSelector\",value:function(){return this.selector}},{key:\"getDragSelection\",value:function(){return this.dragSelection}},{key:\"getSelectedPeriod\",value:function(){return this.selectedPeriod}},{key:\"getMode\",value:function(){return this.mode}},{key:\"getTubeAttributes\",value:function(e){return this.tubeAttributes[e]}},{key:\"updateSource\",value:function(e){this.source=e,this.emit(\"updateSource\")}},{key:\"updateTarget\",value:function(e){this.target=e,this.emit(\"updateTarget\")}},{key:\"switchSelector\",value:function(){this.selector=!this.selector,this.emit(\"switchSelector\")}},{key:\"switchDragSelection\",value:function(){this.dragSelection=!this.dragSelection,this.emit(\"switchDragSelection\")}},{key:\"resetSelection\",value:function(){this.emit(\"resetSelection\")}},{key:\"selectTimeInterval\",value:function(e,t){var n=Number(t),r=o.default.getFocused(Number(e))+s.default.getData(Number(e)).data.meta.min.z;-1!==this.selectedPeriod[0]&&-1!==this.selectedPeriod[1]?this.selectedPeriod[0]<=r&&r<=this.selectedPeriod[1]?this.selectedPeriod[1]=Math.max(this.selectedPeriod[1],r+n):this.selectedPeriod[0]<=r+n&&r+n<=this.selectedPeriod[1]?this.selectedPeriod[0]=Math.min(this.selectedPeriod[0],r):r+n<this.selectedPeriod[0]?this.selectedPeriod[0]=r:this.selectedPeriod[1]<r?this.selectedPeriod[1]=r+n:r<this.selectedPeriod[0]&&this.selectedPeriod[1]<r+n&&(this.selectedPeriod=[r,r+n]):-1===this.selectedPeriod[0]&&-1===this.selectedPeriod[1]&&(this.selectedPeriod=[r,r+n]),this.emit(\"selectTimeInterval\",e,n)}},{key:\"switchQueryMode\",value:function(e){this.mode=e,this.emit(\"switchQueryMode\",e)}},{key:\"uploadTubeAttributes\",value:function(e,t,n,r){this.tubeAttributes[e]={position:t,color:n,indices:r},this.emit(\"uploadTubeAttributes\")}},{key:\"updateSelectedPeriod\",value:function(e){this.selectedPeriod=e,this.emit(\"updateSelectedPeriod\")}},{key:\"selectPeriodfromSP\",value:function(e){this.selectedPeriod=e,this.emit(\"selectPeriodfromSP\")}},{key:\"setTexture\",value:function(e){this.texture=e,this.emit(\"setTexture\")}}]),t}(i.EventEmitter));a.default.register(l.handleActions.bind(l)),t.default=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.updateCamera=function(e,t){setTimeout((function(){a.default.dispatch({type:\"UPDATE_CAMERA\",id:e,cameraProp:t})}),1)},t.resetCamera=function(e){a.default.dispatch({type:\"RESET_CAMERA\",id:e})},t.switchCamera=function(e){a.default.dispatch({type:\"SWITCH_CAMERA\",id:e})},t.searchTime=function(e,t){a.default.dispatch({type:\"SEARCH_TIME\",id:e,dst:t})},t.updateChecked=function(e){a.default.dispatch({type:\"UPDATE_CHECKED\",id:e})},t.switchGridDisplay=function(e,t){a.default.dispatch({type:\"SWITCH_GRID\",id:e,state:t})},t.switchLabelDisplay=function(e,t){a.default.dispatch({type:\"SWITCH_LABEL\",id:e,state:t})},t.switchAxisDisplay=function(e,t){a.default.dispatch({type:\"SWITCH_AXIS\",id:e,state:t})},t.switchPlotDisplay=function(e,t){a.default.dispatch({type:\"SWITCH_PLOT\",id:e,state:t})},t.changeBackground=function(e,t){a.default.dispatch({type:\"CHANGE_BACKGROUND\",id:e,color:t})},t.clipTube=function(e,t){a.default.dispatch({type:\"CLIP_TUBE\",id:e,state:t})},t.switchShade=function(e,t){a.default.dispatch({type:\"SWITCH_SHADE\",id:e,state:t})},t.changeFar=function(e,t){a.default.dispatch({type:\"CHANGE_FAR\",id:e,value:t})},t.updateFocus=function(e,t,n){a.default.dispatch({type:\"UPDATE_FOCUS\",id:e,zpos:t,flag:n})},t.updateMinMaxV=function(e,t,n){a.default.dispatch({type:\"UPDATE_MINMAXV\",id:e,min:t,max:n})},t.updateMinMaxH=function(e,t,n){a.default.dispatch({type:\"UPDATE_MINMAXH\",id:e,min:t,max:n})},t.changePlotColor=function(e,t){a.default.dispatch({type:\"CHANGE_PLOTCOLOR\",id:e,color:t})},t.updateTexture=function(e,t){a.default.dispatch({type:\"UPDATE_TEXTURE\",id:e,texture:t})},t.activateViewport=function(e){a.default.dispatch({type:\"ACTIVATE_VIEWPORT\",id:e})},t.timeFitting=function(e){a.default.dispatch({type:\"TIME_FITTING\",dst:e})},t.lockControl=function(e,t){a.default.dispatch({type:\"LOCK_CONTROL\",ids:e,state:t})},t.synchronizeTubes=function(e,t,n,r){a.default.dispatch({type:\"SYNCHRONIZE_TUBES\",id:e,zpos:t,pos:n,deg:r})},t.zoomOutTimeTubes=function(e){a.default.dispatch({type:\"ZOOM_OUT_TIMETUBE\",id:e})},t.resetZoomTimeTubes=function(e){a.default.dispatch({type:\"RESET_ZOOM_TIMETUBES\",id:e})},t.zoomInTimeTubes=function(e){a.default.dispatch({type:\"ZOOM_IN_TIMETUBES\",id:e})},t.updateOpacity=function(e,t){a.default.dispatch({type:\"UPDATE_OPACITY\",id:e,opt:t})},t.uploadTubeAttributes=function(e,t,n,r){a.default.dispatch({type:\"UPLOAD_TUBE_ATTRIBUTES\",id:e,position:t,color:n,indices:r})};var r,i=n(11),a=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){var r=n(47),i=n(43);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){\"use strict\";n.r(t);var r=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},i=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return r(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}};var a=i(r),o=a.right,s=a.left,u=o,l=function(e,t){null==t&&(t=c);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return a};function c(e,t){return[e,t]}var f=function(e,t,n){var r,i,a,o,s=e.length,u=t.length,l=new Array(s*u);for(null==n&&(n=c),r=a=0;r<s;++r)for(o=e[r],i=0;i<u;++i,++a)l[a]=n(o,t[i]);return l},h=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},d=function(e){return null===e?NaN:+e},p=function(e,t){var n,r,i=e.length,a=0,o=-1,s=0,u=0;if(null==t)for(;++o<i;)isNaN(n=d(e[o]))||(u+=(r=n-s)*(n-(s+=r/++a)));else for(;++o<i;)isNaN(n=d(t(e[o],o,e)))||(u+=(r=n-s)*(n-(s+=r/++a)));if(a>1)return u/(a-1)},m=function(e,t){var n=p(e,t);return n?Math.sqrt(n):n},v=function(e,t){var n,r,i,a=e.length,o=-1;if(null==t){for(;++o<a;)if(null!=(n=e[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=e[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=t(e[o],o,e))&&n>=n)for(r=i=n;++o<a;)null!=(n=t(e[o],o,e))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},g=Array.prototype,y=g.slice,b=g.map,x=function(e){return function(){return e}},_=function(e){return e},w=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a},E=Math.sqrt(50),M=Math.sqrt(10),S=Math.sqrt(2),T=function(e,t,n){var r,i,a,o,s=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(o=C(e,t,n))||!isFinite(o))return[];if(o>0)for(e=Math.ceil(e/o),t=Math.floor(t/o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(e+s)*o;else for(e=Math.floor(e*o),t=Math.ceil(t*o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(e-s)/o;return r&&a.reverse(),a};function C(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=E?10:a>=M?5:a>=S?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=E?10:a>=M?5:a>=S?2:1)}function P(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=E?i*=10:a>=M?i*=5:a>=S&&(i*=2),t<e?-i:i}var A=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},k=function(){var e=_,t=v,n=A;function r(r){var i,a,o=r.length,s=new Array(o);for(i=0;i<o;++i)s[i]=e(r[i],i,r);var l=t(s),c=l[0],f=l[1],h=n(s,c,f);Array.isArray(h)||(h=P(c,f,h),h=w(Math.ceil(c/h)*h,f,h));for(var d=h.length;h[0]<=c;)h.shift(),--d;for(;h[d-1]>f;)h.pop(),--d;var p,m=new Array(d+1);for(i=0;i<=d;++i)(p=m[i]=[]).x0=i>0?h[i-1]:c,p.x1=i<d?h[i]:f;for(i=0;i<o;++i)c<=(a=s[i])&&a<=f&&m[u(h,a,0,d)].push(r[i]);return m}return r.value=function(t){return arguments.length?(e=\"function\"==typeof t?t:x(t),r):e},r.domain=function(e){return arguments.length?(t=\"function\"==typeof e?e:x([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n=\"function\"==typeof e?e:Array.isArray(e)?x(y.call(e)):x(e),r):n},r},O=function(e,t,n){if(null==n&&(n=d),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}},L=function(e,t,n){return e=b.call(e,d).sort(r),Math.ceil((n-t)/(2*(O(e,.75)-O(e,.25))*Math.pow(e.length,-1/3)))},R=function(e,t,n){return Math.ceil((n-t)/(3.5*m(e)*Math.pow(e.length,-1/3)))},N=function(e,t){var n,r,i=e.length,a=-1;if(null==t){for(;++a<i;)if(null!=(n=e[a])&&n>=n)for(r=n;++a<i;)null!=(n=e[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=n;++a<i;)null!=(n=t(e[a],a,e))&&n>r&&(r=n);return r},I=function(e,t){var n,r=e.length,i=r,a=-1,o=0;if(null==t)for(;++a<r;)isNaN(n=d(e[a]))?--i:o+=n;else for(;++a<r;)isNaN(n=d(t(e[a],a,e)))?--i:o+=n;if(i)return o/i},D=function(e,t){var n,i=e.length,a=-1,o=[];if(null==t)for(;++a<i;)isNaN(n=d(e[a]))||o.push(n);else for(;++a<i;)isNaN(n=d(t(e[a],a,e)))||o.push(n);return O(o.sort(r),.5)},z=function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--o]=r[t];return n},F=function(e,t){var n,r,i=e.length,a=-1;if(null==t){for(;++a<i;)if(null!=(n=e[a])&&n>=n)for(r=n;++a<i;)null!=(n=e[a])&&r>n&&(r=n)}else for(;++a<i;)if(null!=(n=t(e[a],a,e))&&n>=n)for(r=n;++a<i;)null!=(n=t(e[a],a,e))&&r>n&&(r=n);return r},B=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},j=function(e,t){if(n=e.length){var n,i,a=0,o=0,s=e[o];for(null==t&&(t=r);++a<n;)(t(i=e[a],s)<0||0!==t(s,s))&&(s=i,o=a);return 0===t(s,s)?o:void 0}},U=function(e,t,n){for(var r,i,a=(null==n?e.length:n)-(t=null==t?0:+t);a;)i=Math.random()*a--|0,r=e[a+t],e[a+t]=e[i+t],e[i+t]=r;return e},H=function(e,t){var n,r=e.length,i=-1,a=0;if(null==t)for(;++i<r;)(n=+e[i])&&(a+=n);else for(;++i<r;)(n=+t(e[i],i,e))&&(a+=n);return a},G=function(e){if(!(i=e.length))return[];for(var t=-1,n=F(e,V),r=new Array(n);++t<n;)for(var i,a=-1,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r};function V(e){return e.length}var W=function(){return G(arguments)},q=Array.prototype.slice,X=function(e){return e},Y=1,Q=2,Z=3,J=4,$=1e-6;function K(e){return\"translate(\"+(e+.5)+\",0)\"}function ee(e){return\"translate(0,\"+(e+.5)+\")\"}function te(e){return function(t){return+e(t)}}function ne(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function re(){return!this.__axis}function ie(e,t){var n=[],r=null,i=null,a=6,o=6,s=3,u=e===Y||e===J?-1:1,l=e===J||e===Q?\"x\":\"y\",c=e===Y||e===Z?K:ee;function f(f){var h=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,d=null==i?t.tickFormat?t.tickFormat.apply(t,n):X:i,p=Math.max(a,0)+s,m=t.range(),v=+m[0]+.5,g=+m[m.length-1]+.5,y=(t.bandwidth?ne:te)(t.copy()),b=f.selection?f.selection():f,x=b.selectAll(\".domain\").data([null]),_=b.selectAll(\".tick\").data(h,t).order(),w=_.exit(),E=_.enter().append(\"g\").attr(\"class\",\"tick\"),M=_.select(\"line\"),S=_.select(\"text\");x=x.merge(x.enter().insert(\"path\",\".tick\").attr(\"class\",\"domain\").attr(\"stroke\",\"currentColor\")),_=_.merge(E),M=M.merge(E.append(\"line\").attr(\"stroke\",\"currentColor\").attr(l+\"2\",u*a)),S=S.merge(E.append(\"text\").attr(\"fill\",\"currentColor\").attr(l,u*p).attr(\"dy\",e===Y?\"0em\":e===Z?\"0.71em\":\"0.32em\")),f!==b&&(x=x.transition(f),_=_.transition(f),M=M.transition(f),S=S.transition(f),w=w.transition(f).attr(\"opacity\",$).attr(\"transform\",(function(e){return isFinite(e=y(e))?c(e):this.getAttribute(\"transform\")})),E.attr(\"opacity\",$).attr(\"transform\",(function(e){var t=this.parentNode.__axis;return c(t&&isFinite(t=t(e))?t:y(e))}))),w.remove(),x.attr(\"d\",e===J||e==Q?o?\"M\"+u*o+\",\"+v+\"H0.5V\"+g+\"H\"+u*o:\"M0.5,\"+v+\"V\"+g:o?\"M\"+v+\",\"+u*o+\"V0.5H\"+g+\"V\"+u*o:\"M\"+v+\",0.5H\"+g),_.attr(\"opacity\",1).attr(\"transform\",(function(e){return c(y(e))})),M.attr(l+\"2\",u*a),S.attr(l,u*p).text(d),b.filter(re).attr(\"fill\",\"none\").attr(\"font-size\",10).attr(\"font-family\",\"sans-serif\").attr(\"text-anchor\",e===Q?\"start\":e===J?\"end\":\"middle\"),b.each((function(){this.__axis=y}))}return f.scale=function(e){return arguments.length?(t=e,f):t},f.ticks=function(){return n=q.call(arguments),f},f.tickArguments=function(e){return arguments.length?(n=null==e?[]:q.call(e),f):n.slice()},f.tickValues=function(e){return arguments.length?(r=null==e?null:q.call(e),f):r&&r.slice()},f.tickFormat=function(e){return arguments.length?(i=e,f):i},f.tickSize=function(e){return arguments.length?(a=o=+e,f):a},f.tickSizeInner=function(e){return arguments.length?(a=+e,f):a},f.tickSizeOuter=function(e){return arguments.length?(o=+e,f):o},f.tickPadding=function(e){return arguments.length?(s=+e,f):s},f}function ae(e){return ie(Y,e)}function oe(e){return ie(Q,e)}function se(e){return ie(Z,e)}function ue(e){return ie(J,e)}var le={value:function(){}};function ce(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+\"\")||e in r)throw new Error(\"illegal type: \"+e);r[e]=[]}return new fe(r)}function fe(e){this._=e}function he(e,t){return e.trim().split(/^|\\s+/).map((function(e){var n=\"\",r=e.indexOf(\".\");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error(\"unknown type: \"+e);return{type:e,name:n}}))}function de(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function pe(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=le,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}fe.prototype=ce.prototype={constructor:fe,on:function(e,t){var n,r=this._,i=he(e+\"\",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&\"function\"!=typeof t)throw new Error(\"invalid callback: \"+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=pe(r[n],e.name,t);else if(null==t)for(n in r)r[n]=pe(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=de(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new fe(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error(\"unknown type: \"+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error(\"unknown type: \"+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var me=ce,ve=\"http://www.w3.org/1999/xhtml\",ge={svg:\"http://www.w3.org/2000/svg\",xhtml:ve,xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"},ye=function(e){var t=e+=\"\",n=t.indexOf(\":\");return n>=0&&\"xmlns\"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),ge.hasOwnProperty(t)?{space:ge[t],local:e}:e};function be(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ve&&t.documentElement.namespaceURI===ve?t.createElement(e):t.createElementNS(n,e)}}function xe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var _e=function(e){var t=ye(e);return(t.local?xe:be)(t)};function we(){}var Ee=function(e){return null==e?we:function(){return this.querySelector(e)}};function Me(){return[]}var Se=function(e){return null==e?Me:function(){return this.querySelectorAll(e)}},Te=function(e){return function(){return this.matches(e)}},Ce=function(e){return new Array(e.length)};function Pe(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Pe.prototype={constructor:Pe,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Ae=\"$\";function ke(e,t,n,r,i,a){for(var o,s=0,u=t.length,l=a.length;s<l;++s)(o=t[s])?(o.__data__=a[s],r[s]=o):n[s]=new Pe(e,a[s]);for(;s<u;++s)(o=t[s])&&(i[s]=o)}function Oe(e,t,n,r,i,a,o){var s,u,l,c={},f=t.length,h=a.length,d=new Array(f);for(s=0;s<f;++s)(u=t[s])&&(d[s]=l=Ae+o.call(u,u.__data__,s,t),l in c?i[s]=u:c[l]=u);for(s=0;s<h;++s)(u=c[l=Ae+o.call(e,a[s],s,a)])?(r[s]=u,u.__data__=a[s],c[l]=null):n[s]=new Pe(e,a[s]);for(s=0;s<f;++s)(u=t[s])&&c[d[s]]===u&&(i[s]=u)}function Le(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Re(e){return function(){this.removeAttribute(e)}}function Ne(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ie(e,t){return function(){this.setAttribute(e,t)}}function De(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ze(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Fe(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var Be=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function je(e){return function(){this.style.removeProperty(e)}}function Ue(e,t,n){return function(){this.style.setProperty(e,t,n)}}function He(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ge(e,t){return e.style.getPropertyValue(t)||Be(e).getComputedStyle(e,null).getPropertyValue(t)}function Ve(e){return function(){delete this[e]}}function We(e,t){return function(){this[e]=t}}function qe(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Xe(e){return e.trim().split(/^|\\s+/)}function Ye(e){return e.classList||new Qe(e)}function Qe(e){this._node=e,this._names=Xe(e.getAttribute(\"class\")||\"\")}function Ze(e,t){for(var n=Ye(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Je(e,t){for(var n=Ye(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function $e(e){return function(){Ze(this,e)}}function Ke(e){return function(){Je(this,e)}}function et(e,t){return function(){(t.apply(this,arguments)?Ze:Je)(this,e)}}Qe.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute(\"class\",this._names.join(\" \")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute(\"class\",this._names.join(\" \")))},contains:function(e){return this._names.indexOf(e)>=0}};function tt(){this.textContent=\"\"}function nt(e){return function(){this.textContent=e}}function rt(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?\"\":t}}function it(){this.innerHTML=\"\"}function at(e){return function(){this.innerHTML=e}}function ot(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?\"\":t}}function st(){this.nextSibling&&this.parentNode.appendChild(this)}function ut(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lt(){return null}function ct(){var e=this.parentNode;e&&e.removeChild(this)}function ft(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function ht(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var dt={},pt=null;\"undefined\"!=typeof document&&(\"onmouseenter\"in document.documentElement||(dt={mouseenter:\"mouseover\",mouseleave:\"mouseout\"}));function mt(e,t,n){return e=vt(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function vt(e,t,n){return function(r){var i=pt;pt=r;try{e.call(this,this.__data__,t,n)}finally{pt=i}}}function gt(e){return e.trim().split(/^|\\s+/).map((function(e){var t=\"\",n=e.indexOf(\".\");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function yt(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?t.length=i:delete this.__on}}}function bt(e,t,n){var r=dt.hasOwnProperty(e.type)?mt:vt;return function(i,a,o){var s,u=this.__on,l=r(t,a,o);if(u)for(var c=0,f=u.length;c<f;++c)if((s=u[c]).type===e.type&&s.name===e.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=t);this.addEventListener(e.type,l,n),s={type:e.type,name:e.name,value:t,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function xt(e,t,n,r){var i=pt;e.sourceEvent=pt,pt=e;try{return t.apply(n,r)}finally{pt=i}}function _t(e,t,n){var r=Be(e),i=r.CustomEvent;\"function\"==typeof i?i=new i(t,n):(i=r.document.createEvent(\"Event\"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function wt(e,t){return function(){return _t(this,e,t)}}function Et(e,t){return function(){return _t(this,e,t.apply(this,arguments))}}var Mt=[null];function St(e,t){this._groups=e,this._parents=t}function Tt(){return new St([[document.documentElement]],Mt)}St.prototype=Tt.prototype={constructor:St,select:function(e){\"function\"!=typeof e&&(e=Ee(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=t[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(a=s[c])&&(o=e.call(a,a.__data__,c,s))&&(\"__data__\"in a&&(o.__data__=a.__data__),l[c]=o);return new St(r,this._parents)},selectAll:function(e){\"function\"!=typeof e&&(e=Se(e));for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,s=t[a],u=s.length,l=0;l<u;++l)(o=s[l])&&(r.push(e.call(o,o.__data__,l,s)),i.push(o));return new St(r,i)},filter:function(e){\"function\"!=typeof e&&(e=Te(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&u.push(a);return new St(r,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each((function(e){p[++c]=e})),p;var n,r=t?Oe:ke,i=this._parents,a=this._groups;\"function\"!=typeof e&&(n=e,e=function(){return n});for(var o=a.length,s=new Array(o),u=new Array(o),l=new Array(o),c=0;c<o;++c){var f=i[c],h=a[c],d=h.length,p=e.call(f,f&&f.__data__,c,i),m=p.length,v=u[c]=new Array(m),g=s[c]=new Array(m);r(f,h,v,g,l[c]=new Array(d),p,t);for(var y,b,x=0,_=0;x<m;++x)if(y=v[x]){for(x>=_&&(_=x+1);!(b=g[_])&&++_<m;);y._next=b||null}}return(s=new St(s,i))._enter=u,s._exit=l,s},enter:function(){return new St(this._enter||this._groups.map(Ce),this._parents)},exit:function(){return new St(this._exit||this._groups.map(Ce),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return r=\"function\"==typeof e?e(r):r.append(e+\"\"),null!=t&&(i=t(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=t[s],c=n[s],f=l.length,h=o[s]=new Array(f),d=0;d<f;++d)(u=l[d]||c[d])&&(h[d]=u);for(;s<r;++s)o[s]=t[s];return new St(o,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Le);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,l=i[a]=new Array(u),c=0;c<u;++c)(o=s[c])&&(l[c]=o);l.sort(t)}return new St(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,s=a.length;o<s;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=ye(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Ne:Re:\"function\"==typeof t?n.local?Fe:ze:n.local?De:Ie)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?je:\"function\"==typeof t?He:Ue)(e,t,null==n?\"\":n)):Ge(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Ve:\"function\"==typeof t?qe:We)(e,t)):this.node()[e]},classed:function(e,t){var n=Xe(e+\"\");if(arguments.length<2){for(var r=Ye(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((\"function\"==typeof t?et:t?$e:Ke)(n,t))},text:function(e){return arguments.length?this.each(null==e?tt:(\"function\"==typeof e?rt:nt)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?it:(\"function\"==typeof e?ot:at)(e)):this.node().innerHTML},raise:function(){return this.each(st)},lower:function(){return this.each(ut)},append:function(e){var t=\"function\"==typeof e?e:_e(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n=\"function\"==typeof e?e:_e(e),r=null==t?lt:\"function\"==typeof t?t:Ee(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ct)},clone:function(e){return this.select(e?ht:ft)},datum:function(e){return arguments.length?this.property(\"__data__\",e):this.node().__data__},on:function(e,t,n){var r,i,a=gt(e+\"\"),o=a.length;if(!(arguments.length<2)){for(s=t?bt:yt,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],t,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each((\"function\"==typeof t?Et:wt)(e,t))}};var Ct=Tt,Pt=function(e){return\"string\"==typeof e?new St([[document.querySelector(e)]],[document.documentElement]):new St([[e]],Mt)},At=function(e){return Pt(_e(e).call(document.documentElement))},kt=0;function Ot(){return new Lt}function Lt(){this._=\"@\"+(++kt).toString(36)}Lt.prototype=Ot.prototype={constructor:Lt,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var Rt=function(){for(var e,t=pt;e=t.sourceEvent;)t=e;return t},Nt=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]},It=function(e){var t=Rt();return t.changedTouches&&(t=t.changedTouches[0]),Nt(e,t)},Dt=function(e){return\"string\"==typeof e?new St([document.querySelectorAll(e)],[document.documentElement]):new St([null==e?[]:e],Mt)},zt=function(e,t,n){arguments.length<3&&(n=t,t=Rt().changedTouches);for(var r,i=0,a=t?t.length:0;i<a;++i)if((r=t[i]).identifier===n)return Nt(e,r);return null},Ft=function(e,t){null==t&&(t=Rt().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=Nt(e,t[n]);return i};function Bt(){pt.stopImmediatePropagation()}var jt=function(){pt.preventDefault(),pt.stopImmediatePropagation()},Ut=function(e){var t=e.document.documentElement,n=Pt(e).on(\"dragstart.drag\",jt,!0);\"onselectstart\"in t?n.on(\"selectstart.drag\",jt,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect=\"none\")};function Ht(e,t){var n=e.document.documentElement,r=Pt(e).on(\"dragstart.drag\",null);t&&(r.on(\"click.drag\",jt,!0),setTimeout((function(){r.on(\"click.drag\",null)}),0)),\"onselectstart\"in n?r.on(\"selectstart.drag\",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Gt=function(e){return function(){return e}};function Vt(e,t,n,r,i,a,o,s,u,l){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=s,this.dy=u,this._=l}function Wt(){return!pt.ctrlKey&&!pt.button}function qt(){return this.parentNode}function Xt(e){return null==e?{x:pt.x,y:pt.y}:e}function Yt(){return navigator.maxTouchPoints||\"ontouchstart\"in this}Vt.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Qt=function(){var e,t,n,r,i=Wt,a=qt,o=Xt,s=Yt,u={},l=me(\"start\",\"drag\",\"end\"),c=0,f=0;function h(e){e.on(\"mousedown.drag\",d).filter(s).on(\"touchstart.drag\",v).on(\"touchmove.drag\",g).on(\"touchend.drag touchcancel.drag\",y).style(\"touch-action\",\"none\").style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\")}function d(){if(!r&&i.apply(this,arguments)){var o=b(\"mouse\",a.apply(this,arguments),It,this,arguments);o&&(Pt(pt.view).on(\"mousemove.drag\",p,!0).on(\"mouseup.drag\",m,!0),Ut(pt.view),Bt(),n=!1,e=pt.clientX,t=pt.clientY,o(\"start\"))}}function p(){if(jt(),!n){var r=pt.clientX-e,i=pt.clientY-t;n=r*r+i*i>f}u.mouse(\"drag\")}function m(){Pt(pt.view).on(\"mousemove.drag mouseup.drag\",null),Ht(pt.view,n),jt(),u.mouse(\"end\")}function v(){if(i.apply(this,arguments)){var e,t,n=pt.changedTouches,r=a.apply(this,arguments),o=n.length;for(e=0;e<o;++e)(t=b(n[e].identifier,r,zt,this,arguments))&&(Bt(),t(\"start\"))}}function g(){var e,t,n=pt.changedTouches,r=n.length;for(e=0;e<r;++e)(t=u[n[e].identifier])&&(jt(),t(\"drag\"))}function y(){var e,t,n=pt.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<i;++e)(t=u[n[e].identifier])&&(Bt(),t(\"end\"))}function b(e,t,n,r,i){var a,s,f,d=n(t,e),p=l.copy();if(xt(new Vt(h,\"beforestart\",a,e,c,d[0],d[1],0,0,p),(function(){return null!=(pt.subject=a=o.apply(r,i))&&(s=a.x-d[0]||0,f=a.y-d[1]||0,!0)})))return function o(l){var m,v=d;switch(l){case\"start\":u[e]=o,m=c++;break;case\"end\":delete u[e],--c;case\"drag\":d=n(t,e),m=c}xt(new Vt(h,l,a,e,m,d[0]+s,d[1]+f,d[0]-v[0],d[1]-v[1],p),p.apply,p,[l,r,i])}}return h.filter=function(e){return arguments.length?(i=\"function\"==typeof e?e:Gt(!!e),h):i},h.container=function(e){return arguments.length?(a=\"function\"==typeof e?e:Gt(e),h):a},h.subject=function(e){return arguments.length?(o=\"function\"==typeof e?e:Gt(e),h):o},h.touchable=function(e){return arguments.length?(s=\"function\"==typeof e?e:Gt(!!e),h):s},h.on=function(){var e=l.on.apply(l,arguments);return e===l?h:e},h.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,h):Math.sqrt(f)},h},Zt=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function Jt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $t(){}var Kt=\"\\\\s*([+-]?\\\\d+)\\\\s*\",en=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",tn=\"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",nn=/^#([0-9a-f]{3})$/,rn=/^#([0-9a-f]{6})$/,an=new RegExp(\"^rgb\\\\(\"+[Kt,Kt,Kt]+\"\\\\)$\"),on=new RegExp(\"^rgb\\\\(\"+[tn,tn,tn]+\"\\\\)$\"),sn=new RegExp(\"^rgba\\\\(\"+[Kt,Kt,Kt,en]+\"\\\\)$\"),un=new RegExp(\"^rgba\\\\(\"+[tn,tn,tn,en]+\"\\\\)$\"),ln=new RegExp(\"^hsl\\\\(\"+[en,tn,tn]+\"\\\\)$\"),cn=new RegExp(\"^hsla\\\\(\"+[en,tn,tn,en]+\"\\\\)$\"),fn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hn(){return this.rgb().formatHex()}function dn(){return this.rgb().formatRgb()}function pn(e){var t;return e=(e+\"\").trim().toLowerCase(),(t=nn.exec(e))?new bn((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=rn.exec(e))?mn(parseInt(t[1],16)):(t=an.exec(e))?new bn(t[1],t[2],t[3],1):(t=on.exec(e))?new bn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=sn.exec(e))?vn(t[1],t[2],t[3],t[4]):(t=un.exec(e))?vn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ln.exec(e))?En(t[1],t[2]/100,t[3]/100,1):(t=cn.exec(e))?En(t[1],t[2]/100,t[3]/100,t[4]):fn.hasOwnProperty(e)?mn(fn[e]):\"transparent\"===e?new bn(NaN,NaN,NaN,0):null}function mn(e){return new bn(e>>16&255,e>>8&255,255&e,1)}function vn(e,t,n,r){return r<=0&&(e=t=n=NaN),new bn(e,t,n,r)}function gn(e){return e instanceof $t||(e=pn(e)),e?new bn((e=e.rgb()).r,e.g,e.b,e.opacity):new bn}function yn(e,t,n,r){return 1===arguments.length?gn(e):new bn(e,t,n,null==r?1:r)}function bn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function xn(){return\"#\"+wn(this.r)+wn(this.g)+wn(this.b)}function _n(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?\"rgb(\":\"rgba(\")+Math.max(0,Math.min(255,Math.round(this.r)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.g)||0))+\", \"+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?\")\":\", \"+e+\")\")}function wn(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?\"0\":\"\")+e.toString(16)}function En(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Tn(e,t,n,r)}function Mn(e){if(e instanceof Tn)return new Tn(e.h,e.s,e.l,e.opacity);if(e instanceof $t||(e=pn(e)),!e)return new Tn;if(e instanceof Tn)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new Tn(o,s,u,e.opacity)}function Sn(e,t,n,r){return 1===arguments.length?Mn(e):new Tn(e,t,n,null==r?1:r)}function Tn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Cn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Zt($t,pn,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:hn,formatHex:hn,formatHsl:function(){return Mn(this).formatHsl()},formatRgb:dn,toString:dn}),Zt(bn,yn,Jt($t,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new bn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xn,formatHex:xn,formatRgb:_n,toString:_n})),Zt(Tn,Sn,Jt($t,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new Tn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Tn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new bn(Cn(e>=240?e-240:e+120,i,r),Cn(e,i,r),Cn(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?\"hsl(\":\"hsla(\")+(this.h||0)+\", \"+100*(this.s||0)+\"%, \"+100*(this.l||0)+\"%\"+(1===e?\")\":\", \"+e+\")\")}}));var Pn=Math.PI/180,An=180/Math.PI,kn=.96422,On=1,Ln=.82521,Rn=4/29,Nn=6/29,In=3*Nn*Nn,Dn=Nn*Nn*Nn;function zn(e){if(e instanceof jn)return new jn(e.l,e.a,e.b,e.opacity);if(e instanceof Yn)return Qn(e);e instanceof bn||(e=gn(e));var t,n,r=Vn(e.r),i=Vn(e.g),a=Vn(e.b),o=Un((.2225045*r+.7168786*i+.0606169*a)/On);return r===i&&i===a?t=n=o:(t=Un((.4360747*r+.3850649*i+.1430804*a)/kn),n=Un((.0139322*r+.0971045*i+.7141733*a)/Ln)),new jn(116*o-16,500*(t-o),200*(o-n),e.opacity)}function Fn(e,t){return new jn(e,0,0,null==t?1:t)}function Bn(e,t,n,r){return 1===arguments.length?zn(e):new jn(e,t,n,null==r?1:r)}function jn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Un(e){return e>Dn?Math.pow(e,1/3):e/In+Rn}function Hn(e){return e>Nn?e*e*e:In*(e-Rn)}function Gn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Vn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Wn(e){if(e instanceof Yn)return new Yn(e.h,e.c,e.l,e.opacity);if(e instanceof jn||(e=zn(e)),0===e.a&&0===e.b)return new Yn(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*An;return new Yn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function qn(e,t,n,r){return 1===arguments.length?Wn(e):new Yn(n,t,e,null==r?1:r)}function Xn(e,t,n,r){return 1===arguments.length?Wn(e):new Yn(e,t,n,null==r?1:r)}function Yn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Qn(e){if(isNaN(e.h))return new jn(e.l,0,0,e.opacity);var t=e.h*Pn;return new jn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Zt(jn,Bn,Jt($t,{brighter:function(e){return new jn(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new jn(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new bn(Gn(3.1338561*(t=kn*Hn(t))-1.6168667*(e=On*Hn(e))-.4906146*(n=Ln*Hn(n))),Gn(-.9787684*t+1.9161415*e+.033454*n),Gn(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Zt(Yn,Xn,Jt($t,{brighter:function(e){return new Yn(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new Yn(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return Qn(this).rgb()}}));var Zn=-.29227,Jn=-.90649,$n=1.97294,Kn=$n*Jn,er=1.78277*$n,tr=1.78277*Zn- -.14861*Jn;function nr(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof rr)return new rr(e.h,e.s,e.l,e.opacity);e instanceof bn||(e=gn(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(tr*r+Kn*t-er*n)/(tr+Kn-er),a=r-i,o=($n*(n-i)-Zn*a)/Jn,s=Math.sqrt(o*o+a*a)/($n*i*(1-i)),u=s?Math.atan2(o,a)*An-120:NaN;return new rr(u<0?u+360:u,s,i,e.opacity)}(e):new rr(e,t,n,null==r?1:r)}function rr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function ir(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}Zt(rr,nr,Jt($t,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new rr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new rr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*Pn,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new bn(255*(t+n*(-.14861*r+1.78277*i)),255*(t+n*(Zn*r+Jn*i)),255*(t+n*($n*r)),this.opacity)}}));var ar=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return ir((n-r/t)*t,o,i,a,s)}},or=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return ir((n-r/t)*t,i,a,o,s)}},sr=function(e){return function(){return e}};function ur(e,t){return function(n){return e+n*t}}function lr(e,t){var n=t-e;return n?ur(e,n>180||n<-180?n-360*Math.round(n/360):n):sr(isNaN(e)?t:e)}function cr(e){return 1==(e=+e)?fr:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):sr(isNaN(t)?n:t)}}function fr(e,t){var n=t-e;return n?ur(e,n):sr(isNaN(e)?t:e)}var hr=function e(t){var n=cr(t);function r(e,t){var r=n((e=yn(e)).r,(t=yn(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=fr(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+\"\"}}return r.gamma=e,r}(1);function dr(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=yn(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+\"\"}}}var pr=dr(ar),mr=dr(or),vr=function(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Cr(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}},gr=function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}},yr=function(e,t){return t-=e=+e,function(n){return e+t*n}},br=function(e,t){var n,r={},i={};for(n in null!==e&&\"object\"==typeof e||(e={}),null!==t&&\"object\"==typeof t||(t={}),t)n in e?r[n]=Cr(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}},xr=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,_r=new RegExp(xr.source,\"g\");var wr,Er,Mr,Sr,Tr=function(e,t){var n,r,i,a=xr.lastIndex=_r.lastIndex=0,o=-1,s=[],u=[];for(e+=\"\",t+=\"\";(n=xr.exec(e))&&(r=_r.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:yr(n,r)})),a=_r.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+\"\"}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join(\"\")})},Cr=function(e,t){var n,r=typeof t;return null==t||\"boolean\"===r?sr(t):(\"number\"===r?yr:\"string\"===r?(n=pn(t))?(t=n,hr):Tr:t instanceof pn?hr:t instanceof Date?gr:Array.isArray(t)?vr:\"function\"!=typeof t.valueOf&&\"function\"!=typeof t.toString||isNaN(t)?br:yr)(e,t)},Pr=function(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}},Ar=function(e,t){var n=lr(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}},kr=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},Or=180/Math.PI,Lr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Rr=function(e,t,n,r,i,a){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Or,skewX:Math.atan(u)*Or,scaleX:o,scaleY:s}};function Nr(e,t,n,r){function i(e){return e.length?e.pop()+\" \":\"\"}return function(a,o){var s=[],u=[];return a=e(a),o=e(o),function(e,r,i,a,o,s){if(e!==i||r!==a){var u=o.push(\"translate(\",null,t,null,n);s.push({i:u-4,x:yr(e,i)},{i:u-2,x:yr(r,a)})}else(i||a)&&o.push(\"translate(\"+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+\"rotate(\",null,r)-2,x:yr(e,t)})):t&&n.push(i(n)+\"rotate(\"+t+r)}(a.rotate,o.rotate,s,u),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+\"skewX(\",null,r)-2,x:yr(e,t)}):t&&n.push(i(n)+\"skewX(\"+t+r)}(a.skewX,o.skewX,s,u),function(e,t,n,r,a,o){if(e!==n||t!==r){var s=a.push(i(a)+\"scale(\",null,\",\",null,\")\");o.push({i:s-4,x:yr(e,n)},{i:s-2,x:yr(t,r)})}else 1===n&&1===r||a.push(i(a)+\"scale(\"+n+\",\"+r+\")\")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join(\"\")}}}var Ir=Nr((function(e){return\"none\"===e?Lr:(wr||(wr=document.createElement(\"DIV\"),Er=document.documentElement,Mr=document.defaultView),wr.style.transform=e,e=Mr.getComputedStyle(Er.appendChild(wr),null).getPropertyValue(\"transform\"),Er.removeChild(wr),e=e.slice(7,-1).split(\",\"),Rr(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),\"px, \",\"px)\",\"deg)\"),Dr=Nr((function(e){return null==e?Lr:(Sr||(Sr=document.createElementNS(\"http://www.w3.org/2000/svg\",\"g\")),Sr.setAttribute(\"transform\",e),(e=Sr.transform.baseVal.consolidate())?(e=e.matrix,Rr(e.a,e.b,e.c,e.d,e.e,e.f)):Lr)}),\", \",\")\",\")\"),zr=Math.SQRT2;function Fr(e){return((e=Math.exp(e))+1/e)/2}var Br=function(e,t){var n,r,i=e[0],a=e[1],o=e[2],s=t[0],u=t[1],l=t[2],c=s-i,f=u-a,h=c*c+f*f;if(h<1e-12)r=Math.log(l/o)/zr,n=function(e){return[i+e*c,a+e*f,o*Math.exp(zr*e*r)]};else{var d=Math.sqrt(h),p=(l*l-o*o+4*h)/(2*o*2*d),m=(l*l-o*o-4*h)/(2*l*2*d),v=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-v)/zr,n=function(e){var t,n=e*r,s=Fr(v),u=o/(2*d)*(s*(t=zr*n+v,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(v));return[i+u*c,a+u*f,o*s/Fr(zr*n+v)]}}return n.duration=1e3*r,n};function jr(e){return function(t,n){var r=e((t=Sn(t)).h,(n=Sn(n)).h),i=fr(t.s,n.s),a=fr(t.l,n.l),o=fr(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=a(e),t.opacity=o(e),t+\"\"}}}var Ur=jr(lr),Hr=jr(fr);function Gr(e,t){var n=fr((e=Bn(e)).l,(t=Bn(t)).l),r=fr(e.a,t.a),i=fr(e.b,t.b),a=fr(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=a(t),e+\"\"}}function Vr(e){return function(t,n){var r=e((t=Xn(t)).h,(n=Xn(n)).h),i=fr(t.c,n.c),a=fr(t.l,n.l),o=fr(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=a(e),t.opacity=o(e),t+\"\"}}}var Wr=Vr(lr),qr=Vr(fr);function Xr(e){return function t(n){function r(t,r){var i=e((t=nr(t)).h,(r=nr(r)).h),a=fr(t.s,r.s),o=fr(t.l,r.l),s=fr(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=s(e),t+\"\"}}return n=+n,r.gamma=t,r}(1)}var Yr=Xr(lr),Qr=Xr(fr);function Zr(e,t){for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}var Jr,$r,Kr=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n},ei=0,ti=0,ni=0,ri=1e3,ii=0,ai=0,oi=0,si=\"object\"==typeof performance&&performance.now?performance:Date,ui=\"object\"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function li(){return ai||(ui(ci),ai=si.now()+oi)}function ci(){ai=0}function fi(){this._call=this._time=this._next=null}function hi(e,t,n){var r=new fi;return r.restart(e,t,n),r}function di(){li(),++ei;for(var e,t=Jr;t;)(e=ai-t._time)>=0&&t._call.call(null,e),t=t._next;--ei}function pi(){ai=(ii=si.now())+oi,ei=ti=0;try{di()}finally{ei=0,function(){var e,t,n=Jr,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Jr=t);$r=e,vi(r)}(),ai=0}}function mi(){var e=si.now(),t=e-ii;t>ri&&(oi-=t,ii=e)}function vi(e){ei||(ti&&(ti=clearTimeout(ti)),e-ai>24?(e<1/0&&(ti=setTimeout(pi,e-si.now()-oi)),ni&&(ni=clearInterval(ni))):(ni||(ii=si.now(),ni=setInterval(mi,ri)),ei=1,ui(pi)))}fi.prototype=hi.prototype={constructor:fi,restart:function(e,t,n){if(\"function\"!=typeof e)throw new TypeError(\"callback is not a function\");n=(null==n?li():+n)+(null==t?0:+t),this._next||$r===this||($r?$r._next=this:Jr=this,$r=this),this._call=e,this._time=n,vi()},stop:function(){this._call&&(this._call=null,this._time=1/0,vi())}};var gi=function(e,t,n){var r=new fi;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r},yi=function(e,t,n){var r=new fi,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?li():+n,r.restart((function a(o){o+=i,r.restart(a,i+=t,n),e(o)}),t,n),r)},bi=me(\"start\",\"end\",\"cancel\",\"interrupt\"),xi=[],_i=0,wi=1,Ei=2,Mi=3,Si=4,Ti=5,Ci=6,Pi=function(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(u){var l,c,f,h;if(n.state!==wi)return s();for(l in i)if((h=i[l]).name===n.name){if(h.state===Mi)return gi(a);h.state===Si?(h.state=Ci,h.timer.stop(),h.on.call(\"interrupt\",e,e.__data__,h.index,h.group),delete i[l]):+l<t&&(h.state=Ci,h.timer.stop(),h.on.call(\"cancel\",e,e.__data__,h.index,h.group),delete i[l])}if(gi((function(){n.state===Mi&&(n.state=Si,n.timer.restart(o,n.delay,n.time),o(u))})),n.state=Ei,n.on.call(\"start\",e,e.__data__,n.index,n.group),n.state===Ei){for(n.state=Mi,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function o(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=Ti,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);n.state===Ti&&(n.on.call(\"end\",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=Ci,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=hi((function(e){n.state=wi,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:bi,tween:xi,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:_i})};function Ai(e,t){var n=Oi(e,t);if(n.state>_i)throw new Error(\"too late; already scheduled\");return n}function ki(e,t){var n=Oi(e,t);if(n.state>Mi)throw new Error(\"too late; already running\");return n}function Oi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error(\"transition not found\");return n}var Li=function(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+\"\",a)(n=a[i]).name===t?(r=n.state>Ei&&n.state<Ti,n.state=Ci,n.timer.stop(),n.on.call(r?\"interrupt\":\"cancel\",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}};function Ri(e,t){var n,r;return function(){var i=ki(this,e),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function Ni(e,t,n){var r,i;if(\"function\"!=typeof n)throw new Error;return function(){var a=ki(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}function Ii(e,t,n){var r=e._id;return e.each((function(){var e=ki(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Oi(e,r).value[t]}}var Di=function(e,t){var n;return(\"number\"==typeof t?yr:t instanceof pn?hr:(n=pn(t))?(t=n,hr):Tr)(e,t)};function zi(e){return function(){this.removeAttribute(e)}}function Fi(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Bi(e,t,n){var r,i,a=n+\"\";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function ji(e,t,n){var r,i,a=n+\"\";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function Ui(e,t,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttribute(e))===(s=u+\"\")?null:o===r&&s===i?a:(i=s,a=t(r=o,u));this.removeAttribute(e)}}function Hi(e,t,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttributeNS(e.space,e.local))===(s=u+\"\")?null:o===r&&s===i?a:(i=s,a=t(r=o,u));this.removeAttributeNS(e.space,e.local)}}function Gi(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t(n))}}(e,i)),n}return i._value=t,i}function Vi(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t(n))}}(e,i)),n}return i._value=t,i}function Wi(e,t){return function(){Ai(this,e).delay=+t.apply(this,arguments)}}function qi(e,t){return t=+t,function(){Ai(this,e).delay=t}}function Xi(e,t){return function(){ki(this,e).duration=+t.apply(this,arguments)}}function Yi(e,t){return t=+t,function(){ki(this,e).duration=t}}function Qi(e,t){if(\"function\"!=typeof t)throw new Error;return function(){ki(this,e).ease=t}}function Zi(e,t,n){var r,i,a=function(e){return(e+\"\").trim().split(/^|\\s+/).every((function(e){var t=e.indexOf(\".\");return t>=0&&(e=e.slice(0,t)),!e||\"start\"===e}))}(t)?Ai:ki;return function(){var o=a(this,e),s=o.on;s!==r&&(i=(r=s).copy()).on(t,n),o.on=i}}var Ji=Ct.prototype.constructor;function $i(e){return function(){this.style.removeProperty(e)}}function Ki(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t(r),n)}}(e,a,n)),r}return a._value=t,a}var ea=0;function ta(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function na(e){return Ct().transition(e)}function ra(){return++ea}var ia=Ct.prototype;function aa(e){return+e}function oa(e){return e*e}function sa(e){return e*(2-e)}function ua(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function la(e){return e*e*e}function ca(e){return--e*e*e+1}function fa(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}ta.prototype=na.prototype={constructor:ta,select:function(e){var t=this._name,n=this._id;\"function\"!=typeof e&&(e=Ee(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,l=r[o],c=l.length,f=a[o]=new Array(c),h=0;h<c;++h)(s=l[h])&&(u=e.call(s,s.__data__,h,l))&&(\"__data__\"in s&&(u.__data__=s.__data__),f[h]=u,Pi(f[h],t,n,h,f,Oi(s,n)));return new ta(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;\"function\"!=typeof e&&(e=Se(e));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,f=0;f<c;++f)if(u=l[f]){for(var h,d=e.call(u,u.__data__,f,l),p=Oi(u,n),m=0,v=d.length;m<v;++m)(h=d[m])&&Pi(h,t,n,m,d,p);a.push(d),o.push(u)}return new ta(a,o,t,n)},filter:function(e){\"function\"!=typeof e&&(e=Te(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&u.push(a);return new ta(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=t[s],c=n[s],f=l.length,h=o[s]=new Array(f),d=0;d<f;++d)(u=l[d]||c[d])&&(h[d]=u);for(;s<r;++s)o[s]=t[s];return new ta(o,this._parents,this._name,this._id)},selection:function(){return new Ji(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=ra(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)if(o=s[l]){var c=Oi(o,t);Pi(o,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ta(r,this._parents,e,n)},call:ia.call,nodes:ia.nodes,node:ia.node,size:ia.size,empty:ia.empty,each:ia.each,on:function(e,t){var n=this._id;return arguments.length<2?Oi(this.node(),n).on.on(e):this.each(Zi(n,e,t))},attr:function(e,t){var n=ye(e),r=\"transform\"===n?Dr:Di;return this.attrTween(e,\"function\"==typeof t?(n.local?Hi:Ui)(n,r,Ii(this,\"attr.\"+e,t)):null==t?(n.local?Fi:zi)(n):(n.local?ji:Bi)(n,r,t))},attrTween:function(e,t){var n=\"attr.\"+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if(\"function\"!=typeof t)throw new Error;var r=ye(e);return this.tween(n,(r.local?Gi:Vi)(r,t))},style:function(e,t,n){var r=\"transform\"==(e+=\"\")?Ir:Di;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=Ge(this,e),o=(this.style.removeProperty(e),Ge(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on(\"end.style.\"+e,$i(e)):\"function\"==typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=Ge(this,e),s=n(this),u=s+\"\";return null==s&&(this.style.removeProperty(e),u=s=Ge(this,e)),o===u?null:o===r&&u===i?a:(i=u,a=t(r=o,s))}}(e,r,Ii(this,\"style.\"+e,t))).each(function(e,t){var n,r,i,a,o=\"style.\"+t,s=\"end.\"+o;return function(){var u=ki(this,e),l=u.on,c=null==u.value[o]?a||(a=$i(t)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+\"\";return function(){var o=Ge(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on(\"end.style.\"+e,null)},styleTween:function(e,t,n){var r=\"style.\"+(e+=\"\");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if(\"function\"!=typeof t)throw new Error;return this.tween(r,Ki(e,t,null==n?\"\":n))},text:function(e){return this.tween(\"text\",\"function\"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?\"\":t}}(Ii(this,\"text\",e)):function(e){return function(){this.textContent=e}}(null==e?\"\":e+\"\"))},remove:function(){return this.on(\"end.remove\",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+=\"\",arguments.length<2){for(var r,i=Oi(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?Ri:Ni)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each((\"function\"==typeof e?Wi:qi)(t,e)):Oi(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each((\"function\"==typeof e?Xi:Yi)(t,e)):Oi(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Qi(t,e)):Oi(this.node(),t).ease},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},u={value:function(){0==--i&&a()}};n.each((function(){var n=ki(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),n.on=t}))}))}};var ha=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),da=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),pa=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),ma=Math.PI,va=ma/2;function ga(e){return 1-Math.cos(e*va)}function ya(e){return Math.sin(e*va)}function ba(e){return(1-Math.cos(ma*e))/2}function xa(e){return Math.pow(2,10*e-10)}function _a(e){return 1-Math.pow(2,-10*e)}function wa(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function Ea(e){return 1-Math.sqrt(1-e*e)}function Ma(e){return Math.sqrt(1- --e*e)}function Sa(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var Ta=4/11,Ca=6/11,Pa=8/11,Aa=.75,ka=9/11,Oa=10/11,La=.9375,Ra=21/22,Na=63/64,Ia=1/Ta/Ta;function Da(e){return 1-za(1-e)}function za(e){return(e=+e)<Ta?Ia*e*e:e<Pa?Ia*(e-=Ca)*e+Aa:e<Oa?Ia*(e-=ka)*e+La:Ia*(e-=Ra)*e+Na}function Fa(e){return((e*=2)<=1?1-za(1-e):za(e-1)+1)/2}var Ba=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),ja=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),Ua=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),Ha=2*Math.PI,Ga=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ha);function i(e){return t*Math.pow(2,10*--e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*Ha)},i.period=function(n){return e(t,n)},i}(1,.3),Va=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ha);function i(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*Ha)},i.period=function(n){return e(t,n)},i}(1,.3),Wa=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Ha);function i(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((r-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*Ha)},i.period=function(n){return e(t,n)},i}(1,.3),qa={time:null,delay:0,duration:250,ease:fa};function Xa(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return qa.time=li(),qa;return n}Ct.prototype.interrupt=function(e){return this.each((function(){Li(this,e)}))},Ct.prototype.transition=function(e){var t,n;e instanceof ta?(t=e._id,e=e._name):(t=ra(),(n=qa).time=li(),e=null==e?null:e+\"\");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)(o=s[l])&&Pi(o,e,t,l,s,n||Xa(o,t));return new ta(r,this._parents,e,t)};var Ya=[null],Qa=function(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+\"\",i)if((n=i[r]).state>wi&&n.name===t)return new ta([[e]],Ya,t,+r);return null},Za=function(e){return function(){return e}},Ja=function(e,t,n){this.target=e,this.type=t,this.selection=n};function $a(){pt.stopImmediatePropagation()}var Ka=function(){pt.preventDefault(),pt.stopImmediatePropagation()},eo={name:\"drag\"},to={name:\"space\"},no={name:\"handle\"},ro={name:\"center\"};function io(e){return[+e[0],+e[1]]}function ao(e){return[io(e[0]),io(e[1])]}var oo={name:\"x\",handles:[\"w\",\"e\"].map(mo),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},so={name:\"y\",handles:[\"n\",\"s\"].map(mo),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},uo={name:\"xy\",handles:[\"n\",\"w\",\"e\",\"s\",\"nw\",\"ne\",\"sw\",\"se\"].map(mo),input:function(e){return null==e?null:ao(e)},output:function(e){return e}},lo={overlay:\"crosshair\",selection:\"move\",n:\"ns-resize\",e:\"ew-resize\",s:\"ns-resize\",w:\"ew-resize\",nw:\"nwse-resize\",ne:\"nesw-resize\",se:\"nwse-resize\",sw:\"nesw-resize\"},co={e:\"w\",w:\"e\",nw:\"ne\",ne:\"nw\",se:\"sw\",sw:\"se\"},fo={n:\"s\",s:\"n\",nw:\"sw\",ne:\"se\",se:\"ne\",sw:\"nw\"},ho={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},po={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function mo(e){return{type:e}}function vo(){return!pt.ctrlKey&&!pt.button}function go(){var e=this.ownerSVGElement||this;return e.hasAttribute(\"viewBox\")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function yo(){return navigator.maxTouchPoints||\"ontouchstart\"in this}function bo(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function xo(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function _o(){return Mo(oo)}function wo(){return Mo(so)}var Eo=function(){return Mo(uo)};function Mo(e){var t,n=go,r=vo,i=yo,a=!0,o=me(u,\"start\",\"brush\",\"end\"),s=6;function u(t){var n=t.property(\"__brush\",m).selectAll(\".overlay\").data([mo(\"overlay\")]);n.enter().append(\"rect\").attr(\"class\",\"overlay\").attr(\"pointer-events\",\"all\").attr(\"cursor\",lo.overlay).merge(n).each((function(){var e=bo(this).extent;Pt(this).attr(\"x\",e[0][0]).attr(\"y\",e[0][1]).attr(\"width\",e[1][0]-e[0][0]).attr(\"height\",e[1][1]-e[0][1])})),t.selectAll(\".selection\").data([mo(\"selection\")]).enter().append(\"rect\").attr(\"class\",\"selection\").attr(\"cursor\",lo.selection).attr(\"fill\",\"#777\").attr(\"fill-opacity\",.3).attr(\"stroke\",\"#fff\").attr(\"shape-rendering\",\"crispEdges\");var r=t.selectAll(\".handle\").data(e.handles,(function(e){return e.type}));r.exit().remove(),r.enter().append(\"rect\").attr(\"class\",(function(e){return\"handle handle--\"+e.type})).attr(\"cursor\",(function(e){return lo[e.type]})),t.each(l).attr(\"fill\",\"none\").attr(\"pointer-events\",\"all\").on(\"mousedown.brush\",h).filter(i).on(\"touchstart.brush\",h).on(\"touchmove.brush\",d).on(\"touchend.brush touchcancel.brush\",p).style(\"touch-action\",\"none\").style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\")}function l(){var e=Pt(this),t=bo(this).selection;t?(e.selectAll(\".selection\").style(\"display\",null).attr(\"x\",t[0][0]).attr(\"y\",t[0][1]).attr(\"width\",t[1][0]-t[0][0]).attr(\"height\",t[1][1]-t[0][1]),e.selectAll(\".handle\").style(\"display\",null).attr(\"x\",(function(e){return\"e\"===e.type[e.type.length-1]?t[1][0]-s/2:t[0][0]-s/2})).attr(\"y\",(function(e){return\"s\"===e.type[0]?t[1][1]-s/2:t[0][1]-s/2})).attr(\"width\",(function(e){return\"n\"===e.type||\"s\"===e.type?t[1][0]-t[0][0]+s:s})).attr(\"height\",(function(e){return\"e\"===e.type||\"w\"===e.type?t[1][1]-t[0][1]+s:s}))):e.selectAll(\".selection,.handle\").style(\"display\",\"none\").attr(\"x\",null).attr(\"y\",null).attr(\"width\",null).attr(\"height\",null)}function c(e,t,n){return!n&&e.__brush.emitter||new f(e,t)}function f(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function h(){if((!t||pt.touches)&&r.apply(this,arguments)){var n,i,o,s,u,f,h,d,p,m,v,g,y=this,b=pt.target.__data__.type,x=\"selection\"===(a&&pt.metaKey?b=\"overlay\":b)?eo:a&&pt.altKey?ro:no,_=e===so?null:ho[b],w=e===oo?null:po[b],E=bo(y),M=E.extent,S=E.selection,T=M[0][0],C=M[0][1],P=M[1][0],A=M[1][1],k=0,O=0,L=_&&w&&a&&pt.shiftKey,R=pt.touches?(g=pt.changedTouches[0].identifier,function(e){return zt(e,pt.touches,g)}):It,N=R(y),I=N,D=c(y,arguments,!0).beforestart();\"overlay\"===b?(S&&(p=!0),E.selection=S=[[n=e===so?T:N[0],o=e===oo?C:N[1]],[u=e===so?P:n,h=e===oo?A:o]]):(n=S[0][0],o=S[0][1],u=S[1][0],h=S[1][1]),i=n,s=o,f=u,d=h;var z=Pt(y).attr(\"pointer-events\",\"none\"),F=z.selectAll(\".overlay\").attr(\"cursor\",lo[b]);if(pt.touches)D.moved=j,D.ended=H;else{var B=Pt(pt.view).on(\"mousemove.brush\",j,!0).on(\"mouseup.brush\",H,!0);a&&B.on(\"keydown.brush\",(function(){switch(pt.keyCode){case 16:L=_&&w;break;case 18:x===no&&(_&&(u=f-k*_,n=i+k*_),w&&(h=d-O*w,o=s+O*w),x=ro,U());break;case 32:x!==no&&x!==ro||(_<0?u=f-k:_>0&&(n=i-k),w<0?h=d-O:w>0&&(o=s-O),x=to,F.attr(\"cursor\",lo.selection),U());break;default:return}Ka()}),!0).on(\"keyup.brush\",(function(){switch(pt.keyCode){case 16:L&&(m=v=L=!1,U());break;case 18:x===ro&&(_<0?u=f:_>0&&(n=i),w<0?h=d:w>0&&(o=s),x=no,U());break;case 32:x===to&&(pt.altKey?(_&&(u=f-k*_,n=i+k*_),w&&(h=d-O*w,o=s+O*w),x=ro):(_<0?u=f:_>0&&(n=i),w<0?h=d:w>0&&(o=s),x=no),F.attr(\"cursor\",lo[b]),U());break;default:return}Ka()}),!0),Ut(pt.view)}$a(),Li(y),l.call(y),D.start()}function j(){var e=R(y);!L||m||v||(Math.abs(e[0]-I[0])>Math.abs(e[1]-I[1])?v=!0:m=!0),I=e,p=!0,Ka(),U()}function U(){var e;switch(k=I[0]-N[0],O=I[1]-N[1],x){case to:case eo:_&&(k=Math.max(T-n,Math.min(P-u,k)),i=n+k,f=u+k),w&&(O=Math.max(C-o,Math.min(A-h,O)),s=o+O,d=h+O);break;case no:_<0?(k=Math.max(T-n,Math.min(P-n,k)),i=n+k,f=u):_>0&&(k=Math.max(T-u,Math.min(P-u,k)),i=n,f=u+k),w<0?(O=Math.max(C-o,Math.min(A-o,O)),s=o+O,d=h):w>0&&(O=Math.max(C-h,Math.min(A-h,O)),s=o,d=h+O);break;case ro:_&&(i=Math.max(T,Math.min(P,n-k*_)),f=Math.max(T,Math.min(P,u+k*_))),w&&(s=Math.max(C,Math.min(A,o-O*w)),d=Math.max(C,Math.min(A,h+O*w)))}f<i&&(_*=-1,e=n,n=u,u=e,e=i,i=f,f=e,b in co&&F.attr(\"cursor\",lo[b=co[b]])),d<s&&(w*=-1,e=o,o=h,h=e,e=s,s=d,d=e,b in fo&&F.attr(\"cursor\",lo[b=fo[b]])),E.selection&&(S=E.selection),m&&(i=S[0][0],f=S[1][0]),v&&(s=S[0][1],d=S[1][1]),S[0][0]===i&&S[0][1]===s&&S[1][0]===f&&S[1][1]===d||(E.selection=[[i,s],[f,d]],l.call(y),D.brush())}function H(){if($a(),pt.touches){if(pt.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500)}else Ht(pt.view,p),B.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\",null);z.attr(\"pointer-events\",\"all\"),F.attr(\"cursor\",lo.overlay),E.selection&&(S=E.selection),function(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(S)&&(E.selection=null,l.call(y)),D.end()}}function d(){c(this,arguments).moved()}function p(){c(this,arguments).ended()}function m(){var t=this.__brush||{selection:null};return t.extent=ao(n.apply(this,arguments)),t.dim=e,t}return u.move=function(t,n){t.selection?t.on(\"start.brush\",(function(){c(this,arguments).beforestart().start()})).on(\"interrupt.brush end.brush\",(function(){c(this,arguments).end()})).tween(\"brush\",(function(){var t=this,r=t.__brush,i=c(t,arguments),a=r.selection,o=e.input(\"function\"==typeof n?n.apply(this,arguments):n,r.extent),s=Cr(a,o);function u(e){r.selection=1===e&&null===o?null:s(e),l.call(t),i.brush()}return null!==a&&null!==o?u:u(1)})):t.each((function(){var t=this,r=arguments,i=t.__brush,a=e.input(\"function\"==typeof n?n.apply(t,r):n,i.extent),o=c(t,r).beforestart();Li(t),i.selection=null===a?null:a,l.call(t),o.start().brush().end()}))},u.clear=function(e){u.move(e,null)},f.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit(\"start\")):this.emit(\"brush\"),this},brush:function(){return this.emit(\"brush\"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit(\"end\")),this},emit:function(t){xt(new Ja(u,t,e.output(this.state.selection)),o.apply,o,[t,this.that,this.args])}},u.extent=function(e){return arguments.length?(n=\"function\"==typeof e?e:Za(ao(e)),u):n},u.filter=function(e){return arguments.length?(r=\"function\"==typeof e?e:Za(!!e),u):r},u.handleSize=function(e){return arguments.length?(s=+e,u):s},u.keyModifiers=function(e){return arguments.length?(a=!!e,u):a},u.on=function(){var e=o.on.apply(o,arguments);return e===o?u:e},u}var So=Math.cos,To=Math.sin,Co=Math.PI,Po=Co/2,Ao=2*Co,ko=Math.max;function Oo(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}var Lo=function(){var e=0,t=null,n=null,r=null;function i(i){var a,o,s,u,l,c,f=i.length,h=[],d=w(f),p=[],m=[],v=m.groups=new Array(f),g=new Array(f*f);for(a=0,l=-1;++l<f;){for(o=0,c=-1;++c<f;)o+=i[l][c];h.push(o),p.push(w(f)),a+=o}for(t&&d.sort((function(e,n){return t(h[e],h[n])})),n&&p.forEach((function(e,t){e.sort((function(e,r){return n(i[t][e],i[t][r])}))})),u=(a=ko(0,Ao-e*f)/a)?e:Ao/f,o=0,l=-1;++l<f;){for(s=o,c=-1;++c<f;){var y=d[l],b=p[y][c],x=i[y][b],_=o,E=o+=x*a;g[b*f+y]={index:y,subindex:b,startAngle:_,endAngle:E,value:x}}v[y]={index:y,startAngle:s,endAngle:o,value:h[y]},o+=u}for(l=-1;++l<f;)for(c=l-1;++c<f;){var M=g[c*f+l],S=g[l*f+c];(M.value||S.value)&&m.push(M.value<S.value?{source:S,target:M}:{source:M,target:S})}return r?m.sort(r):m}return i.padAngle=function(t){return arguments.length?(e=ko(0,t),i):e},i.sortGroups=function(e){return arguments.length?(t=e,i):t},i.sortSubgroups=function(e){return arguments.length?(n=e,i):n},i.sortChords=function(e){return arguments.length?(null==e?r=null:(r=Oo(e))._=e,i):r&&r._},i},Ro=Array.prototype.slice,No=function(e){return function(){return e}},Io=Math.PI,Do=2*Io,zo=Do-1e-6;function Fo(){this._x0=this._y0=this._x1=this._y1=null,this._=\"\"}function Bo(){return new Fo}Fo.prototype=Bo.prototype={constructor:Fo,moveTo:function(e,t){this._+=\"M\"+(this._x0=this._x1=+e)+\",\"+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+=\"Z\")},lineTo:function(e,t){this._+=\"L\"+(this._x1=+e)+\",\"+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+=\"Q\"+ +e+\",\"+ +t+\",\"+(this._x1=+n)+\",\"+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+=\"C\"+ +e+\",\"+ +t+\",\"+ +n+\",\"+ +r+\",\"+(this._x1=+i)+\",\"+(this._y1=+a)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-e,u=r-t,l=a-e,c=o-t,f=l*l+c*c;if(i<0)throw new Error(\"negative radius: \"+i);if(null===this._x1)this._+=\"M\"+(this._x1=e)+\",\"+(this._y1=t);else if(f>1e-6)if(Math.abs(c*s-u*l)>1e-6&&i){var h=n-a,d=r-o,p=s*s+u*u,m=h*h+d*d,v=Math.sqrt(p),g=Math.sqrt(f),y=i*Math.tan((Io-Math.acos((p+f-m)/(2*v*g)))/2),b=y/g,x=y/v;Math.abs(b-1)>1e-6&&(this._+=\"L\"+(e+b*l)+\",\"+(t+b*c)),this._+=\"A\"+i+\",\"+i+\",0,0,\"+ +(c*h>l*d)+\",\"+(this._x1=e+x*s)+\",\"+(this._y1=t+x*u)}else this._+=\"L\"+(this._x1=e)+\",\"+(this._y1=t);else;},arc:function(e,t,n,r,i,a){e=+e,t=+t,a=!!a;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=e+o,l=t+s,c=1^a,f=a?r-i:i-r;if(n<0)throw new Error(\"negative radius: \"+n);null===this._x1?this._+=\"M\"+u+\",\"+l:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+=\"L\"+u+\",\"+l),n&&(f<0&&(f=f%Do+Do),f>zo?this._+=\"A\"+n+\",\"+n+\",0,1,\"+c+\",\"+(e-o)+\",\"+(t-s)+\"A\"+n+\",\"+n+\",0,1,\"+c+\",\"+(this._x1=u)+\",\"+(this._y1=l):f>1e-6&&(this._+=\"A\"+n+\",\"+n+\",0,\"+ +(f>=Io)+\",\"+c+\",\"+(this._x1=e+n*Math.cos(i))+\",\"+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+=\"M\"+(this._x0=this._x1=+e)+\",\"+(this._y0=this._y1=+t)+\"h\"+ +n+\"v\"+ +r+\"h\"+-n+\"Z\"},toString:function(){return this._}};var jo=Bo;function Uo(e){return e.source}function Ho(e){return e.target}function Go(e){return e.radius}function Vo(e){return e.startAngle}function Wo(e){return e.endAngle}var qo=function(){var e=Uo,t=Ho,n=Go,r=Vo,i=Wo,a=null;function o(){var o,s=Ro.call(arguments),u=e.apply(this,s),l=t.apply(this,s),c=+n.apply(this,(s[0]=u,s)),f=r.apply(this,s)-Po,h=i.apply(this,s)-Po,d=c*So(f),p=c*To(f),m=+n.apply(this,(s[0]=l,s)),v=r.apply(this,s)-Po,g=i.apply(this,s)-Po;if(a||(a=o=jo()),a.moveTo(d,p),a.arc(0,0,c,f,h),f===v&&h===g||(a.quadraticCurveTo(0,0,m*So(v),m*To(v)),a.arc(0,0,m,v,g)),a.quadraticCurveTo(0,0,d,p),a.closePath(),o)return a=null,o+\"\"||null}return o.radius=function(e){return arguments.length?(n=\"function\"==typeof e?e:No(+e),o):n},o.startAngle=function(e){return arguments.length?(r=\"function\"==typeof e?e:No(+e),o):r},o.endAngle=function(e){return arguments.length?(i=\"function\"==typeof e?e:No(+e),o):i},o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(e){return arguments.length?(t=e,o):t},o.context=function(e){return arguments.length?(a=null==e?null:e,o):a},o};function Xo(){}function Yo(e,t){var n=new Xo;if(e instanceof Xo)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,i=-1,a=e.length;if(null==t)for(;++i<a;)n.set(i,e[i]);else for(;++i<a;)n.set(t(r=e[i],i,e),r)}else if(e)for(var o in e)n.set(o,e[o]);return n}Xo.prototype=Yo.prototype={constructor:Xo,has:function(e){return\"$\"+e in this},get:function(e){return this[\"$\"+e]},set:function(e,t){return this[\"$\"+e]=t,this},remove:function(e){var t=\"$\"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)\"$\"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)\"$\"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)\"$\"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)\"$\"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)\"$\"===t[0]&&++e;return e},empty:function(){for(var e in this)if(\"$\"===e[0])return!1;return!0},each:function(e){for(var t in this)\"$\"===t[0]&&e(this[t],t.slice(1),this)}};var Qo=Yo,Zo=function(){var e,t,n,r=[],i=[];function a(n,i,o,s){if(i>=r.length)return null!=e&&n.sort(e),null!=t?t(n):n;for(var u,l,c,f=-1,h=n.length,d=r[i++],p=Qo(),m=o();++f<h;)(c=p.get(u=d(l=n[f])+\"\"))?c.push(l):p.set(u,[l]);return p.each((function(e,t){s(m,t,a(e,i,o,s))})),m}return n={object:function(e){return a(e,0,Jo,$o)},map:function(e){return a(e,0,Ko,es)},entries:function(e){return function e(n,a){if(++a>r.length)return n;var o,s=i[a-1];return null!=t&&a>=r.length?o=n.entries():(o=[],n.each((function(t,n){o.push({key:n,values:e(t,a)})}))),null!=s?o.sort((function(e,t){return s(e.key,t.key)})):o}(a(e,0,Ko,es),0)},key:function(e){return r.push(e),n},sortKeys:function(e){return i[r.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}};function Jo(){return{}}function $o(e,t,n){e[t]=n}function Ko(){return Qo()}function es(e,t,n){e.set(t,n)}function ts(){}var ns=Qo.prototype;function rs(e,t){var n=new ts;if(e instanceof ts)e.each((function(e){n.add(e)}));else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}ts.prototype=rs.prototype={constructor:ts,has:ns.has,add:function(e){return this[\"$\"+(e+=\"\")]=e,this},remove:ns.remove,clear:ns.clear,values:ns.keys,size:ns.size,empty:ns.empty,each:ns.each};var is=rs,as=function(e){var t=[];for(var n in e)t.push(n);return t},os=function(e){var t=[];for(var n in e)t.push(e[n]);return t},ss=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},us=Array.prototype.slice,ls=function(e,t){return e-t},cs=function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r},fs=function(e){return function(){return e}},hs=function(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=ds(e,t[r]))return n;return 0};function ds(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var u=e[a],l=u[0],c=u[1],f=e[s],h=f[0],d=f[1];if(ps(u,f,t))return 0;c>r!=d>r&&n<(h-l)*(r-c)/(d-c)+l&&(i=-i)}return i}function ps(e,t,n){var r,i,a,o;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(i=e[r=+(e[0]===t[0])],a=n[r],o=t[r],i<=a&&a<=o||o<=a&&a<=i)}var ms=function(){},vs=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],gs=function(){var e=1,t=1,n=A,r=s;function i(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(ls);else{var r=v(e),i=r[0],o=r[1];t=P(i,o,t),t=w(Math.floor(i/t)*t,Math.floor(o/t)*t,t)}return t.map((function(t){return a(e,t)}))}function a(n,i){var a=[],s=[];return function(n,r,i){var a,s,u,l,c,f,h=new Array,d=new Array;a=s=-1,l=n[0]>=r,vs[l<<1].forEach(p);for(;++a<e-1;)u=l,l=n[a+1]>=r,vs[u|l<<1].forEach(p);vs[l<<0].forEach(p);for(;++s<t-1;){for(a=-1,l=n[s*e+e]>=r,c=n[s*e]>=r,vs[l<<1|c<<2].forEach(p);++a<e-1;)u=l,l=n[s*e+e+a+1]>=r,f=c,c=n[s*e+a+1]>=r,vs[u|l<<1|c<<2|f<<3].forEach(p);vs[l|c<<3].forEach(p)}a=-1,c=n[s*e]>=r,vs[c<<2].forEach(p);for(;++a<e-1;)f=c,c=n[s*e+a+1]>=r,vs[c<<2|f<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+a,e[0][1]+s],u=[e[1][0]+a,e[1][1]+s],l=o(r),c=o(u);(t=d[l])?(n=h[c])?(delete d[t.end],delete h[n.start],t===n?(t.ring.push(u),i(t.ring)):h[t.start]=d[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete d[t.end],t.ring.push(u),d[t.end=c]=t):(t=h[c])?(n=d[l])?(delete h[t.start],delete d[n.end],t===n?(t.ring.push(u),i(t.ring)):h[n.start]=d[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete h[t.start],t.ring.unshift(r),h[t.start=l]=t):h[l]=d[c]={start:l,end:c,ring:[r,u]}}vs[c<<3].forEach(p)}(n,i,(function(e){r(e,n,i),cs(e)>0?a.push([e]):s.push(e)})),s.forEach((function(e){for(var t,n=0,r=a.length;n<r;++n)if(-1!==hs((t=a[n])[0],e))return void t.push(e)})),{type:\"MultiPolygon\",value:i,coordinates:a}}function o(t){return 2*t[0]+t[1]*(e+1)*4}function s(n,r,i){n.forEach((function(n){var a,o=n[0],s=n[1],u=0|o,l=0|s,c=r[l*e+u];o>0&&o<e&&u===o&&(a=r[l*e+u-1],n[0]=o+(i-a)/(c-a)-.5),s>0&&s<t&&l===s&&(a=r[(l-1)*e+u],n[1]=s+(i-a)/(c-a)-.5)}))}return i.contour=a,i.size=function(n){if(!arguments.length)return[e,t];var r=Math.ceil(n[0]),a=Math.ceil(n[1]);if(!(r>0&&a>0))throw new Error(\"invalid size\");return e=r,t=a,i},i.thresholds=function(e){return arguments.length?(n=\"function\"==typeof e?e:Array.isArray(e)?fs(us.call(e)):fs(e),i):n},i.smooth=function(e){return arguments.length?(r=e?s:ms,i):r===s},i};function ys(e,t,n){for(var r=e.width,i=e.height,a=1+(n<<1),o=0;o<i;++o)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=e.data[s+o*r]),s>=n&&(s>=a&&(u-=e.data[s-a+o*r]),t.data[s-n+o*r]=u/Math.min(s+1,r-1+a-s,a))}function bs(e,t,n){for(var r=e.width,i=e.height,a=1+(n<<1),o=0;o<r;++o)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=e.data[o+s*r]),s>=n&&(s>=a&&(u-=e.data[o+(s-a)*r]),t.data[o+(s-n)*r]=u/Math.min(s+1,i-1+a-s,a))}function xs(e){return e[0]}function _s(e){return e[1]}function ws(){return 1}var Es=function(){var e=xs,t=_s,n=ws,r=960,i=500,a=20,o=2,s=3*a,u=r+2*s>>o,l=i+2*s>>o,c=fs(20);function f(r){var i=new Float32Array(u*l),f=new Float32Array(u*l);r.forEach((function(r,a,c){var f=+e(r,a,c)+s>>o,h=+t(r,a,c)+s>>o,d=+n(r,a,c);f>=0&&f<u&&h>=0&&h<l&&(i[f+h*u]+=d)})),ys({width:u,height:l,data:i},{width:u,height:l,data:f},a>>o),bs({width:u,height:l,data:f},{width:u,height:l,data:i},a>>o),ys({width:u,height:l,data:i},{width:u,height:l,data:f},a>>o),bs({width:u,height:l,data:f},{width:u,height:l,data:i},a>>o),ys({width:u,height:l,data:i},{width:u,height:l,data:f},a>>o),bs({width:u,height:l,data:f},{width:u,height:l,data:i},a>>o);var d=c(i);if(!Array.isArray(d)){var p=N(i);d=P(0,p,d),(d=w(0,Math.floor(p/d)*d,d)).shift()}return gs().thresholds(d).size([u,l])(i).map(h)}function h(e){return e.value*=Math.pow(2,-2*o),e.coordinates.forEach(d),e}function d(e){e.forEach(p)}function p(e){e.forEach(m)}function m(e){e[0]=e[0]*Math.pow(2,o)-s,e[1]=e[1]*Math.pow(2,o)-s}function v(){return u=r+2*(s=3*a)>>o,l=i+2*s>>o,f}return f.x=function(t){return arguments.length?(e=\"function\"==typeof t?t:fs(+t),f):e},f.y=function(e){return arguments.length?(t=\"function\"==typeof e?e:fs(+e),f):t},f.weight=function(e){return arguments.length?(n=\"function\"==typeof e?e:fs(+e),f):n},f.size=function(e){if(!arguments.length)return[r,i];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!(t>=0||t>=0))throw new Error(\"invalid size\");return r=t,i=n,v()},f.cellSize=function(e){if(!arguments.length)return 1<<o;if(!((e=+e)>=1))throw new Error(\"invalid cell size\");return o=Math.floor(Math.log(e)/Math.LN2),v()},f.thresholds=function(e){return arguments.length?(c=\"function\"==typeof e?e:Array.isArray(e)?fs(us.call(e)):fs(e),f):c},f.bandwidth=function(e){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((e=+e)>=0))throw new Error(\"invalid bandwidth\");return a=Math.round((Math.sqrt(4*e*e+1)-1)/2),v()},f},Ms={},Ss={},Ts=34,Cs=10,Ps=13;function As(e){return new Function(\"d\",\"return {\"+e.map((function(e,t){return JSON.stringify(e)+\": d[\"+t+\"]\"})).join(\",\")+\"}\")}function ks(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function Os(e,t){var n=e+\"\",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Ls(e){var t,n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?\"Invalid Date\":((t=e.getUTCFullYear())<0?\"-\"+Os(-t,6):t>9999?\"+\"+Os(t,6):Os(t,4))+\"-\"+Os(e.getUTCMonth()+1,2)+\"-\"+Os(e.getUTCDate(),2)+(a?\"T\"+Os(n,2)+\":\"+Os(r,2)+\":\"+Os(i,2)+\".\"+Os(a,3)+\"Z\":i?\"T\"+Os(n,2)+\":\"+Os(r,2)+\":\"+Os(i,2)+\"Z\":r||n?\"T\"+Os(n,2)+\":\"+Os(r,2)+\"Z\":\"\")}var Rs=function(e){var t=new RegExp('[\"'+e+\"\\n\\r]\"),n=e.charCodeAt(0);function r(e,t){var r,i=[],a=e.length,o=0,s=0,u=a<=0,l=!1;function c(){if(u)return Ss;if(l)return l=!1,Ms;var t,r,i=o;if(e.charCodeAt(i)===Ts){for(;o++<a&&e.charCodeAt(o)!==Ts||e.charCodeAt(++o)===Ts;);return(t=o)>=a?u=!0:(r=e.charCodeAt(o++))===Cs?l=!0:r===Ps&&(l=!0,e.charCodeAt(o)===Cs&&++o),e.slice(i+1,t-1).replace(/\"\"/g,'\"')}for(;o<a;){if((r=e.charCodeAt(t=o++))===Cs)l=!0;else if(r===Ps)l=!0,e.charCodeAt(o)===Cs&&++o;else if(r!==n)continue;return e.slice(i,t)}return u=!0,e.slice(i,a)}for(e.charCodeAt(a-1)===Cs&&--a,e.charCodeAt(a-1)===Ps&&--a;(r=c())!==Ss;){for(var f=[];r!==Ms&&r!==Ss;)f.push(r),r=c();t&&null==(f=t(f,s++))||i.push(f)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return o(t[e])})).join(e)}))}function a(t){return t.map(o).join(e)}function o(e){return null==e?\"\":e instanceof Date?Ls(e):t.test(e+=\"\")?'\"'+e.replace(/\"/g,'\"\"')+'\"':e}return{parse:function(e,t){var n,i,a=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=As(e);return function(r,i){return t(n(r),i,e)}}(e,t):As(e)}));return a.columns=i||[],a},parseRows:r,format:function(t,n){return null==n&&(n=ks(t)),[n.map(o).join(e)].concat(i(t,n)).join(\"\\n\")},formatBody:function(e,t){return null==t&&(t=ks(e)),i(e,t).join(\"\\n\")},formatRows:function(e){return e.map(a).join(\"\\n\")}}},Ns=Rs(\",\"),Is=Ns.parse,Ds=Ns.parseRows,zs=Ns.format,Fs=Ns.formatBody,Bs=Ns.formatRows,js=Rs(\"\\t\"),Us=js.parse,Hs=js.parseRows,Gs=js.format,Vs=js.formatBody,Ws=js.formatRows;function qs(e){for(var t in e){var n,r=e[t].trim();if(r)if(\"true\"===r)r=!0;else if(\"false\"===r)r=!1;else if(\"NaN\"===r)r=NaN;else if(isNaN(n=+r)){if(!/^([-+]\\d{2})?\\d{4}(-\\d{2}(-\\d{2})?)?(T\\d{2}:\\d{2}(:\\d{2}(\\.\\d{3})?)?(Z|[-+]\\d{2}:\\d{2})?)?$/.test(r))continue;r=new Date(r)}else r=n;else r=null;e[t]=r}return e}function Xs(e){if(!e.ok)throw new Error(e.status+\" \"+e.statusText);return e.blob()}var Ys=function(e,t){return fetch(e,t).then(Xs)};function Qs(e){if(!e.ok)throw new Error(e.status+\" \"+e.statusText);return e.arrayBuffer()}var Zs=function(e,t){return fetch(e,t).then(Qs)};function Js(e){if(!e.ok)throw new Error(e.status+\" \"+e.statusText);return e.text()}var $s=function(e,t){return fetch(e,t).then(Js)};function Ks(e){return function(t,n,r){return 2===arguments.length&&\"function\"==typeof n&&(r=n,n=void 0),$s(t,n).then((function(t){return e(t,r)}))}}function eu(e,t,n,r){3===arguments.length&&\"function\"==typeof n&&(r=n,n=void 0);var i=Rs(e);return $s(t,n).then((function(e){return i.parse(e,r)}))}var tu=Ks(Is),nu=Ks(Us),ru=function(e,t){return new Promise((function(n,r){var i=new Image;for(var a in t)i[a]=t[a];i.onerror=r,i.onload=function(){n(i)},i.src=e}))};function iu(e){if(!e.ok)throw new Error(e.status+\" \"+e.statusText);return e.json()}var au=function(e,t){return fetch(e,t).then(iu)};function ou(e){return function(t,n){return $s(t,n).then((function(t){return(new DOMParser).parseFromString(t,e)}))}}var su=ou(\"application/xml\"),uu=ou(\"text/html\"),lu=ou(\"image/svg+xml\"),cu=function(e,t){var n;function r(){var r,i,a=n.length,o=0,s=0;for(r=0;r<a;++r)o+=(i=n[r]).x,s+=i.y;for(o=o/a-e,s=s/a-t,r=0;r<a;++r)(i=n[r]).x-=o,i.y-=s}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r},fu=function(e){return function(){return e}},hu=function(){return 1e-6*(Math.random()-.5)};function du(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,s,u,l,c,f,h,d=e._root,p={data:r},m=e._x0,v=e._y0,g=e._x1,y=e._y1;if(!d)return e._root=p,e;for(;d.length;)if((l=t>=(a=(m+g)/2))?m=a:g=a,(c=n>=(o=(v+y)/2))?v=o:y=o,i=d,!(d=d[f=c<<1|l]))return i[f]=p,e;if(s=+e._x.call(null,d.data),u=+e._y.call(null,d.data),t===s&&n===u)return p.next=d,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(l=t>=(a=(m+g)/2))?m=a:g=a,(c=n>=(o=(v+y)/2))?v=o:y=o}while((f=c<<1|l)==(h=(u>=o)<<1|s>=a));return i[h]=d,i[f]=p,e}var pu=function(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i};function mu(e){return e[0]}function vu(e){return e[1]}function gu(e,t,n){var r=new yu(null==t?mu:t,null==n?vu:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function yu(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function bu(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var xu=gu.prototype=yu.prototype;function _u(e){return e.x+e.vx}function wu(e){return e.y+e.vy}xu.copy=function(){var e,t,n=new yu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=bu(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=bu(t));return n},xu.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return du(this.cover(t,n),t,n,e)},xu.addAll=function(e){var t,n,r,i,a=e.length,o=new Array(a),s=new Array(a),u=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));if(u>c||l>f)return this;for(this.cover(u,l).cover(c,f),n=0;n<a;++n)du(this,o[n],s[n],e[n]);return this},xu.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o,s,u=i-n,l=this._root;n>e||e>=i||r>t||t>=a;)switch(s=(t<r)<<1|e<n,(o=new Array(4))[s]=l,l=o,u*=2,s){case 0:i=n+u,a=r+u;break;case 1:n=i-u,a=r+u;break;case 2:i=n+u,r=a-u;break;case 3:n=i-u,r=a-u}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},xu.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},xu.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},xu.find=function(e,t,n){var r,i,a,o,s,u,l,c=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],m=this._root;for(m&&p.push(new pu(m,c,f,h,d)),null==n?n=1/0:(c=e-n,f=t-n,h=e+n,d=t+n,n*=n);u=p.pop();)if(!(!(m=u.node)||(i=u.x0)>h||(a=u.y0)>d||(o=u.x1)<c||(s=u.y1)<f))if(m.length){var v=(i+o)/2,g=(a+s)/2;p.push(new pu(m[3],v,g,o,s),new pu(m[2],i,g,v,s),new pu(m[1],v,a,o,g),new pu(m[0],i,a,v,g)),(l=(t>=g)<<1|e>=v)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var y=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),x=y*y+b*b;if(x<n){var _=Math.sqrt(n=x);c=e-_,f=t-_,h=e+_,d=t+_,r=m.data}}return r},xu.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,s,u,l,c,f,h,d=this._root,p=this._x0,m=this._y0,v=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((l=a>=(s=(p+v)/2))?p=s:v=s,(c=o>=(u=(m+g)/2))?m=u:g=u,t=d,!(d=d[f=c<<1|l]))return this;if(!d.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,h=f)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},xu.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},xu.root=function(){return this._root},xu.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},xu.visit=function(e){var t,n,r,i,a,o,s=[],u=this._root;for(u&&s.push(new pu(u,this._x0,this._y0,this._x1,this._y1));t=s.pop();)if(!e(u=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&u.length){var l=(r+a)/2,c=(i+o)/2;(n=u[3])&&s.push(new pu(n,l,c,a,o)),(n=u[2])&&s.push(new pu(n,r,c,l,o)),(n=u[1])&&s.push(new pu(n,l,i,a,c)),(n=u[0])&&s.push(new pu(n,r,i,l,c))}return this},xu.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new pu(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,s=t.y0,u=t.x1,l=t.y1,c=(o+u)/2,f=(s+l)/2;(a=i[0])&&n.push(new pu(a,o,s,c,f)),(a=i[1])&&n.push(new pu(a,c,s,u,f)),(a=i[2])&&n.push(new pu(a,o,f,c,l)),(a=i[3])&&n.push(new pu(a,c,f,u,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},xu.x=function(e){return arguments.length?(this._x=e,this):this._x},xu.y=function(e){return arguments.length?(this._y=e,this):this._y};var Eu=function(e){var t,n,r=1,i=1;function a(){for(var e,a,s,u,l,c,f,h=t.length,d=0;d<i;++d)for(a=gu(t,_u,wu).visitAfter(o),e=0;e<h;++e)s=t[e],c=n[s.index],f=c*c,u=s.x+s.vx,l=s.y+s.vy,a.visit(p);function p(e,t,n,i,a){var o=e.data,h=e.r,d=c+h;if(!o)return t>u+d||i<u-d||n>l+d||a<l-d;if(o.index>s.index){var p=u-o.x-o.vx,m=l-o.y-o.vy,v=p*p+m*m;v<d*d&&(0===p&&(v+=(p=hu())*p),0===m&&(v+=(m=hu())*m),v=(d-(v=Math.sqrt(v)))/v*r,s.vx+=(p*=v)*(d=(h*=h)/(f+h)),s.vy+=(m*=v)*d,o.vx-=p*(d=1-d),o.vy-=m*d)}}}function o(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,i,a=t.length;for(n=new Array(a),r=0;r<a;++r)i=t[r],n[i.index]=+e(i,r,t)}}return\"function\"!=typeof e&&(e=fu(null==e?1:+e)),a.initialize=function(e){t=e,s()},a.iterations=function(e){return arguments.length?(i=+e,a):i},a.strength=function(e){return arguments.length?(r=+e,a):r},a.radius=function(t){return arguments.length?(e=\"function\"==typeof t?t:fu(+t),s(),a):e},a};function Mu(e){return e.index}function Su(e,t){var n=e.get(t);if(!n)throw new Error(\"missing: \"+t);return n}var Tu=function(e){var t,n,r,i,a,o=Mu,s=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},u=fu(30),l=1;function c(r){for(var i=0,o=e.length;i<l;++i)for(var s,u,c,f,h,d,p,m=0;m<o;++m)u=(s=e[m]).source,f=(c=s.target).x+c.vx-u.x-u.vx||hu(),h=c.y+c.vy-u.y-u.vy||hu(),f*=d=((d=Math.sqrt(f*f+h*h))-n[m])/d*r*t[m],h*=d,c.vx-=f*(p=a[m]),c.vy-=h*p,u.vx+=f*(p=1-p),u.vy+=h*p}function f(){if(r){var s,u,l=r.length,c=e.length,f=Qo(r,o);for(s=0,i=new Array(l);s<c;++s)(u=e[s]).index=s,\"object\"!=typeof u.source&&(u.source=Su(f,u.source)),\"object\"!=typeof u.target&&(u.target=Su(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(s=0,a=new Array(c);s<c;++s)u=e[s],a[s]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);t=new Array(c),h(),n=new Array(c),d()}}function h(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+s(e[n],n,e)}function d(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+u(e[t],t,e)}return null==e&&(e=[]),c.initialize=function(e){r=e,f()},c.links=function(t){return arguments.length?(e=t,f(),c):e},c.id=function(e){return arguments.length?(o=e,c):o},c.iterations=function(e){return arguments.length?(l=+e,c):l},c.strength=function(e){return arguments.length?(s=\"function\"==typeof e?e:fu(+e),h(),c):s},c.distance=function(e){return arguments.length?(u=\"function\"==typeof e?e:fu(+e),d(),c):u},c};function Cu(e){return e.x}function Pu(e){return e.y}var Au=10,ku=Math.PI*(3-Math.sqrt(5)),Ou=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=Qo(),u=hi(c),l=me(\"tick\",\"end\");function c(){f(),l.call(\"tick\",t),n<r&&(u.stop(),l.call(\"end\",t))}function f(r){var u,l,c=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(a-n)*i,s.each((function(e){e(n)})),u=0;u<c;++u)null==(l=e[u]).fx?l.x+=l.vx*=o:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=o:(l.y=l.fy,l.vy=0);return t}function h(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=Au*Math.sqrt(n),a=n*ku;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function d(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),h(),t={tick:f,restart:function(){return u.restart(c),t},stop:function(){return u.stop(),t},nodes:function(n){return arguments.length?(e=n,h(),s.each(d),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},force:function(e,n){return arguments.length>1?(null==n?s.remove(e):s.set(e,d(n)),t):s.get(e)},find:function(t,n,r){var i,a,o,s,u,l=0,c=e.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(o=(i=t-(s=e[l]).x)*i+(a=n-s.y)*a)<r&&(u=s,r=o);return u},on:function(e,n){return arguments.length>1?(l.on(e,n),t):l.on(e)}}},Lu=function(){var e,t,n,r,i=fu(-30),a=1,o=1/0,s=.81;function u(r){var i,a=e.length,o=gu(e,Cu,Pu).visitAfter(c);for(n=r,i=0;i<a;++i)t=e[i],o.visit(f)}function l(){if(e){var t,n,a=e.length;for(r=new Array(a),t=0;t<a;++t)n=e[t],r[n.index]=+i(n,t,e)}}function c(e){var t,n,i,a,o,s=0,u=0;if(e.length){for(i=a=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(s+=t.value,u+=n,i+=n*t.x,a+=n*t.y);e.x=i/u,e.y=a/u}else{(t=e).x=t.data.x,t.y=t.data.y;do{s+=r[t.data.index]}while(t=t.next)}e.value=s}function f(e,i,u,l){if(!e.value)return!0;var c=e.x-t.x,f=e.y-t.y,h=l-i,d=c*c+f*f;if(h*h/s<d)return d<o&&(0===c&&(d+=(c=hu())*c),0===f&&(d+=(f=hu())*f),d<a&&(d=Math.sqrt(a*d)),t.vx+=c*e.value*n/d,t.vy+=f*e.value*n/d),!0;if(!(e.length||d>=o)){(e.data!==t||e.next)&&(0===c&&(d+=(c=hu())*c),0===f&&(d+=(f=hu())*f),d<a&&(d=Math.sqrt(a*d)));do{e.data!==t&&(h=r[e.data.index]*n/d,t.vx+=c*h,t.vy+=f*h)}while(e=e.next)}}return u.initialize=function(t){e=t,l()},u.strength=function(e){return arguments.length?(i=\"function\"==typeof e?e:fu(+e),l(),u):i},u.distanceMin=function(e){return arguments.length?(a=e*e,u):Math.sqrt(a)},u.distanceMax=function(e){return arguments.length?(o=e*e,u):Math.sqrt(o)},u.theta=function(e){return arguments.length?(s=e*e,u):Math.sqrt(s)},u},Ru=function(e,t,n){var r,i,a,o=fu(.1);function s(e){for(var o=0,s=r.length;o<s;++o){var u=r[o],l=u.x-t||1e-6,c=u.y-n||1e-6,f=Math.sqrt(l*l+c*c),h=(a[o]-f)*i[o]*e/f;u.vx+=l*h,u.vy+=c*h}}function u(){if(r){var t,n=r.length;for(i=new Array(n),a=new Array(n),t=0;t<n;++t)a[t]=+e(r[t],t,r),i[t]=isNaN(a[t])?0:+o(r[t],t,r)}}return\"function\"!=typeof e&&(e=fu(+e)),null==t&&(t=0),null==n&&(n=0),s.initialize=function(e){r=e,u()},s.strength=function(e){return arguments.length?(o=\"function\"==typeof e?e:fu(+e),u(),s):o},s.radius=function(t){return arguments.length?(e=\"function\"==typeof t?t:fu(+t),u(),s):e},s.x=function(e){return arguments.length?(t=+e,s):t},s.y=function(e){return arguments.length?(n=+e,s):n},s},Nu=function(e){var t,n,r,i=fu(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vx+=(r[a]-i.x)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return\"function\"!=typeof e&&(e=fu(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i=\"function\"==typeof e?e:fu(+e),o(),a):i},a.x=function(t){return arguments.length?(e=\"function\"==typeof t?t:fu(+t),o(),a):e},a},Iu=function(e){var t,n,r,i=fu(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vy+=(r[a]-i.y)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return\"function\"!=typeof e&&(e=fu(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i=\"function\"==typeof e?e:fu(+e),o(),a):i},a.y=function(t){return arguments.length?(e=\"function\"==typeof t?t:fu(+t),o(),a):e},a},Du=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf(\"e\"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]},zu=function(e){return(e=Du(Math.abs(e)))?e[1]:NaN},Fu=/^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;function Bu(e){if(!(t=Fu.exec(e)))throw new Error(\"invalid format: \"+e);var t;return new ju({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ju(e){this.fill=void 0===e.fill?\" \":e.fill+\"\",this.align=void 0===e.align?\">\":e.align+\"\",this.sign=void 0===e.sign?\"-\":e.sign+\"\",this.symbol=void 0===e.symbol?\"\":e.symbol+\"\",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?\"\":e.type+\"\"}Bu.prototype=ju.prototype,ju.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?\"0\":\"\")+(void 0===this.width?\"\":Math.max(1,0|this.width))+(this.comma?\",\":\"\")+(void 0===this.precision?\"\":\".\"+Math.max(0,0|this.precision))+(this.trim?\"~\":\"\")+this.type};var Uu,Hu,Gu,Vu,Wu=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case\".\":i=t=r;break;case\"0\":0===i&&(i=r),t=r;break;default:if(i>0){if(!+e[r])break e;i=0}}return i>0?e.slice(0,i)+e.slice(t+1):e},qu=function(e,t){var n=Du(e,t);if(!n)return e+\"\";var r=n[0],i=n[1];return i<0?\"0.\"+new Array(-i).join(\"0\")+r:r.length>i+1?r.slice(0,i+1)+\".\"+r.slice(i+1):r+new Array(i-r.length+2).join(\"0\")},Xu={\"%\":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+\"\"},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return qu(100*e,t)},r:qu,s:function(e,t){var n=Du(e,t);if(!n)return e+\"\";var r=n[0],i=n[1],a=i-(Uu=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join(\"0\"):a>0?r.slice(0,a)+\".\"+r.slice(a):\"0.\"+new Array(1-a).join(\"0\")+Du(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},Yu=function(e){return e},Qu=Array.prototype.map,Zu=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"],Ju=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Yu:(t=Qu.call(e.grouping,Number),n=e.thousands+\"\",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?\"\":e.currency[0]+\"\",a=void 0===e.currency?\"\":e.currency[1]+\"\",o=void 0===e.decimal?\".\":e.decimal+\"\",s=void 0===e.numerals?Yu:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Qu.call(e.numerals,String)),u=void 0===e.percent?\"%\":e.percent+\"\",l=void 0===e.minus?\"-\":e.minus+\"\",c=void 0===e.nan?\"NaN\":e.nan+\"\";function f(e){var t=(e=Bu(e)).fill,n=e.align,f=e.sign,h=e.symbol,d=e.zero,p=e.width,m=e.comma,v=e.precision,g=e.trim,y=e.type;\"n\"===y?(m=!0,y=\"g\"):Xu[y]||(void 0===v&&(v=12),g=!0,y=\"g\"),(d||\"0\"===t&&\"=\"===n)&&(d=!0,t=\"0\",n=\"=\");var b=\"$\"===h?i:\"#\"===h&&/[boxX]/.test(y)?\"0\"+y.toLowerCase():\"\",x=\"$\"===h?a:/[%p]/.test(y)?u:\"\",_=Xu[y],w=/[defgprs%]/.test(y);function E(e){var i,a,u,h=b,E=x;if(\"c\"===y)E=_(e)+E,e=\"\";else{var M=(e=+e)<0;if(e=isNaN(e)?c:_(Math.abs(e),v),g&&(e=Wu(e)),M&&0==+e&&(M=!1),h=(M?\"(\"===f?f:l:\"-\"===f||\"(\"===f?\"\":f)+h,E=(\"s\"===y?Zu[8+Uu/3]:\"\")+E+(M&&\"(\"===f?\")\":\"\"),w)for(i=-1,a=e.length;++i<a;)if(48>(u=e.charCodeAt(i))||u>57){E=(46===u?o+e.slice(i+1):e.slice(i))+E,e=e.slice(0,i);break}}m&&!d&&(e=r(e,1/0));var S=h.length+e.length+E.length,T=S<p?new Array(p-S+1).join(t):\"\";switch(m&&d&&(e=r(T+e,T.length?p-E.length:1/0),T=\"\"),n){case\"<\":e=h+e+E+T;break;case\"=\":e=h+T+e+E;break;case\"^\":e=T.slice(0,S=T.length>>1)+h+e+E+T.slice(S);break;default:e=T+h+e+E}return s(e)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),E.toString=function(){return e+\"\"},E}return{format:f,formatPrefix:function(e,t){var n=f(((e=Bu(e)).type=\"f\",e)),r=3*Math.max(-8,Math.min(8,Math.floor(zu(t)/3))),i=Math.pow(10,-r),a=Zu[8+r/3];return function(e){return n(i*e)+a}}}};function $u(e){return Hu=Ju(e),Gu=Hu.format,Vu=Hu.formatPrefix,Hu}$u({decimal:\".\",thousands:\",\",grouping:[3],currency:[\"$\",\"\"],minus:\"-\"});var Ku=function(e){return Math.max(0,-zu(Math.abs(e)))},el=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(zu(t)/3)))-zu(Math.abs(e)))},tl=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,zu(t)-zu(e))+1},nl=function(){return new rl};function rl(){this.reset()}rl.prototype={constructor:rl,reset:function(){this.s=this.t=0},add:function(e){al(il,e,this.t),al(this,il.s,this.s),this.s?this.t+=il.t:this.s=il.t},valueOf:function(){return this.s}};var il=new rl;function al(e,t,n){var r=e.s=t+n,i=r-t,a=r-i;e.t=t-a+(n-i)}var ol=1e-6,sl=1e-12,ul=Math.PI,ll=ul/2,cl=ul/4,fl=2*ul,hl=180/ul,dl=ul/180,pl=Math.abs,ml=Math.atan,vl=Math.atan2,gl=Math.cos,yl=Math.ceil,bl=Math.exp,xl=(Math.floor,Math.log),_l=Math.pow,wl=Math.sin,El=Math.sign||function(e){return e>0?1:e<0?-1:0},Ml=Math.sqrt,Sl=Math.tan;function Tl(e){return e>1?0:e<-1?ul:Math.acos(e)}function Cl(e){return e>1?ll:e<-1?-ll:Math.asin(e)}function Pl(e){return(e=wl(e/2))*e}function Al(){}function kl(e,t){e&&Ll.hasOwnProperty(e.type)&&Ll[e.type](e,t)}var Ol={Feature:function(e,t){kl(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)kl(n[r].geometry,t)}},Ll={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Rl(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Rl(n[r],t,0)},Polygon:function(e,t){Nl(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Nl(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)kl(n[r],t)}};function Rl(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Nl(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Rl(e[n],t,1);t.polygonEnd()}var Il,Dl,zl,Fl,Bl,jl=function(e,t){e&&Ol.hasOwnProperty(e.type)?Ol[e.type](e,t):kl(e,t)},Ul=nl(),Hl=nl(),Gl={point:Al,lineStart:Al,lineEnd:Al,polygonStart:function(){Ul.reset(),Gl.lineStart=Vl,Gl.lineEnd=Wl},polygonEnd:function(){var e=+Ul;Hl.add(e<0?fl+e:e),this.lineStart=this.lineEnd=this.point=Al},sphere:function(){Hl.add(fl)}};function Vl(){Gl.point=ql}function Wl(){Xl(Il,Dl)}function ql(e,t){Gl.point=Xl,Il=e,Dl=t,zl=e*=dl,Fl=gl(t=(t*=dl)/2+cl),Bl=wl(t)}function Xl(e,t){var n=(e*=dl)-zl,r=n>=0?1:-1,i=r*n,a=gl(t=(t*=dl)/2+cl),o=wl(t),s=Bl*o,u=Fl*a+s*gl(i),l=s*r*wl(i);Ul.add(vl(l,u)),zl=e,Fl=a,Bl=o}var Yl=function(e){return Hl.reset(),jl(e,Gl),2*Hl};function Ql(e){return[vl(e[1],e[0]),Cl(e[2])]}function Zl(e){var t=e[0],n=e[1],r=gl(n);return[r*gl(t),r*wl(t),wl(n)]}function Jl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function $l(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Kl(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ec(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function tc(e){var t=Ml(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var nc,rc,ic,ac,oc,sc,uc,lc,cc,fc,hc=nl(),dc={point:pc,lineStart:vc,lineEnd:gc,polygonStart:function(){dc.point=yc,dc.lineStart=bc,dc.lineEnd=xc,hc.reset(),Gl.polygonStart()},polygonEnd:function(){Gl.polygonEnd(),dc.point=pc,dc.lineStart=vc,dc.lineEnd=gc,Ul<0?(nc=-(ic=180),rc=-(ac=90)):hc>ol?ac=90:hc<-ol&&(rc=-90),fc[0]=nc,fc[1]=ic},sphere:function(){nc=-(ic=180),rc=-(ac=90)}};function pc(e,t){cc.push(fc=[nc=e,ic=e]),t<rc&&(rc=t),t>ac&&(ac=t)}function mc(e,t){var n=Zl([e*dl,t*dl]);if(lc){var r=$l(lc,n),i=$l([r[1],-r[0],0],r);tc(i),i=Ql(i);var a,o=e-oc,s=o>0?1:-1,u=i[0]*hl*s,l=pl(o)>180;l^(s*oc<u&&u<s*e)?(a=i[1]*hl)>ac&&(ac=a):l^(s*oc<(u=(u+360)%360-180)&&u<s*e)?(a=-i[1]*hl)<rc&&(rc=a):(t<rc&&(rc=t),t>ac&&(ac=t)),l?e<oc?_c(nc,e)>_c(nc,ic)&&(ic=e):_c(e,ic)>_c(nc,ic)&&(nc=e):ic>=nc?(e<nc&&(nc=e),e>ic&&(ic=e)):e>oc?_c(nc,e)>_c(nc,ic)&&(ic=e):_c(e,ic)>_c(nc,ic)&&(nc=e)}else cc.push(fc=[nc=e,ic=e]);t<rc&&(rc=t),t>ac&&(ac=t),lc=n,oc=e}function vc(){dc.point=mc}function gc(){fc[0]=nc,fc[1]=ic,dc.point=pc,lc=null}function yc(e,t){if(lc){var n=e-oc;hc.add(pl(n)>180?n+(n>0?360:-360):n)}else sc=e,uc=t;Gl.point(e,t),mc(e,t)}function bc(){Gl.lineStart()}function xc(){yc(sc,uc),Gl.lineEnd(),pl(hc)>ol&&(nc=-(ic=180)),fc[0]=nc,fc[1]=ic,lc=null}function _c(e,t){return(t-=e)<0?t+360:t}function wc(e,t){return e[0]-t[0]}function Ec(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Mc,Sc,Tc,Cc,Pc,Ac,kc,Oc,Lc,Rc,Nc,Ic,Dc,zc,Fc,Bc,jc=function(e){var t,n,r,i,a,o,s;if(ac=ic=-(nc=rc=1/0),cc=[],jl(e,dc),n=cc.length){for(cc.sort(wc),t=1,a=[r=cc[0]];t<n;++t)Ec(r,(i=cc[t])[0])||Ec(r,i[1])?(_c(r[0],i[1])>_c(r[0],r[1])&&(r[1]=i[1]),_c(i[0],r[1])>_c(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,t=0,r=a[n=a.length-1];t<=n;r=i,++t)i=a[t],(s=_c(r[1],i[0]))>o&&(o=s,nc=i[0],ic=r[1])}return cc=fc=null,nc===1/0||rc===1/0?[[NaN,NaN],[NaN,NaN]]:[[nc,rc],[ic,ac]]},Uc={sphere:Al,point:Hc,lineStart:Vc,lineEnd:Xc,polygonStart:function(){Uc.lineStart=Yc,Uc.lineEnd=Qc},polygonEnd:function(){Uc.lineStart=Vc,Uc.lineEnd=Xc}};function Hc(e,t){e*=dl;var n=gl(t*=dl);Gc(n*gl(e),n*wl(e),wl(t))}function Gc(e,t,n){Tc+=(e-Tc)/++Mc,Cc+=(t-Cc)/Mc,Pc+=(n-Pc)/Mc}function Vc(){Uc.point=Wc}function Wc(e,t){e*=dl;var n=gl(t*=dl);zc=n*gl(e),Fc=n*wl(e),Bc=wl(t),Uc.point=qc,Gc(zc,Fc,Bc)}function qc(e,t){e*=dl;var n=gl(t*=dl),r=n*gl(e),i=n*wl(e),a=wl(t),o=vl(Ml((o=Fc*a-Bc*i)*o+(o=Bc*r-zc*a)*o+(o=zc*i-Fc*r)*o),zc*r+Fc*i+Bc*a);Sc+=o,Ac+=o*(zc+(zc=r)),kc+=o*(Fc+(Fc=i)),Oc+=o*(Bc+(Bc=a)),Gc(zc,Fc,Bc)}function Xc(){Uc.point=Hc}function Yc(){Uc.point=Zc}function Qc(){Jc(Ic,Dc),Uc.point=Hc}function Zc(e,t){Ic=e,Dc=t,e*=dl,t*=dl,Uc.point=Jc;var n=gl(t);zc=n*gl(e),Fc=n*wl(e),Bc=wl(t),Gc(zc,Fc,Bc)}function Jc(e,t){e*=dl;var n=gl(t*=dl),r=n*gl(e),i=n*wl(e),a=wl(t),o=Fc*a-Bc*i,s=Bc*r-zc*a,u=zc*i-Fc*r,l=Ml(o*o+s*s+u*u),c=Cl(l),f=l&&-c/l;Lc+=f*o,Rc+=f*s,Nc+=f*u,Sc+=c,Ac+=c*(zc+(zc=r)),kc+=c*(Fc+(Fc=i)),Oc+=c*(Bc+(Bc=a)),Gc(zc,Fc,Bc)}var $c=function(e){Mc=Sc=Tc=Cc=Pc=Ac=kc=Oc=Lc=Rc=Nc=0,jl(e,Uc);var t=Lc,n=Rc,r=Nc,i=t*t+n*n+r*r;return i<sl&&(t=Ac,n=kc,r=Oc,Sc<ol&&(t=Tc,n=Cc,r=Pc),(i=t*t+n*n+r*r)<sl)?[NaN,NaN]:[vl(n,t)*hl,Cl(r/Ml(i))*hl]},Kc=function(e){return function(){return e}},ef=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n};function tf(e,t){return[pl(e)>ul?e+Math.round(-e/fl)*fl:e,t]}function nf(e,t,n){return(e%=fl)?t||n?ef(af(e),of(t,n)):af(e):t||n?of(t,n):tf}function rf(e){return function(t,n){return[(t+=e)>ul?t-fl:t<-ul?t+fl:t,n]}}function af(e){var t=rf(e);return t.invert=rf(-e),t}function of(e,t){var n=gl(e),r=wl(e),i=gl(t),a=wl(t);function o(e,t){var o=gl(t),s=gl(e)*o,u=wl(e)*o,l=wl(t),c=l*n+s*r;return[vl(u*i-c*a,s*n-l*r),Cl(c*i+u*a)]}return o.invert=function(e,t){var o=gl(t),s=gl(e)*o,u=wl(e)*o,l=wl(t),c=l*i-u*a;return[vl(u*i+l*a,s*n+c*r),Cl(c*n-s*r)]},o}tf.invert=tf;var sf=function(e){function t(t){return(t=e(t[0]*dl,t[1]*dl))[0]*=hl,t[1]*=hl,t}return e=nf(e[0]*dl,e[1]*dl,e.length>2?e[2]*dl:0),t.invert=function(t){return(t=e.invert(t[0]*dl,t[1]*dl))[0]*=hl,t[1]*=hl,t},t};function uf(e,t,n,r,i,a){if(n){var o=gl(t),s=wl(t),u=r*n;null==i?(i=t+r*fl,a=t-u/2):(i=lf(o,i),a=lf(o,a),(r>0?i<a:i>a)&&(i+=r*fl));for(var l,c=i;r>0?c>a:c<a;c-=u)l=Ql([o,-s*gl(c),-s*wl(c)]),e.point(l[0],l[1])}}function lf(e,t){(t=Zl(t))[0]-=e,tc(t);var n=Tl(-t[1]);return((-t[2]<0?-n:n)+fl-ol)%fl}var cf=function(){var e,t,n=Kc([0,0]),r=Kc(90),i=Kc(6),a={point:function(n,r){e.push(n=t(n,r)),n[0]*=hl,n[1]*=hl}};function o(){var o=n.apply(this,arguments),s=r.apply(this,arguments)*dl,u=i.apply(this,arguments)*dl;return e=[],t=nf(-o[0]*dl,-o[1]*dl,0).invert,uf(a,s,u,1),o={type:\"Polygon\",coordinates:[e]},e=t=null,o}return o.center=function(e){return arguments.length?(n=\"function\"==typeof e?e:Kc([+e[0],+e[1]]),o):n},o.radius=function(e){return arguments.length?(r=\"function\"==typeof e?e:Kc(+e),o):r},o.precision=function(e){return arguments.length?(i=\"function\"==typeof e?e:Kc(+e),o):i},o},ff=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Al,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},hf=function(e,t){return pl(e[0]-t[0])<ol&&pl(e[1]-t[1])<ol};function df(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var pf=function(e,t,n,r,i){var a,o,s=[],u=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(hf(r,o)){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);i.lineEnd()}else s.push(n=new df(r,e,null,!0)),u.push(n.o=new df(r,null,n,!1)),s.push(n=new df(o,e,null,!1)),u.push(n.o=new df(o,null,n,!0))}})),s.length){for(u.sort(t),mf(s),mf(u),a=0,o=u.length;a<o;++a)u[a].e=n=!n;for(var l,c,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,o=l.length;a<o;++a)i.point((c=l[a])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(l=h.p.z,a=l.length-1;a>=0;--a)i.point((c=l[a])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}};function mf(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}var vf=nl();function gf(e){return pl(e[0])<=ul?e[0]:El(e[0])*((pl(e[0])+ul)%fl-ul)}var yf=function(e,t){var n=gf(t),r=t[1],i=wl(r),a=[wl(n),-gl(n),0],o=0,s=0;vf.reset(),1===i?r=ll+ol:-1===i&&(r=-ll-ol);for(var u=0,l=e.length;u<l;++u)if(f=(c=e[u]).length)for(var c,f,h=c[f-1],d=gf(h),p=h[1]/2+cl,m=wl(p),v=gl(p),g=0;g<f;++g,d=b,m=_,v=w,h=y){var y=c[g],b=gf(y),x=y[1]/2+cl,_=wl(x),w=gl(x),E=b-d,M=E>=0?1:-1,S=M*E,T=S>ul,C=m*_;if(vf.add(vl(C*M*wl(S),v*w+C*gl(S))),o+=T?E+M*fl:E,T^d>=n^b>=n){var P=$l(Zl(h),Zl(y));tc(P);var A=$l(a,P);tc(A);var k=(T^E>=0?-1:1)*Cl(A[2]);(r>k||r===k&&(P[0]||P[1]))&&(s+=T^E>=0?1:-1)}}return(o<-ol||o<ol&&vf<-ol)^1&s},bf=function(e,t,n,r){return function(i){var a,o,s,u=t(i),l=ff(),c=t(l),f=!1,h={point:d,lineStart:m,lineEnd:v,polygonStart:function(){h.point=g,h.lineStart=y,h.lineEnd=b,o=[],a=[]},polygonEnd:function(){h.point=d,h.lineStart=m,h.lineEnd=v,o=z(o);var e=yf(a,r);o.length?(f||(i.polygonStart(),f=!0),pf(o,_f,e,n,i)):e&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(t,n){e(t,n)&&i.point(t,n)}function p(e,t){u.point(e,t)}function m(){h.point=p,u.lineStart()}function v(){h.point=d,u.lineEnd()}function g(e,t){s.push([e,t]),c.point(e,t)}function y(){c.lineStart(),s=[]}function b(){g(s[0][0],s[0][1]),c.lineEnd();var e,t,n,r,u=c.clean(),h=l.result(),d=h.length;if(s.pop(),a.push(s),s=null,d)if(1&u){if((t=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else d>1&&2&u&&h.push(h.pop().concat(h.shift())),o.push(h.filter(xf))}return h}};function xf(e){return e.length>1}function _f(e,t){return((e=e.x)[0]<0?e[1]-ll-ol:ll-e[1])-((t=t.x)[0]<0?t[1]-ll-ol:ll-t[1])}var wf=bf((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?ul:-ul,u=pl(a-n);pl(u-ul)<ol?(e.point(n,r=(r+o)/2>0?ll:-ll),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&u>=ul&&(pl(n-i)<ol&&(n-=i*ol),pl(a-s)<ol&&(a-=s*ol),r=function(e,t,n,r){var i,a,o=wl(e-n);return pl(o)>ol?ml((wl(t)*(a=gl(r))*wl(n)-wl(r)*(i=gl(t))*wl(e))/(i*a*o)):(t+r)/2}(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*ll,r.point(-ul,i),r.point(0,i),r.point(ul,i),r.point(ul,0),r.point(ul,-i),r.point(0,-i),r.point(-ul,-i),r.point(-ul,0),r.point(-ul,i);else if(pl(e[0]-t[0])>ol){var a=e[0]<t[0]?ul:-ul;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}),[-ul,-ll]);var Ef=function(e){var t=gl(e),n=6*dl,r=t>0,i=pl(t)>ol;function a(e,n){return gl(e)*gl(n)>t}function o(e,n,r){var i=[1,0,0],a=$l(Zl(e),Zl(n)),o=Jl(a,a),s=a[0],u=o-s*s;if(!u)return!r&&e;var l=t*o/u,c=-t*s/u,f=$l(i,a),h=ec(i,l);Kl(h,ec(a,c));var d=f,p=Jl(h,d),m=Jl(d,d),v=p*p-m*(Jl(h,h)-1);if(!(v<0)){var g=Ml(v),y=ec(d,(-p-g)/m);if(Kl(y,h),y=Ql(y),!r)return y;var b,x=e[0],_=n[0],w=e[1],E=n[1];_<x&&(b=x,x=_,_=b);var M=_-x,S=pl(M-ul)<ol;if(!S&&E<w&&(b=w,w=E,E=b),S||M<ol?S?w+E>0^y[1]<(pl(y[0]-x)<ol?w:E):w<=y[1]&&y[1]<=E:M>ul^(x<=y[0]&&y[0]<=_)){var T=ec(d,(-p+g)/m);return Kl(T,h),[y,Ql(T)]}}}function s(t,n){var i=r?e:ul-e,a=0;return t<-i?a|=1:t>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return bf(a,(function(e){var t,n,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(f,h){var d,p=[f,h],m=a(f,h),v=r?m?0:s(f,h):m?s(f+(f<0?ul:-ul),h):0;if(!t&&(l=u=m)&&e.lineStart(),m!==u&&(!(d=o(t,p))||hf(t,d)||hf(p,d))&&(p[0]+=ol,p[1]+=ol,m=a(p[0],p[1])),m!==u)c=0,m?(e.lineStart(),d=o(p,t),e.point(d[0],d[1])):(d=o(t,p),e.point(d[0],d[1]),e.lineEnd()),t=d;else if(i&&t&&r^m){var g;v&n||!(g=o(p,t,!0))||(c=0,r?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1])))}!m||t&&hf(t,p)||e.point(p[0],p[1]),t=p,u=m,n=v},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return c|(l&&u)<<1}}}),(function(t,r,i,a){uf(a,e,n,i,t,r)}),r?[0,-e]:[-ul,e-ul])},Mf=function(e,t,n,r,i,a){var o,s=e[0],u=e[1],l=0,c=1,f=t[0]-s,h=t[1]-u;if(o=n-s,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>l&&(l=o)}if(o=i-s,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<c&&(c=o)}if(o=r-u,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<c&&(c=o)}else if(h>0){if(o>c)return;o>l&&(l=o)}if(o=a-u,h||!(o<0)){if(o/=h,h<0){if(o>c)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<c&&(c=o)}return l>0&&(e[0]=s+l*f,e[1]=u+l*h),c<1&&(t[0]=s+c*f,t[1]=u+c*h),!0}}}}},Sf=1e9,Tf=-Sf;function Cf(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,s,l){var c=0,f=0;if(null==i||(c=o(i,s))!==(f=o(a,s))||u(i,a)<0^s>0)do{l.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==f);else l.point(a[0],a[1])}function o(r,i){return pl(r[0]-e)<ol?i>0?0:3:pl(r[0]-n)<ol?i>0?2:1:pl(r[1]-t)<ol?i>0?1:0:i>0?3:2}function s(e,t){return u(e.x,t.x)}function u(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var u,l,c,f,h,d,p,m,v,g,y,b=o,x=ff(),_={point:w,lineStart:function(){_.point=E,l&&l.push(c=[]);g=!0,v=!1,p=m=NaN},lineEnd:function(){u&&(E(f,h),d&&v&&x.rejoin(),u.push(x.result()));_.point=w,v&&b.lineEnd()},polygonStart:function(){b=x,u=[],l=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=l.length;n<i;++n)for(var a,o,s=l[n],u=1,c=s.length,f=s[0],h=f[0],d=f[1];u<c;++u)a=h,o=d,f=s[u],h=f[0],d=f[1],o<=r?d>r&&(h-a)*(r-o)>(d-o)*(e-a)&&++t:d<=r&&(h-a)*(r-o)<(d-o)*(e-a)&&--t;return t}(),n=y&&t,i=(u=z(u)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&pf(u,s,t,a,o),o.polygonEnd());b=o,u=l=c=null}};function w(e,t){i(e,t)&&b.point(e,t)}function E(a,o){var s=i(a,o);if(l&&c.push([a,o]),g)f=a,h=o,d=s,g=!1,s&&(b.lineStart(),b.point(a,o));else if(s&&v)b.point(a,o);else{var u=[p=Math.max(Tf,Math.min(Sf,p)),m=Math.max(Tf,Math.min(Sf,m))],x=[a=Math.max(Tf,Math.min(Sf,a)),o=Math.max(Tf,Math.min(Sf,o))];Mf(u,x,e,t,n,r)?(v||(b.lineStart(),b.point(u[0],u[1])),b.point(x[0],x[1]),s||b.lineEnd(),y=!1):s&&(b.lineStart(),b.point(a,o),y=!1)}p=a,m=o,v=s}return _}}var Pf,Af,kf,Of=function(){var e,t,n,r=0,i=0,a=960,o=500;return n={stream:function(n){return e&&t===n?e:e=Cf(r,i,a,o)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],a=+s[1][0],o=+s[1][1],e=t=null,n):[[r,i],[a,o]]}}},Lf=nl(),Rf={sphere:Al,point:Al,lineStart:function(){Rf.point=If,Rf.lineEnd=Nf},lineEnd:Al,polygonStart:Al,polygonEnd:Al};function Nf(){Rf.point=Rf.lineEnd=Al}function If(e,t){Pf=e*=dl,Af=wl(t*=dl),kf=gl(t),Rf.point=Df}function Df(e,t){e*=dl;var n=wl(t*=dl),r=gl(t),i=pl(e-Pf),a=gl(i),o=r*wl(i),s=kf*n-Af*r*a,u=Af*n+kf*r*a;Lf.add(vl(Ml(o*o+s*s),u)),Pf=e,Af=n,kf=r}var zf=function(e){return Lf.reset(),jl(e,Rf),+Lf},Ff=[null,null],Bf={type:\"LineString\",coordinates:Ff},jf=function(e,t){return Ff[0]=e,Ff[1]=t,zf(Bf)},Uf={Feature:function(e,t){return Gf(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Gf(n[r].geometry,t))return!0;return!1}},Hf={Sphere:function(){return!0},Point:function(e,t){return Vf(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Vf(n[r],t))return!0;return!1},LineString:function(e,t){return Wf(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(Wf(n[r],t))return!0;return!1},Polygon:function(e,t){return qf(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(qf(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Gf(n[r],t))return!0;return!1}};function Gf(e,t){return!(!e||!Hf.hasOwnProperty(e.type))&&Hf[e.type](e,t)}function Vf(e,t){return 0===jf(e,t)}function Wf(e,t){for(var n,r,i,a=0,o=e.length;a<o;a++){if(0===(r=jf(e[a],t)))return!0;if(a>0&&(i=jf(e[a],e[a-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<sl*i)return!0;n=r}return!1}function qf(e,t){return!!yf(e.map(Xf),Yf(t))}function Xf(e){return(e=e.map(Yf)).pop(),e}function Yf(e){return[e[0]*dl,e[1]*dl]}var Qf=function(e,t){return(e&&Uf.hasOwnProperty(e.type)?Uf[e.type]:Gf)(e,t)};function Zf(e,t,n){var r=w(e,t-ol,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function Jf(e,t,n){var r=w(e,t-ol,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function $f(){var e,t,n,r,i,a,o,s,u,l,c,f,h=10,d=h,p=90,m=360,v=2.5;function g(){return{type:\"MultiLineString\",coordinates:y()}}function y(){return w(yl(r/p)*p,n,p).map(c).concat(w(yl(s/m)*m,o,m).map(f)).concat(w(yl(t/h)*h,e,h).filter((function(e){return pl(e%p)>ol})).map(u)).concat(w(yl(a/d)*d,i,d).filter((function(e){return pl(e%m)>ol})).map(l))}return g.lines=function(){return y().map((function(e){return{type:\"LineString\",coordinates:e}}))},g.outline=function(){return{type:\"Polygon\",coordinates:[c(r).concat(f(o).slice(1),c(n).reverse().slice(1),f(s).reverse().slice(1))]}},g.extent=function(e){return arguments.length?g.extentMajor(e).extentMinor(e):g.extentMinor()},g.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),s>o&&(e=s,s=o,o=e),g.precision(v)):[[r,s],[n,o]]},g.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),a>i&&(n=a,a=i,i=n),g.precision(v)):[[t,a],[e,i]]},g.step=function(e){return arguments.length?g.stepMajor(e).stepMinor(e):g.stepMinor()},g.stepMajor=function(e){return arguments.length?(p=+e[0],m=+e[1],g):[p,m]},g.stepMinor=function(e){return arguments.length?(h=+e[0],d=+e[1],g):[h,d]},g.precision=function(h){return arguments.length?(v=+h,u=Zf(a,i,90),l=Jf(t,e,v),c=Zf(s,o,90),f=Jf(r,n,v),g):v},g.extentMajor([[-180,-90+ol],[180,90-ol]]).extentMinor([[-180,-80-ol],[180,80+ol]])}function Kf(){return $f()()}var eh,th,nh,rh,ih=function(e,t){var n=e[0]*dl,r=e[1]*dl,i=t[0]*dl,a=t[1]*dl,o=gl(r),s=wl(r),u=gl(a),l=wl(a),c=o*gl(n),f=o*wl(n),h=u*gl(i),d=u*wl(i),p=2*Cl(Ml(Pl(a-r)+o*u*Pl(i-n))),m=wl(p),v=p?function(e){var t=wl(e*=p)/m,n=wl(p-e)/m,r=n*c+t*h,i=n*f+t*d,a=n*s+t*l;return[vl(i,r)*hl,vl(a,Ml(r*r+i*i))*hl]}:function(){return[n*hl,r*hl]};return v.distance=p,v},ah=function(e){return e},oh=nl(),sh=nl(),uh={point:Al,lineStart:Al,lineEnd:Al,polygonStart:function(){uh.lineStart=lh,uh.lineEnd=hh},polygonEnd:function(){uh.lineStart=uh.lineEnd=uh.point=Al,oh.add(pl(sh)),sh.reset()},result:function(){var e=oh/2;return oh.reset(),e}};function lh(){uh.point=ch}function ch(e,t){uh.point=fh,eh=nh=e,th=rh=t}function fh(e,t){sh.add(rh*e-nh*t),nh=e,rh=t}function hh(){fh(eh,th)}var dh=uh,ph=1/0,mh=ph,vh=-ph,gh=vh;var yh,bh,xh,_h,wh={point:function(e,t){e<ph&&(ph=e);e>vh&&(vh=e);t<mh&&(mh=t);t>gh&&(gh=t)},lineStart:Al,lineEnd:Al,polygonStart:Al,polygonEnd:Al,result:function(){var e=[[ph,mh],[vh,gh]];return vh=gh=-(mh=ph=1/0),e}},Eh=0,Mh=0,Sh=0,Th=0,Ch=0,Ph=0,Ah=0,kh=0,Oh=0,Lh={point:Rh,lineStart:Nh,lineEnd:zh,polygonStart:function(){Lh.lineStart=Fh,Lh.lineEnd=Bh},polygonEnd:function(){Lh.point=Rh,Lh.lineStart=Nh,Lh.lineEnd=zh},result:function(){var e=Oh?[Ah/Oh,kh/Oh]:Ph?[Th/Ph,Ch/Ph]:Sh?[Eh/Sh,Mh/Sh]:[NaN,NaN];return Eh=Mh=Sh=Th=Ch=Ph=Ah=kh=Oh=0,e}};function Rh(e,t){Eh+=e,Mh+=t,++Sh}function Nh(){Lh.point=Ih}function Ih(e,t){Lh.point=Dh,Rh(xh=e,_h=t)}function Dh(e,t){var n=e-xh,r=t-_h,i=Ml(n*n+r*r);Th+=i*(xh+e)/2,Ch+=i*(_h+t)/2,Ph+=i,Rh(xh=e,_h=t)}function zh(){Lh.point=Rh}function Fh(){Lh.point=jh}function Bh(){Uh(yh,bh)}function jh(e,t){Lh.point=Uh,Rh(yh=xh=e,bh=_h=t)}function Uh(e,t){var n=e-xh,r=t-_h,i=Ml(n*n+r*r);Th+=i*(xh+e)/2,Ch+=i*(_h+t)/2,Ph+=i,Ah+=(i=_h*e-xh*t)*(xh+e),kh+=i*(_h+t),Oh+=3*i,Rh(xh=e,_h=t)}var Hh=Lh;function Gh(e){this._context=e}Gh.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,fl)}},result:Al};var Vh,Wh,qh,Xh,Yh,Qh=nl(),Zh={point:Al,lineStart:function(){Zh.point=Jh},lineEnd:function(){Vh&&$h(Wh,qh),Zh.point=Al},polygonStart:function(){Vh=!0},polygonEnd:function(){Vh=null},result:function(){var e=+Qh;return Qh.reset(),e}};function Jh(e,t){Zh.point=$h,Wh=Xh=e,qh=Yh=t}function $h(e,t){Xh-=e,Yh-=t,Qh.add(Ml(Xh*Xh+Yh*Yh)),Xh=e,Yh=t}var Kh=Zh;function ed(){this._string=[]}function td(e){return\"m0,\"+e+\"a\"+e+\",\"+e+\" 0 1,1 0,\"+-2*e+\"a\"+e+\",\"+e+\" 0 1,1 0,\"+2*e+\"z\"}ed.prototype={_radius:4.5,_circle:td(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push(\"Z\"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push(\"M\",e,\",\",t),this._point=1;break;case 1:this._string.push(\"L\",e,\",\",t);break;default:null==this._circle&&(this._circle=td(this._radius)),this._string.push(\"M\",e,\",\",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join(\"\");return this._string=[],e}return null}};var nd=function(e,t){var n,r,i=4.5;function a(e){return e&&(\"function\"==typeof i&&r.pointRadius(+i.apply(this,arguments)),jl(e,n(r))),r.result()}return a.area=function(e){return jl(e,n(dh)),dh.result()},a.measure=function(e){return jl(e,n(Kh)),Kh.result()},a.bounds=function(e){return jl(e,n(wh)),wh.result()},a.centroid=function(e){return jl(e,n(Hh)),Hh.result()},a.projection=function(t){return arguments.length?(n=null==t?(e=null,ah):(e=t).stream,a):e},a.context=function(e){return arguments.length?(r=null==e?(t=null,new ed):new Gh(t=e),\"function\"!=typeof i&&r.pointRadius(i),a):t},a.pointRadius=function(e){return arguments.length?(i=\"function\"==typeof e?e:(r.pointRadius(+e),+e),a):i},a.projection(e).context(t)},rd=function(e){return{stream:id(e)}};function id(e){return function(t){var n=new ad;for(var r in e)n[r]=e[r];return n.stream=t,n}}function ad(){}function od(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),jl(n,e.stream(wh)),t(wh.result()),null!=r&&e.clipExtent(r),e}function sd(e,t,n){return od(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,s])}),n)}function ud(e,t,n){return sd(e,[[0,0],t],n)}function ld(e,t,n){return od(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];e.scale(150*i).translate([a,o])}),n)}function cd(e,t,n){return od(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,o])}),n)}ad.prototype={constructor:ad,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var fd=16,hd=gl(30*dl),dd=function(e,t){return+t?function(e,t){function n(r,i,a,o,s,u,l,c,f,h,d,p,m,v){var g=l-r,y=c-i,b=g*g+y*y;if(b>4*t&&m--){var x=o+h,_=s+d,w=u+p,E=Ml(x*x+_*_+w*w),M=Cl(w/=E),S=pl(pl(w)-1)<ol||pl(a-f)<ol?(a+f)/2:vl(_,x),T=e(S,M),C=T[0],P=T[1],A=C-r,k=P-i,O=y*A-g*k;(O*O/b>t||pl((g*A+y*k)/b-.5)>.3||o*h+s*d+u*p<hd)&&(n(r,i,a,o,s,u,C,P,S,x/=E,_/=E,w,m,v),v.point(C,P),n(C,P,S,x,_,w,l,c,f,h,d,p,m,v))}}return function(t){var r,i,a,o,s,u,l,c,f,h,d,p,m={point:v,lineStart:g,lineEnd:b,polygonStart:function(){t.polygonStart(),m.lineStart=x},polygonEnd:function(){t.polygonEnd(),m.lineStart=g}};function v(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){c=NaN,m.point=y,t.lineStart()}function y(r,i){var a=Zl([r,i]),o=e(r,i);n(c,f,l,h,d,p,c=o[0],f=o[1],l=r,h=a[0],d=a[1],p=a[2],fd,t),t.point(c,f)}function b(){m.point=v,t.lineEnd()}function x(){g(),m.point=_,m.lineEnd=w}function _(e,t){y(r=e,t),i=c,a=f,o=h,s=d,u=p,m.point=y}function w(){n(c,f,l,h,d,p,i,a,r,o,s,u,fd,t),m.lineEnd=b,b()}return m}}(e,t):function(e){return id({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var pd=id({point:function(e,t){this.stream.point(e*dl,t*dl)}});function md(e,t,n){function r(r,i){return[t+e*r,n-e*i]}return r.invert=function(r,i){return[(r-t)/e,(n-i)/e]},r}function vd(e,t,n,r){var i=gl(r),a=wl(r),o=i*e,s=a*e,u=i/e,l=a/e,c=(a*n-i*t)/e,f=(a*t+i*n)/e;function h(e,r){return[o*e-s*r+t,n-s*e-o*r]}return h.invert=function(e,t){return[u*e-l*t+c,f-l*e-u*t]},h}function gd(e){return yd((function(){return e}))()}function yd(e){var t,n,r,i,a,o,s,u,l,c,f=150,h=480,d=250,p=0,m=0,v=0,g=0,y=0,b=0,x=null,_=wf,w=null,E=ah,M=.5;function S(e){return u(e[0]*dl,e[1]*dl)}function T(e){return(e=u.invert(e[0],e[1]))&&[e[0]*hl,e[1]*hl]}function C(){var e=vd(f,0,0,b).apply(null,t(p,m)),r=(b?vd:md)(f,h-e[0],d-e[1],b);return n=nf(v,g,y),s=ef(t,r),u=ef(n,s),o=dd(s,M),P()}function P(){return l=c=null,S}return S.stream=function(e){return l&&c===e?l:l=pd(function(e){return id({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(_(o(E(c=e)))))},S.preclip=function(e){return arguments.length?(_=e,x=void 0,P()):_},S.postclip=function(e){return arguments.length?(E=e,w=r=i=a=null,P()):E},S.clipAngle=function(e){return arguments.length?(_=+e?Ef(x=e*dl):(x=null,wf),P()):x*hl},S.clipExtent=function(e){return arguments.length?(E=null==e?(w=r=i=a=null,ah):Cf(w=+e[0][0],r=+e[0][1],i=+e[1][0],a=+e[1][1]),P()):null==w?null:[[w,r],[i,a]]},S.scale=function(e){return arguments.length?(f=+e,C()):f},S.translate=function(e){return arguments.length?(h=+e[0],d=+e[1],C()):[h,d]},S.center=function(e){return arguments.length?(p=e[0]%360*dl,m=e[1]%360*dl,C()):[p*hl,m*hl]},S.rotate=function(e){return arguments.length?(v=e[0]%360*dl,g=e[1]%360*dl,y=e.length>2?e[2]%360*dl:0,C()):[v*hl,g*hl,y*hl]},S.angle=function(e){return arguments.length?(b=e%360*dl,C()):b*hl},S.precision=function(e){return arguments.length?(o=dd(s,M=e*e),P()):Ml(M)},S.fitExtent=function(e,t){return sd(S,e,t)},S.fitSize=function(e,t){return ud(S,e,t)},S.fitWidth=function(e,t){return ld(S,e,t)},S.fitHeight=function(e,t){return cd(S,e,t)},function(){return t=e.apply(this,arguments),S.invert=t.invert&&T,C()}}function bd(e){var t=0,n=ul/3,r=yd(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*dl,n=e[1]*dl):[t*hl,n*hl]},i}function xd(e,t){var n=wl(e),r=(n+wl(t))/2;if(pl(r)<ol)return function(e){var t=gl(e);function n(e,n){return[e*t,wl(n)/t]}return n.invert=function(e,n){return[e/t,Cl(n*t)]},n}(e);var i=1+n*(2*r-n),a=Ml(i)/r;function o(e,t){var n=Ml(i-2*r*wl(t))/r;return[n*wl(e*=r),a-n*gl(e)]}return o.invert=function(e,t){var n=a-t;return[vl(e,pl(n))/r*El(n),Cl((i-(e*e+n*n)*r*r)/(2*r))]},o}var _d=function(){return bd(xd).scale(155.424).center([0,33.6442])},wd=function(){return _d().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var Ed=function(){var e,t,n,r,i,a,o=wd(),s=_d().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=_d().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,t){a=[e,t]}};function c(e){var t=e[0],o=e[1];return a=null,n.point(t,o),a||(r.point(t,o),a)||(i.point(t,o),a)}function f(){return e=t=null,c}return c.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:o).invert(e)},c.stream=function(n){return e&&t===n?e:(r=[o.stream(t=n),s.stream(n),u.stream(n)],i=r.length,e={point:function(e,t){for(var n=-1;++n<i;)r[n].point(e,t)},sphere:function(){for(var e=-1;++e<i;)r[e].sphere()},lineStart:function(){for(var e=-1;++e<i;)r[e].lineStart()},lineEnd:function(){for(var e=-1;++e<i;)r[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<i;)r[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<i;)r[e].polygonEnd()}});var r,i},c.precision=function(e){return arguments.length?(o.precision(e),s.precision(e),u.precision(e),f()):o.precision()},c.scale=function(e){return arguments.length?(o.scale(e),s.scale(.35*e),u.scale(e),c.translate(o.translate())):o.scale()},c.translate=function(e){if(!arguments.length)return o.translate();var t=o.scale(),a=+e[0],c=+e[1];return n=o.translate(e).clipExtent([[a-.455*t,c-.238*t],[a+.455*t,c+.238*t]]).stream(l),r=s.translate([a-.307*t,c+.201*t]).clipExtent([[a-.425*t+ol,c+.12*t+ol],[a-.214*t-ol,c+.234*t-ol]]).stream(l),i=u.translate([a-.205*t,c+.212*t]).clipExtent([[a-.214*t+ol,c+.166*t+ol],[a-.115*t-ol,c+.234*t-ol]]).stream(l),f()},c.fitExtent=function(e,t){return sd(c,e,t)},c.fitSize=function(e,t){return ud(c,e,t)},c.fitWidth=function(e,t){return ld(c,e,t)},c.fitHeight=function(e,t){return cd(c,e,t)},c.scale(1070)};function Md(e){return function(t,n){var r=gl(t),i=gl(n),a=e(r*i);return[a*i*wl(t),a*wl(n)]}}function Sd(e){return function(t,n){var r=Ml(t*t+n*n),i=e(r),a=wl(i),o=gl(i);return[vl(t*a,r*o),Cl(r&&n*a/r)]}}var Td=Md((function(e){return Ml(2/(1+e))}));Td.invert=Sd((function(e){return 2*Cl(e/2)}));var Cd=function(){return gd(Td).scale(124.75).clipAngle(179.999)},Pd=Md((function(e){return(e=Tl(e))&&e/wl(e)}));Pd.invert=Sd((function(e){return e}));var Ad=function(){return gd(Pd).scale(79.4188).clipAngle(179.999)};function kd(e,t){return[e,xl(Sl((ll+t)/2))]}kd.invert=function(e,t){return[e,2*ml(bl(t))-ll]};var Od=function(){return Ld(kd).scale(961/fl)};function Ld(e){var t,n,r,i=gd(e),a=i.center,o=i.scale,s=i.translate,u=i.clipExtent,l=null;function c(){var a=ul*o(),s=i(sf(i.rotate()).invert([0,0]));return u(null==l?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:e===kd?[[Math.max(s[0]-a,l),t],[Math.min(s[0]+a,n),r]]:[[l,Math.max(s[1]-a,t)],[n,Math.min(s[1]+a,r)]])}return i.scale=function(e){return arguments.length?(o(e),c()):o()},i.translate=function(e){return arguments.length?(s(e),c()):s()},i.center=function(e){return arguments.length?(a(e),c()):a()},i.clipExtent=function(e){return arguments.length?(null==e?l=t=n=r=null:(l=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),c()):null==l?null:[[l,t],[n,r]]},c()}function Rd(e){return Sl((ll+e)/2)}function Nd(e,t){var n=gl(e),r=e===t?wl(e):xl(n/gl(t))/xl(Rd(t)/Rd(e)),i=n*_l(Rd(e),r)/r;if(!r)return kd;function a(e,t){i>0?t<-ll+ol&&(t=-ll+ol):t>ll-ol&&(t=ll-ol);var n=i/_l(Rd(t),r);return[n*wl(r*e),i-n*gl(r*e)]}return a.invert=function(e,t){var n=i-t,a=El(r)*Ml(e*e+n*n);return[vl(e,pl(n))/r*El(n),2*ml(_l(i/a,1/r))-ll]},a}var Id=function(){return bd(Nd).scale(109.5).parallels([30,30])};function Dd(e,t){return[e,t]}Dd.invert=Dd;var zd=function(){return gd(Dd).scale(152.63)};function Fd(e,t){var n=gl(e),r=e===t?wl(e):(n-gl(t))/(t-e),i=n/r+e;if(pl(r)<ol)return Dd;function a(e,t){var n=i-t,a=r*e;return[n*wl(a),i-n*gl(a)]}return a.invert=function(e,t){var n=i-t;return[vl(e,pl(n))/r*El(n),i-El(r)*Ml(e*e+n*n)]},a}var Bd=function(){return bd(Fd).scale(131.154).center([0,13.9389])},jd=1.340264,Ud=-.081106,Hd=893e-6,Gd=.003796,Vd=Ml(3)/2;function Wd(e,t){var n=Cl(Vd*wl(t)),r=n*n,i=r*r*r;return[e*gl(n)/(Vd*(jd+3*Ud*r+i*(7*Hd+9*Gd*r))),n*(jd+Ud*r+i*(Hd+Gd*r))]}Wd.invert=function(e,t){for(var n,r=t,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=n=(r*(jd+Ud*i+a*(Hd+Gd*i))-t)/(jd+3*Ud*i+a*(7*Hd+9*Gd*i)))*r)*i*i,!(pl(n)<sl));++o);return[Vd*e*(jd+3*Ud*i+a*(7*Hd+9*Gd*i))/gl(r),Cl(wl(r)/Vd)]};var qd=function(){return gd(Wd).scale(177.158)};function Xd(e,t){var n=gl(t),r=gl(e)*n;return[n*wl(e)/r,wl(t)/r]}Xd.invert=Sd(ml);var Yd=function(){return gd(Xd).scale(144.049).clipAngle(60)};function Qd(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?ah:id({point:function(i,a){this.stream.point(i*e+n,a*t+r)}})}var Zd=function(){var e,t,n,r,i,a,o=1,s=0,u=0,l=1,c=1,f=ah,h=null,d=ah;function p(){return r=i=null,a}return a={stream:function(e){return r&&i===e?r:r=f(d(i=e))},postclip:function(r){return arguments.length?(d=r,h=e=t=n=null,p()):d},clipExtent:function(r){return arguments.length?(d=null==r?(h=e=t=n=null,ah):Cf(h=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),p()):null==h?null:[[h,e],[t,n]]},scale:function(e){return arguments.length?(f=Qd((o=+e)*l,o*c,s,u),p()):o},translate:function(e){return arguments.length?(f=Qd(o*l,o*c,s=+e[0],u=+e[1]),p()):[s,u]},reflectX:function(e){return arguments.length?(f=Qd(o*(l=e?-1:1),o*c,s,u),p()):l<0},reflectY:function(e){return arguments.length?(f=Qd(o*l,o*(c=e?-1:1),s,u),p()):c<0},fitExtent:function(e,t){return sd(a,e,t)},fitSize:function(e,t){return ud(a,e,t)},fitWidth:function(e,t){return ld(a,e,t)},fitHeight:function(e,t){return cd(a,e,t)}}};function Jd(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Jd.invert=function(e,t){var n,r=t,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-t)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(pl(n)>ol&&--i>0);return[e/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]};var $d=function(){return gd(Jd).scale(175.295)};function Kd(e,t){return[gl(t)*wl(e),wl(t)]}Kd.invert=Sd(Cl);var ep=function(){return gd(Kd).scale(249.5).clipAngle(90+ol)};function tp(e,t){var n=gl(t),r=1+gl(e)*n;return[n*wl(e)/r,wl(t)/r]}tp.invert=Sd((function(e){return 2*ml(e)}));var np=function(){return gd(tp).scale(250).clipAngle(142)};function rp(e,t){return[xl(Sl((ll+t)/2)),-e]}rp.invert=function(e,t){return[-t,2*ml(bl(e))-ll]};var ip=function(){var e=Ld(rp),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)};function ap(e,t){return e.parent===t.parent?1:2}function op(e,t){return e+t.x}function sp(e,t){return Math.max(e,t.y)}var up=function(){var e=ap,t=1,n=1,r=!1;function i(i){var a,o=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(op,0)/e.length}(n),t.y=function(e){return 1+e.reduce(sp,0)}(n)):(t.x=a?o+=e(t,a):0,t.y=0,a=t)}));var s=function(e){for(var t;t=e.children;)e=t[0];return e}(i),u=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),l=s.x-e(s,u)/2,c=u.x+e(u,s)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-l)/(c-l)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i};function lp(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function cp(e,t){var n,r,i,a,o,s=new pp(e),u=+e.value&&(s.value=e.value),l=[s];for(null==t&&(t=fp);n=l.pop();)if(u&&(n.value=+n.data.value),(i=t(n.data))&&(o=i.length))for(n.children=new Array(o),a=o-1;a>=0;--a)l.push(r=n.children[a]=new pp(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(dp)}function fp(e){return e.children}function hp(e){e.data=e.data.data}function dp(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function pp(e){this.data=e,this.depth=this.height=0,this.parent=null}pp.prototype=cp.prototype={constructor:pp,count:function(){return this.eachAfter(lp)},each:function(e){var t,n,r,i,a=this,o=[a];do{for(t=o.reverse(),o=[];a=t.pop();)if(e(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this},eachAfter:function(e){for(var t,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),t=i.children)for(n=0,r=t.length;n<r;++n)a.push(t[n]);for(;i=o.pop();)e(i);return this},eachBefore:function(e){for(var t,n,r=this,i=[r];r=i.pop();)if(e(r),t=r.children)for(n=t.length-1;n>=0;--n)i.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return cp(this).eachBefore(hp)}};var mp=Array.prototype.slice;var vp=function(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(mp.call(e))).length,a=[];r<i;)t=e[r],n&&bp(n,t)?++r:(n=_p(a=gp(a,t)),r=0);return n};function gp(e,t){var n,r;if(xp(t,e))return[t];for(n=0;n<e.length;++n)if(yp(t,e[n])&&xp(wp(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(yp(wp(e[n],e[r]),t)&&yp(wp(e[n],t),e[r])&&yp(wp(e[r],t),e[n])&&xp(Ep(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function yp(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function bp(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function xp(e,t){for(var n=0;n<t.length;++n)if(!bp(e,t[n]))return!1;return!0}function _p(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return wp(e[0],e[1]);case 3:return Ep(e[0],e[1],e[2])}var t}function wp(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,s=t.r,u=a-n,l=o-r,c=s-i,f=Math.sqrt(u*u+l*l);return{x:(n+a+u/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+s)/2}}function Ep(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,s=t.y,u=t.r,l=n.x,c=n.y,f=n.r,h=r-o,d=r-l,p=i-s,m=i-c,v=u-a,g=f-a,y=r*r+i*i-a*a,b=y-o*o-s*s+u*u,x=y-l*l-c*c+f*f,_=d*p-h*m,w=(p*x-m*b)/(2*_)-r,E=(m*v-p*g)/_,M=(d*b-h*x)/(2*_)-i,S=(h*g-d*v)/_,T=E*E+S*S-1,C=2*(a+w*E+M*S),P=w*w+M*M-a*a,A=-(T?(C+Math.sqrt(C*C-4*T*P))/(2*T):P/C);return{x:r+w+E*A,y:i+M+S*A,r:A}}function Mp(e,t,n){var r,i,a,o,s=e.x-t.x,u=e.y-t.y,l=s*s+u*u;l?(i=t.r+n.r,i*=i,o=e.r+n.r,i>(o*=o)?(r=(l+o-i)/(2*l),a=Math.sqrt(Math.max(0,o/l-r*r)),n.x=e.x-r*s-a*u,n.y=e.y-r*u+a*s):(r=(l+i-o)/(2*l),a=Math.sqrt(Math.max(0,i/l-r*r)),n.x=t.x+r*s-a*u,n.y=t.y+r*u+a*s)):(n.x=t.x+n.r,n.y=t.y)}function Sp(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Tp(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function Cp(e){this._=e,this.next=null,this.previous=null}function Pp(e){if(!(i=e.length))return 0;var t,n,r,i,a,o,s,u,l,c,f;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;Mp(n,t,r=e[2]),t=new Cp(t),n=new Cp(n),r=new Cp(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<i;++s){Mp(t._,n._,r=e[s]),r=new Cp(r),u=n.next,l=t.previous,c=n._.r,f=t._.r;do{if(c<=f){if(Sp(u._,r._)){n=u,t.next=n,n.previous=t,--s;continue e}c+=u._.r,u=u.next}else{if(Sp(l._,r._)){(t=l).next=n,n.previous=t,--s;continue e}f+=l._.r,l=l.previous}}while(u!==l.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,a=Tp(t);(r=r.next)!==n;)(o=Tp(r))<a&&(t=r,a=o);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=vp(t),s=0;s<i;++s)(t=e[s]).x-=r.x,t.y-=r.y;return r.r}var Ap=function(e){return Pp(e),e};function kp(e){return null==e?null:Op(e)}function Op(e){if(\"function\"!=typeof e)throw new Error;return e}function Lp(){return 0}var Rp=function(e){return function(){return e}};function Np(e){return Math.sqrt(e.value)}var Ip=function(){var e=null,t=1,n=1,r=Lp;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(Dp(e)).eachAfter(zp(r,.5)).eachBefore(Fp(1)):i.eachBefore(Dp(Np)).eachAfter(zp(Lp,1)).eachAfter(zp(r,i.r/Math.min(t,n))).eachBefore(Fp(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=kp(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r=\"function\"==typeof e?e:Rp(+e),i):r},i};function Dp(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function zp(e,t){return function(n){if(r=n.children){var r,i,a,o=r.length,s=e(n)*t||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=Pp(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function Fp(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var Bp=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},jp=function(e,t,n,r,i){for(var a,o=e.children,s=-1,u=o.length,l=e.value&&(r-t)/e.value;++s<u;)(a=o[s]).y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*l},Up=function(){var e=1,t=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/a,i.eachBefore(function(e,t){return function(r){r.children&&jp(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,a=r.y0,o=r.x1-n,s=r.y1-n;o<i&&(i=o=(i+o)/2),s<a&&(a=s=(a+s)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=s}}(t,a)),r&&i.eachBefore(Bp),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i},Hp=\"$\",Gp={depth:-1},Vp={};function Wp(e){return e.id}function qp(e){return e.parentId}var Xp=function(){var e=Wp,t=qp;function n(n){var r,i,a,o,s,u,l,c=n.length,f=new Array(c),h={};for(i=0;i<c;++i)r=n[i],s=f[i]=new pp(r),null!=(u=e(r,i,n))&&(u+=\"\")&&(h[l=Hp+(s.id=u)]=l in h?Vp:s);for(i=0;i<c;++i)if(s=f[i],null!=(u=t(n[i],i,n))&&(u+=\"\")){if(!(o=h[Hp+u]))throw new Error(\"missing: \"+u);if(o===Vp)throw new Error(\"ambiguous: \"+u);o.children?o.children.push(s):o.children=[s],s.parent=o}else{if(a)throw new Error(\"multiple roots\");a=s}if(!a)throw new Error(\"no root\");if(a.parent=Gp,a.eachBefore((function(e){e.depth=e.parent.depth+1,--c})).eachBefore(dp),a.parent=null,c>0)throw new Error(\"cycle\");return a}return n.id=function(t){return arguments.length?(e=Op(t),n):e},n.parentId=function(e){return arguments.length?(t=Op(e),n):t},n};function Yp(e,t){return e.parent===t.parent?1:2}function Qp(e){var t=e.children;return t?t[0]:e.t}function Zp(e){var t=e.children;return t?t[t.length-1]:e.t}function Jp(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function $p(e,t,n){return e.a.parent===t.parent?e.a:n}function Kp(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Kp.prototype=Object.create(pp.prototype);var em=function(){var e=Yp,t=1,n=1,r=null;function i(i){var u=function(e){for(var t,n,r,i,a,o=new Kp(e,0),s=[o];t=s.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=t.children[i]=new Kp(r[i],i)),n.parent=t;return(o.parent=new Kp(null,0)).children=[o],o}(i);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),r)i.eachBefore(s);else{var l=i,c=i,f=i;i.eachBefore((function(e){e.x<l.x&&(l=e),e.x>c.x&&(c=e),e.depth>f.depth&&(f=e)}));var h=l===c?1:e(l,c)/2,d=h-l.x,p=t/(c.x+h+d),m=n/(f.depth||1);i.eachBefore((function(e){e.x=(e.x+d)*p,e.y=e.depth*m}))}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,a=t,o=t,s=n,u=a.parent.children[0],l=a.m,c=o.m,f=s.m,h=u.m;s=Zp(s),a=Qp(a),s&&a;)u=Qp(u),(o=Zp(o)).a=t,(i=s.z+f-a.z-l+e(s._,a._))>0&&(Jp($p(s,t,r),t,i),l+=i,c+=i),f+=s.m,l+=a.m,h+=u.m,c+=o.m;s&&!Zp(o)&&(o.t=s,o.m+=f-c),a&&!Qp(u)&&(u.t=a,u.m+=l-h,r=t)}return r}(t,i,t.parent.A||r[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i},tm=function(e,t,n,r,i){for(var a,o=e.children,s=-1,u=o.length,l=e.value&&(i-n)/e.value;++s<u;)(a=o[s]).x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*l},nm=(1+Math.sqrt(5))/2;function rm(e,t,n,r,i,a){for(var o,s,u,l,c,f,h,d,p,m,v,g=[],y=t.children,b=0,x=0,_=y.length,w=t.value;b<_;){u=i-n,l=a-r;do{c=y[x++].value}while(!c&&x<_);for(f=h=c,v=c*c*(m=Math.max(l/u,u/l)/(w*e)),p=Math.max(h/v,v/f);x<_;++x){if(c+=s=y[x].value,s<f&&(f=s),s>h&&(h=s),v=c*c*m,(d=Math.max(h/v,v/f))>p){c-=s;break}p=d}g.push(o={value:c,dice:u<l,children:y.slice(b,x)}),o.dice?jp(o,n,r,i,w?r+=l*c/w:a):tm(o,n,r,w?n+=u*c/w:i,a),w-=c,b=x}return g}var im=function e(t){function n(e,n,r,i,a){rm(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(nm),am=function(){var e=im,t=!1,n=1,r=1,i=[0],a=Lp,o=Lp,s=Lp,u=Lp,l=Lp;function c(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),i=[0],t&&e.eachBefore(Bp),e}function f(t){var n=i[t.depth],r=t.x0+n,c=t.y0+n,f=t.x1-n,h=t.y1-n;f<r&&(r=f=(r+f)/2),h<c&&(c=h=(c+h)/2),t.x0=r,t.y0=c,t.x1=f,t.y1=h,t.children&&(n=i[t.depth+1]=a(t)/2,r+=l(t)-n,c+=o(t)-n,(f-=s(t)-n)<r&&(r=f=(r+f)/2),(h-=u(t)-n)<c&&(c=h=(c+h)/2),e(t,r,c,f,h))}return c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(n=+e[0],r=+e[1],c):[n,r]},c.tile=function(t){return arguments.length?(e=Op(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(a=\"function\"==typeof e?e:Rp(+e),c):a},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(o=\"function\"==typeof e?e:Rp(+e),c):o},c.paddingRight=function(e){return arguments.length?(s=\"function\"==typeof e?e:Rp(+e),c):s},c.paddingBottom=function(e){return arguments.length?(u=\"function\"==typeof e?e:Rp(+e),c):u},c.paddingLeft=function(e){return arguments.length?(l=\"function\"==typeof e?e:Rp(+e),c):l},c},om=function(e,t,n,r,i){var a,o,s=e.children,u=s.length,l=new Array(u+1);for(l[0]=o=a=0;a<u;++a)l[a+1]=o+=s[a].value;!function e(t,n,r,i,a,o,u){if(t>=n-1){var c=s[t];return c.x0=i,c.y0=a,c.x1=o,void(c.y1=u)}var f=l[t],h=r/2+f,d=t+1,p=n-1;for(;d<p;){var m=d+p>>>1;l[m]<h?d=m+1:p=m}h-l[d-1]<l[d]-h&&t+1<d&&--d;var v=l[d]-f,g=r-v;if(o-i>u-a){var y=(i*g+o*v)/r;e(t,d,v,i,a,y,u),e(d,n,g,y,a,o,u)}else{var b=(a*g+u*v)/r;e(t,d,v,i,a,o,b),e(d,n,g,i,b,o,u)}}(0,u,e.value,t,n,r,i)},sm=function(e,t,n,r,i){(1&e.depth?tm:jp)(e,t,n,r,i)},um=function e(t){function n(e,n,r,i,a){if((o=e._squarify)&&o.ratio===t)for(var o,s,u,l,c,f=-1,h=o.length,d=e.value;++f<h;){for(u=(s=o[f]).children,l=s.value=0,c=u.length;l<c;++l)s.value+=u[l].value;s.dice?jp(s,n,r,i,r+=(a-r)*s.value/d):tm(s,n,r,n+=(i-n)*s.value/d,a),d-=s.value}else e._squarify=o=rm(t,e,n,r,i,a),o.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(nm),lm=function(e){for(var t,n=-1,r=e.length,i=e[r-1],a=0;++n<r;)t=i,i=e[n],a+=t[1]*i[0]-t[0]*i[1];return a/2},cm=function(e){for(var t,n,r=-1,i=e.length,a=0,o=0,s=e[i-1],u=0;++r<i;)t=s,s=e[r],u+=n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[a/(u*=3),o/u]},fm=function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])};function hm(e,t){return e[0]-t[0]||e[1]-t[1]}function dm(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;++i){for(;r>1&&fm(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}var pm=function(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(hm),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var a=dm(r),o=dm(i),s=o[0]===a[0],u=o[o.length-1]===a[a.length-1],l=[];for(t=a.length-1;t>=0;--t)l.push(e[r[a[t]][2]]);for(t=+s;t<o.length-u;++t)l.push(e[r[o[t]][2]]);return l},mm=function(e,t){for(var n,r,i=e.length,a=e[i-1],o=t[0],s=t[1],u=a[0],l=a[1],c=!1,f=0;f<i;++f)n=(a=e[f])[0],(r=a[1])>s!=l>s&&o<(u-n)*(s-r)/(l-r)+n&&(c=!c),u=n,l=r;return c},vm=function(e){for(var t,n,r=-1,i=e.length,a=e[i-1],o=a[0],s=a[1],u=0;++r<i;)t=o,n=s,t-=o=(a=e[r])[0],n-=s=a[1],u+=Math.sqrt(t*t+n*n);return u},gm=function(){return Math.random()},ym=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(gm),bm=function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*t()-1,a=2*t()-1,i=r*r+a*a}while(!i||i>1);return e+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}(gm),xm=function e(t){function n(){var e=bm.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}(gm),_m=function e(t){function n(e){return function(){for(var n=0,r=0;r<e;++r)n+=t();return n}}return n.source=e,n}(gm),wm=function e(t){function n(e){var n=_m.source(t)(e);return function(){return n()/e}}return n.source=e,n}(gm),Em=function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}(gm);function Mm(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Sm(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var Tm=Array.prototype,Cm=Tm.map,Pm=Tm.slice,Am={name:\"implicit\"};function km(){var e=Qo(),t=[],n=[],r=Am;function i(i){var a=i+\"\",o=e.get(a);if(!o){if(r!==Am)return r;e.set(a,o=t.push(i))}return n[(o-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=Qo();for(var r,a,o=-1,s=n.length;++o<s;)e.has(a=(r=n[o])+\"\")||e.set(a,t.push(r));return i},i.range=function(e){return arguments.length?(n=Pm.call(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return km(t,n).unknown(r)},Mm.apply(i,arguments),i}function Om(){var e,t,n=km().unknown(void 0),r=n.domain,i=n.range,a=[0,1],o=!1,s=0,u=0,l=.5;function c(){var n=r().length,c=a[1]<a[0],f=a[c-0],h=a[1-c];e=(h-f)/Math.max(1,n-s+2*u),o&&(e=Math.floor(e)),f+=(h-f-e*(n-s))*l,t=e*(1-s),o&&(f=Math.round(f),t=Math.round(t));var d=w(n).map((function(t){return f+e*t}));return i(c?d.reverse():d)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),c()):r()},n.range=function(e){return arguments.length?(a=[+e[0],+e[1]],c()):a.slice()},n.rangeRound=function(e){return a=[+e[0],+e[1]],o=!0,c()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(o=!!e,c()):o},n.padding=function(e){return arguments.length?(s=Math.min(1,u=+e),c()):s},n.paddingInner=function(e){return arguments.length?(s=Math.min(1,e),c()):s},n.paddingOuter=function(e){return arguments.length?(u=+e,c()):u},n.align=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),c()):l},n.copy=function(){return Om(r(),a).round(o).paddingInner(s).paddingOuter(u).align(l)},Mm.apply(c(),arguments)}function Lm(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(n())},t}(Om.apply(null,arguments).paddingInner(1))}var Rm=function(e){return function(){return e}},Nm=function(e){return+e},Im=[0,1];function Dm(e){return e}function zm(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Rm(isNaN(t)?NaN:.5)}function Fm(e){var t,n=e[0],r=e[e.length-1];return n>r&&(t=n,n=r,r=t),function(e){return Math.max(n,Math.min(r,e))}}function Bm(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=zm(i,r),a=n(o,a)):(r=zm(r,i),a=n(a,o)),function(e){return a(r(e))}}function jm(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=zm(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=u(e,t,1,r)-1;return a[n](i[n](t))}}function Um(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hm(){var e,t,n,r,i,a,o=Im,s=Im,u=Cr,l=Dm;function c(){return r=Math.min(o.length,s.length)>2?jm:Bm,i=a=null,f}function f(t){return isNaN(t=+t)?n:(i||(i=r(o.map(e),s,u)))(e(l(t)))}return f.invert=function(n){return l(t((a||(a=r(s,o.map(e),yr)))(n)))},f.domain=function(e){return arguments.length?(o=Cm.call(e,Nm),l===Dm||(l=Fm(o)),c()):o.slice()},f.range=function(e){return arguments.length?(s=Pm.call(e),c()):s.slice()},f.rangeRound=function(e){return s=Pm.call(e),u=kr,c()},f.clamp=function(e){return arguments.length?(l=e?Fm(o):Dm,f):l!==Dm},f.interpolate=function(e){return arguments.length?(u=e,c()):u},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}function Gm(e,t){return Hm()(e,t)}var Vm=function(e,t,n,r){var i,a=P(e,t,n);switch((r=Bu(null==r?\",f\":r)).type){case\"s\":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=el(a,o))||(r.precision=i),Vu(r,o);case\"\":case\"e\":case\"g\":case\"p\":case\"r\":null!=r.precision||isNaN(i=tl(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-(\"e\"===r.type));break;case\"f\":case\"%\":null!=r.precision||isNaN(i=Ku(a))||(r.precision=i-2*(\"%\"===r.type))}return Gu(r)};function Wm(e){var t=e.domain;return e.ticks=function(e){var n=t();return T(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Vm(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i=t(),a=0,o=i.length-1,s=i[a],u=i[o];return u<s&&(r=s,s=u,u=r,r=a,a=o,o=r),(r=C(s,u,n))>0?r=C(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=C(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(u/r)*r,t(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(u*r)/r,t(i)),e},e}function qm(){var e=Gm(Dm,Dm);return e.copy=function(){return Um(e,qm())},Mm.apply(e,arguments),Wm(e)}function Xm(e){var t;function n(e){return isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Cm.call(t,Nm),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Xm(e).unknown(t)},e=arguments.length?Cm.call(e,Nm):[0,1],Wm(n)}var Ym=function(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e};function Qm(e){return Math.log(e)}function Zm(e){return Math.exp(e)}function Jm(e){return-Math.log(-e)}function $m(e){return-Math.exp(-e)}function Km(e){return isFinite(e)?+(\"1e\"+e):e<0?0:e}function ev(e){return function(t){return-e(-t)}}function tv(e){var t,n,r=e(Qm,Zm),i=r.domain,a=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(a),n=function(e){return 10===e?Km:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(a),i()[0]<0?(t=ev(t),n=ev(n),e(Jm,$m)):e(Qm,Zm),r}return r.base=function(e){return arguments.length?(a=+e,o()):a},r.domain=function(e){return arguments.length?(i(e),o()):i()},r.ticks=function(e){var r,o=i(),s=o[0],u=o[o.length-1];(r=u<s)&&(h=s,s=u,u=h);var l,c,f,h=t(s),d=t(u),p=null==e?10:+e,m=[];if(!(a%1)&&d-h<p){if(h=Math.round(h)-1,d=Math.round(d)+1,s>0){for(;h<d;++h)for(c=1,l=n(h);c<a;++c)if(!((f=l*c)<s)){if(f>u)break;m.push(f)}}else for(;h<d;++h)for(c=a-1,l=n(h);c>=1;--c)if(!((f=l*c)<s)){if(f>u)break;m.push(f)}}else m=T(h,d,Math.min(d-h,p)).map(n);return r?m.reverse():m},r.tickFormat=function(e,i){if(null==i&&(i=10===a?\".0e\":\",\"),\"function\"!=typeof i&&(i=Gu(i)),e===1/0)return i;null==e&&(e=10);var o=Math.max(1,a*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*a<a-.5&&(r*=a),r<=o?i(e):\"\"}},r.nice=function(){return i(Ym(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function nv(){var e=tv(Hm()).domain([1,10]);return e.copy=function(){return Um(e,nv()).base(e.base())},Mm.apply(e,arguments),e}function rv(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function iv(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function av(e){var t=1,n=e(rv(t),iv(t));return n.constant=function(n){return arguments.length?e(rv(t=+n),iv(t)):t},Wm(n)}function ov(){var e=av(Hm());return e.copy=function(){return Um(e,ov()).constant(e.constant())},Mm.apply(e,arguments)}function sv(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function uv(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function lv(e){return e<0?-e*e:e*e}function cv(e){var t=e(Dm,Dm),n=1;function r(){return 1===n?e(Dm,Dm):.5===n?e(uv,lv):e(sv(n),sv(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},Wm(t)}function fv(){var e=cv(Hm());return e.copy=function(){return Um(e,fv()).exponent(e.exponent())},Mm.apply(e,arguments),e}function hv(){return fv.apply(null,arguments).exponent(.5)}function dv(){var e,t=[],n=[],i=[];function a(){var e=0,r=Math.max(1,n.length);for(i=new Array(r-1);++e<r;)i[e-1]=O(t,e/r);return o}function o(t){return isNaN(t=+t)?e:n[u(i,t)]}return o.invertExtent=function(e){var r=n.indexOf(e);return r<0?[NaN,NaN]:[r>0?i[r-1]:t[0],r<i.length?i[r]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,i=0,o=e.length;i<o;++i)null==(n=e[i])||isNaN(n=+n)||t.push(n);return t.sort(r),a()},o.range=function(e){return arguments.length?(n=Pm.call(e),a()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return i.slice()},o.copy=function(){return dv().domain(t).range(n).unknown(e)},Mm.apply(o,arguments)}function pv(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return t<=t?a[u(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],s()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Pm.call(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return pv().domain([t,n]).range(a).unknown(e)},Mm.apply(Wm(o),arguments)}function mv(){var e,t=[.5],n=[0,1],r=1;function i(i){return i<=i?n[u(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Pm.call(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Pm.call(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return mv().domain(t).range(n).unknown(e)},Mm.apply(i,arguments)}var vv=new Date,gv=new Date;function yv(e,t,n,r){function i(t){return e(t=new Date(+t)),t}return i.floor=i,i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do{s.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return s},i.filter=function(n){return yv((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return vv.setTime(+t),gv.setTime(+r),e(vv),e(gv),Math.floor(n(vv,gv))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var bv=yv((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));bv.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?yv((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):bv:null};var xv=bv,_v=bv.range,wv=6e4,Ev=6048e5,Mv=yv((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()})),Sv=Mv,Tv=Mv.range,Cv=yv((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),(function(e,t){e.setTime(+e+t*wv)}),(function(e,t){return(t-e)/wv}),(function(e){return e.getMinutes()})),Pv=Cv,Av=Cv.range,kv=yv((function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*wv)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()})),Ov=kv,Lv=kv.range,Rv=yv((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wv)/864e5}),(function(e){return e.getDate()-1})),Nv=Rv,Iv=Rv.range;function Dv(e){return yv((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*wv)/Ev}))}var zv=Dv(0),Fv=Dv(1),Bv=Dv(2),jv=Dv(3),Uv=Dv(4),Hv=Dv(5),Gv=Dv(6),Vv=zv.range,Wv=Fv.range,qv=Bv.range,Xv=jv.range,Yv=Uv.range,Qv=Hv.range,Zv=Gv.range,Jv=yv((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),$v=Jv,Kv=Jv.range,eg=yv((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));eg.every=function(e){return isFinite(e=Math.floor(e))&&e>0?yv((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var tg=eg,ng=eg.range,rg=yv((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*wv)}),(function(e,t){return(t-e)/wv}),(function(e){return e.getUTCMinutes()})),ig=rg,ag=rg.range,og=yv((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()})),sg=og,ug=og.range,lg=yv((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1})),cg=lg,fg=lg.range;function hg(e){return yv((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/Ev}))}var dg=hg(0),pg=hg(1),mg=hg(2),vg=hg(3),gg=hg(4),yg=hg(5),bg=hg(6),xg=dg.range,_g=pg.range,wg=mg.range,Eg=vg.range,Mg=gg.range,Sg=yg.range,Tg=bg.range,Cg=yv((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),Pg=Cg,Ag=Cg.range,kg=yv((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));kg.every=function(e){return isFinite(e=Math.floor(e))&&e>0?yv((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Og=kg,Lg=kg.range;function Rg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ng(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ig(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function Dg(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,u=e.shortMonths,l=Yg(i),c=Qg(i),f=Yg(a),h=Qg(a),d=Yg(o),p=Qg(o),m=Yg(s),v=Qg(s),g=Yg(u),y=Qg(u),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:my,e:my,f:xy,H:vy,I:gy,j:yy,L:by,m:_y,M:wy,p:function(e){return i[+(e.getHours()>=12)]},Q:Zy,s:Jy,S:Ey,u:My,U:Sy,V:Ty,w:Cy,W:Py,x:null,X:null,y:Ay,Y:ky,Z:Oy,\"%\":Qy},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return u[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Ly,e:Ly,f:zy,H:Ry,I:Ny,j:Iy,L:Dy,m:Fy,M:By,p:function(e){return i[+(e.getUTCHours()>=12)]},Q:Zy,s:Jy,S:jy,u:Uy,U:Hy,V:Gy,w:Vy,W:Wy,x:null,X:null,y:qy,Y:Xy,Z:Yy,\"%\":Qy},_={a:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(e,n,r){return M(e,t,n,r)},d:ay,e:ay,f:fy,H:sy,I:sy,j:oy,L:cy,m:iy,M:uy,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:dy,s:py,S:ly,u:Jg,U:$g,V:Kg,w:Zg,W:ey,x:function(e,t,r){return M(e,n,t,r)},X:function(e,t,n){return M(e,r,t,n)},y:ny,Y:ty,Z:ry,\"%\":hy};function w(e,t){return function(n){var r,i,a,o=[],s=-1,u=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(o.push(e.slice(u,s)),null!=(i=Hg[r=e.charAt(++s)])?r=e.charAt(++s):i=\"e\"===r?\" \":\"0\",(a=t[r])&&(r=a(n,i)),o.push(r),u=s+1);return o.push(e.slice(u,s)),o.join(\"\")}}function E(e,t){return function(n){var r,i,a=Ig(1900);if(M(a,e,n+=\"\",0)!=n.length)return null;if(\"Q\"in a)return new Date(a.Q);if(\"p\"in a&&(a.H=a.H%12+12*a.p),\"V\"in a){if(a.V<1||a.V>53)return null;\"w\"in a||(a.w=1),\"Z\"in a?(i=(r=Ng(Ig(a.y))).getUTCDay(),r=i>4||0===i?pg.ceil(r):pg(r),r=cg.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=t(Ig(a.y))).getDay(),r=i>4||0===i?Fv.ceil(r):Fv(r),r=Nv.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else(\"W\"in a||\"U\"in a)&&(\"w\"in a||(a.w=\"u\"in a?a.u%7:\"W\"in a?1:0),i=\"Z\"in a?Ng(Ig(a.y)).getUTCDay():t(Ig(a.y)).getDay(),a.m=0,a.d=\"W\"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return\"Z\"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Ng(a)):t(a)}}function M(e,t,n,r){for(var i,a,o=0,s=t.length,u=n.length;o<s;){if(r>=u)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=_[i in Hg?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),x.x=w(n,x),x.X=w(r,x),x.c=w(t,x),{format:function(e){var t=w(e+=\"\",b);return t.toString=function(){return e},t},parse:function(e){var t=E(e+=\"\",Rg);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+=\"\",x);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e,Ng);return t.toString=function(){return e},t}}}var zg,Fg,Bg,jg,Ug,Hg={\"-\":\"\",_:\" \",0:\"0\"},Gg=/^\\s*\\d+/,Vg=/^%/,Wg=/[\\\\^$*+?|[\\]().{}]/g;function qg(e,t,n){var r=e<0?\"-\":\"\",i=(r?-e:e)+\"\",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Xg(e){return e.replace(Wg,\"\\\\$&\")}function Yg(e){return new RegExp(\"^(?:\"+e.map(Xg).join(\"|\")+\")\",\"i\")}function Qg(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function Zg(e,t,n){var r=Gg.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Jg(e,t,n){var r=Gg.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function $g(e,t,n){var r=Gg.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Kg(e,t,n){var r=Gg.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function ey(e,t,n){var r=Gg.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ty(e,t,n){var r=Gg.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ny(e,t,n){var r=Gg.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ry(e,t,n){var r=/^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||\"00\")),n+r[0].length):-1}function iy(e,t,n){var r=Gg.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ay(e,t,n){var r=Gg.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function oy(e,t,n){var r=Gg.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function sy(e,t,n){var r=Gg.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function uy(e,t,n){var r=Gg.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ly(e,t,n){var r=Gg.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function cy(e,t,n){var r=Gg.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function fy(e,t,n){var r=Gg.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hy(e,t,n){var r=Vg.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function dy(e,t,n){var r=Gg.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function py(e,t,n){var r=Gg.exec(t.slice(n));return r?(e.Q=1e3*+r[0],n+r[0].length):-1}function my(e,t){return qg(e.getDate(),t,2)}function vy(e,t){return qg(e.getHours(),t,2)}function gy(e,t){return qg(e.getHours()%12||12,t,2)}function yy(e,t){return qg(1+Nv.count(tg(e),e),t,3)}function by(e,t){return qg(e.getMilliseconds(),t,3)}function xy(e,t){return by(e,t)+\"000\"}function _y(e,t){return qg(e.getMonth()+1,t,2)}function wy(e,t){return qg(e.getMinutes(),t,2)}function Ey(e,t){return qg(e.getSeconds(),t,2)}function My(e){var t=e.getDay();return 0===t?7:t}function Sy(e,t){return qg(zv.count(tg(e),e),t,2)}function Ty(e,t){var n=e.getDay();return e=n>=4||0===n?Uv(e):Uv.ceil(e),qg(Uv.count(tg(e),e)+(4===tg(e).getDay()),t,2)}function Cy(e){return e.getDay()}function Py(e,t){return qg(Fv.count(tg(e),e),t,2)}function Ay(e,t){return qg(e.getFullYear()%100,t,2)}function ky(e,t){return qg(e.getFullYear()%1e4,t,4)}function Oy(e){var t=e.getTimezoneOffset();return(t>0?\"-\":(t*=-1,\"+\"))+qg(t/60|0,\"0\",2)+qg(t%60,\"0\",2)}function Ly(e,t){return qg(e.getUTCDate(),t,2)}function Ry(e,t){return qg(e.getUTCHours(),t,2)}function Ny(e,t){return qg(e.getUTCHours()%12||12,t,2)}function Iy(e,t){return qg(1+cg.count(Og(e),e),t,3)}function Dy(e,t){return qg(e.getUTCMilliseconds(),t,3)}function zy(e,t){return Dy(e,t)+\"000\"}function Fy(e,t){return qg(e.getUTCMonth()+1,t,2)}function By(e,t){return qg(e.getUTCMinutes(),t,2)}function jy(e,t){return qg(e.getUTCSeconds(),t,2)}function Uy(e){var t=e.getUTCDay();return 0===t?7:t}function Hy(e,t){return qg(dg.count(Og(e),e),t,2)}function Gy(e,t){var n=e.getUTCDay();return e=n>=4||0===n?gg(e):gg.ceil(e),qg(gg.count(Og(e),e)+(4===Og(e).getUTCDay()),t,2)}function Vy(e){return e.getUTCDay()}function Wy(e,t){return qg(pg.count(Og(e),e),t,2)}function qy(e,t){return qg(e.getUTCFullYear()%100,t,2)}function Xy(e,t){return qg(e.getUTCFullYear()%1e4,t,4)}function Yy(){return\"+0000\"}function Qy(){return\"%\"}function Zy(e){return+e}function Jy(e){return Math.floor(+e/1e3)}function $y(e){return zg=Dg(e),Fg=zg.format,Bg=zg.parse,jg=zg.utcFormat,Ug=zg.utcParse,zg}$y({dateTime:\"%x, %X\",date:\"%-m/%-d/%Y\",time:\"%-I:%M:%S %p\",periods:[\"AM\",\"PM\"],days:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],shortDays:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],months:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],shortMonths:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"]});var Ky=Date.prototype.toISOString?function(e){return e.toISOString()}:jg(\"%Y-%m-%dT%H:%M:%S.%LZ\");var eb=+new Date(\"2000-01-01T00:00:00.000Z\")?function(e){var t=new Date(e);return isNaN(t)?null:t}:Ug(\"%Y-%m-%dT%H:%M:%S.%LZ\"),tb=1e3,nb=60*tb,rb=60*nb,ib=24*rb,ab=7*ib,ob=30*ib,sb=365*ib;function ub(e){return new Date(e)}function lb(e){return e instanceof Date?+e:+new Date(+e)}function cb(e,t,n,r,a,o,s,u,l){var c=Gm(Dm,Dm),f=c.invert,h=c.domain,d=l(\".%L\"),p=l(\":%S\"),m=l(\"%I:%M\"),v=l(\"%I %p\"),g=l(\"%a %d\"),y=l(\"%b %d\"),b=l(\"%B\"),x=l(\"%Y\"),_=[[s,1,tb],[s,5,5*tb],[s,15,15*tb],[s,30,30*tb],[o,1,nb],[o,5,5*nb],[o,15,15*nb],[o,30,30*nb],[a,1,rb],[a,3,3*rb],[a,6,6*rb],[a,12,12*rb],[r,1,ib],[r,2,2*ib],[n,1,ab],[t,1,ob],[t,3,3*ob],[e,1,sb]];function w(i){return(s(i)<i?d:o(i)<i?p:a(i)<i?m:r(i)<i?v:t(i)<i?n(i)<i?g:y:e(i)<i?b:x)(i)}function E(t,n,r,a){if(null==t&&(t=10),\"number\"==typeof t){var o=Math.abs(r-n)/t,s=i((function(e){return e[2]})).right(_,o);s===_.length?(a=P(n/sb,r/sb,t),t=e):s?(a=(s=_[o/_[s-1][2]<_[s][2]/o?s-1:s])[1],t=s[0]):(a=Math.max(P(n,r,t),1),t=u)}return null==a?t:t.every(a)}return c.invert=function(e){return new Date(f(e))},c.domain=function(e){return arguments.length?h(Cm.call(e,lb)):h().map(ub)},c.ticks=function(e,t){var n,r=h(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=(n=E(e,i,a,t))?n.range(i,a+1):[],o?n.reverse():n},c.tickFormat=function(e,t){return null==t?w:l(t)},c.nice=function(e,t){var n=h();return(e=E(e,n[0],n[n.length-1],t))?h(Ym(n,e)):c},c.copy=function(){return Um(c,cb(e,t,n,r,a,o,s,u,l))},c}var fb=function(){return Mm.apply(cb(tg,$v,zv,Nv,Ov,Pv,Sv,xv,Fg).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},hb=function(){return Mm.apply(cb(Og,Pg,dg,cg,sg,ig,Sv,xv,jg).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function db(){var e,t,n,r,i,a=0,o=1,s=Dm,u=!1;function l(t){return isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,u?Math.max(0,Math.min(1,t)):t))}return l.domain=function(i){return arguments.length?(e=r(a=+i[0]),t=r(o=+i[1]),n=e===t?0:1/(t-e),l):[a,o]},l.clamp=function(e){return arguments.length?(u=!!e,l):u},l.interpolator=function(e){return arguments.length?(s=e,l):s},l.unknown=function(e){return arguments.length?(i=e,l):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),l}}function pb(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function mb(){var e=Wm(db()(Dm));return e.copy=function(){return pb(e,mb())},Sm.apply(e,arguments)}function vb(){var e=tv(db()).domain([1,10]);return e.copy=function(){return pb(e,vb()).base(e.base())},Sm.apply(e,arguments)}function gb(){var e=av(db());return e.copy=function(){return pb(e,gb()).constant(e.constant())},Sm.apply(e,arguments)}function yb(){var e=cv(db());return e.copy=function(){return pb(e,yb()).exponent(e.exponent())},Sm.apply(e,arguments)}function bb(){return yb.apply(null,arguments).exponent(.5)}function xb(){var e=[],t=Dm;function n(n){if(!isNaN(n=+n))return t((u(e,n)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var i,a=0,o=t.length;a<o;++a)null==(i=t[a])||isNaN(i=+i)||e.push(i);return e.sort(r),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return xb(t).domain(e)},Sm.apply(n,arguments)}function _b(){var e,t,n,r,i,a,o,s=0,u=.5,l=1,c=Dm,f=!1;function h(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(e<t?r:i),c(f?Math.max(0,Math.min(1,e)):e))}return h.domain=function(o){return arguments.length?(e=a(s=+o[0]),t=a(u=+o[1]),n=a(l=+o[2]),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),h):[s,u,l]},h.clamp=function(e){return arguments.length?(f=!!e,h):f},h.interpolator=function(e){return arguments.length?(c=e,h):c},h.unknown=function(e){return arguments.length?(o=e,h):o},function(o){return a=o,e=o(s),t=o(u),n=o(l),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),h}}function wb(){var e=Wm(_b()(Dm));return e.copy=function(){return pb(e,wb())},Sm.apply(e,arguments)}function Eb(){var e=tv(_b()).domain([.1,1,10]);return e.copy=function(){return pb(e,Eb()).base(e.base())},Sm.apply(e,arguments)}function Mb(){var e=av(_b());return e.copy=function(){return pb(e,Mb()).constant(e.constant())},Sm.apply(e,arguments)}function Sb(){var e=cv(_b());return e.copy=function(){return pb(e,Sb()).exponent(e.exponent())},Sm.apply(e,arguments)}function Tb(){return Sb.apply(null,arguments).exponent(.5)}var Cb=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]=\"#\"+e.slice(6*r,6*++r);return n},Pb=Cb(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\"),Ab=Cb(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\"),kb=Cb(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\"),Ob=Cb(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\"),Lb=Cb(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\"),Rb=Cb(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\"),Nb=Cb(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\"),Ib=Cb(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\"),Db=Cb(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\"),zb=Cb(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\"),Fb=function(e){return pr(e[e.length-1])},Bb=new Array(3).concat(\"d8b365f5f5f55ab4ac\",\"a6611adfc27d80cdc1018571\",\"a6611adfc27df5f5f580cdc1018571\",\"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\").map(Cb),jb=Fb(Bb),Ub=new Array(3).concat(\"af8dc3f7f7f77fbf7b\",\"7b3294c2a5cfa6dba0008837\",\"7b3294c2a5cff7f7f7a6dba0008837\",\"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\").map(Cb),Hb=Fb(Ub),Gb=new Array(3).concat(\"e9a3c9f7f7f7a1d76a\",\"d01c8bf1b6dab8e1864dac26\",\"d01c8bf1b6daf7f7f7b8e1864dac26\",\"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\").map(Cb),Vb=Fb(Gb),Wb=new Array(3).concat(\"998ec3f7f7f7f1a340\",\"5e3c99b2abd2fdb863e66101\",\"5e3c99b2abd2f7f7f7fdb863e66101\",\"542788998ec3d8daebfee0b6f1a340b35806\",\"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\").map(Cb),qb=Fb(Wb),Xb=new Array(3).concat(\"ef8a62f7f7f767a9cf\",\"ca0020f4a58292c5de0571b0\",\"ca0020f4a582f7f7f792c5de0571b0\",\"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\").map(Cb),Yb=Fb(Xb),Qb=new Array(3).concat(\"ef8a62ffffff999999\",\"ca0020f4a582bababa404040\",\"ca0020f4a582ffffffbababa404040\",\"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\").map(Cb),Zb=Fb(Qb),Jb=new Array(3).concat(\"fc8d59ffffbf91bfdb\",\"d7191cfdae61abd9e92c7bb6\",\"d7191cfdae61ffffbfabd9e92c7bb6\",\"d73027fc8d59fee090e0f3f891bfdb4575b4\",\"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\").map(Cb),$b=Fb(Jb),Kb=new Array(3).concat(\"fc8d59ffffbf91cf60\",\"d7191cfdae61a6d96a1a9641\",\"d7191cfdae61ffffbfa6d96a1a9641\",\"d73027fc8d59fee08bd9ef8b91cf601a9850\",\"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\").map(Cb),ex=Fb(Kb),tx=new Array(3).concat(\"fc8d59ffffbf99d594\",\"d7191cfdae61abdda42b83ba\",\"d7191cfdae61ffffbfabdda42b83ba\",\"d53e4ffc8d59fee08be6f59899d5943288bd\",\"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\").map(Cb),nx=Fb(tx),rx=new Array(3).concat(\"e5f5f999d8c92ca25f\",\"edf8fbb2e2e266c2a4238b45\",\"edf8fbb2e2e266c2a42ca25f006d2c\",\"edf8fbccece699d8c966c2a42ca25f006d2c\",\"edf8fbccece699d8c966c2a441ae76238b45005824\",\"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\").map(Cb),ix=Fb(rx),ax=new Array(3).concat(\"e0ecf49ebcda8856a7\",\"edf8fbb3cde38c96c688419d\",\"edf8fbb3cde38c96c68856a7810f7c\",\"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\").map(Cb),ox=Fb(ax),sx=new Array(3).concat(\"e0f3dba8ddb543a2ca\",\"f0f9e8bae4bc7bccc42b8cbe\",\"f0f9e8bae4bc7bccc443a2ca0868ac\",\"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\").map(Cb),ux=Fb(sx),lx=new Array(3).concat(\"fee8c8fdbb84e34a33\",\"fef0d9fdcc8afc8d59d7301f\",\"fef0d9fdcc8afc8d59e34a33b30000\",\"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\").map(Cb),cx=Fb(lx),fx=new Array(3).concat(\"ece2f0a6bddb1c9099\",\"f6eff7bdc9e167a9cf02818a\",\"f6eff7bdc9e167a9cf1c9099016c59\",\"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\").map(Cb),hx=Fb(fx),dx=new Array(3).concat(\"ece7f2a6bddb2b8cbe\",\"f1eef6bdc9e174a9cf0570b0\",\"f1eef6bdc9e174a9cf2b8cbe045a8d\",\"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\").map(Cb),px=Fb(dx),mx=new Array(3).concat(\"e7e1efc994c7dd1c77\",\"f1eef6d7b5d8df65b0ce1256\",\"f1eef6d7b5d8df65b0dd1c77980043\",\"f1eef6d4b9dac994c7df65b0dd1c77980043\",\"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\").map(Cb),vx=Fb(mx),gx=new Array(3).concat(\"fde0ddfa9fb5c51b8a\",\"feebe2fbb4b9f768a1ae017e\",\"feebe2fbb4b9f768a1c51b8a7a0177\",\"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\").map(Cb),yx=Fb(gx),bx=new Array(3).concat(\"edf8b17fcdbb2c7fb8\",\"ffffcca1dab441b6c4225ea8\",\"ffffcca1dab441b6c42c7fb8253494\",\"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\").map(Cb),xx=Fb(bx),_x=new Array(3).concat(\"f7fcb9addd8e31a354\",\"ffffccc2e69978c679238443\",\"ffffccc2e69978c67931a354006837\",\"ffffccd9f0a3addd8e78c67931a354006837\",\"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\").map(Cb),wx=Fb(_x),Ex=new Array(3).concat(\"fff7bcfec44fd95f0e\",\"ffffd4fed98efe9929cc4c02\",\"ffffd4fed98efe9929d95f0e993404\",\"ffffd4fee391fec44ffe9929d95f0e993404\",\"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\").map(Cb),Mx=Fb(Ex),Sx=new Array(3).concat(\"ffeda0feb24cf03b20\",\"ffffb2fecc5cfd8d3ce31a1c\",\"ffffb2fecc5cfd8d3cf03b20bd0026\",\"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\").map(Cb),Tx=Fb(Sx),Cx=new Array(3).concat(\"deebf79ecae13182bd\",\"eff3ffbdd7e76baed62171b5\",\"eff3ffbdd7e76baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed63182bd08519c\",\"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\").map(Cb),Px=Fb(Cx),Ax=new Array(3).concat(\"e5f5e0a1d99b31a354\",\"edf8e9bae4b374c476238b45\",\"edf8e9bae4b374c47631a354006d2c\",\"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\").map(Cb),kx=Fb(Ax),Ox=new Array(3).concat(\"f0f0f0bdbdbd636363\",\"f7f7f7cccccc969696525252\",\"f7f7f7cccccc969696636363252525\",\"f7f7f7d9d9d9bdbdbd969696636363252525\",\"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\").map(Cb),Lx=Fb(Ox),Rx=new Array(3).concat(\"efedf5bcbddc756bb1\",\"f2f0f7cbc9e29e9ac86a51a3\",\"f2f0f7cbc9e29e9ac8756bb154278f\",\"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\").map(Cb),Nx=Fb(Rx),Ix=new Array(3).concat(\"fee0d2fc9272de2d26\",\"fee5d9fcae91fb6a4acb181d\",\"fee5d9fcae91fb6a4ade2d26a50f15\",\"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\").map(Cb),Dx=Fb(Ix),zx=new Array(3).concat(\"fee6cefdae6be6550d\",\"feeddefdbe85fd8d3cd94701\",\"feeddefdbe85fd8d3ce6550da63603\",\"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\").map(Cb),Fx=Fb(zx),Bx=function(e){return e=Math.max(0,Math.min(1,e)),\"rgb(\"+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+\", \"+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+\", \"+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+\")\"},jx=Qr(nr(300,.5,0),nr(-240,.5,1)),Ux=Qr(nr(-100,.75,.35),nr(80,1.5,.8)),Hx=Qr(nr(260,.75,.35),nr(80,1.5,.8)),Gx=nr(),Vx=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Gx.h=360*e-100,Gx.s=1.5-1.5*t,Gx.l=.8-.9*t,Gx+\"\"},Wx=yn(),qx=Math.PI/3,Xx=2*Math.PI/3,Yx=function(e){var t;return e=(.5-e)*Math.PI,Wx.r=255*(t=Math.sin(e))*t,Wx.g=255*(t=Math.sin(e+qx))*t,Wx.b=255*(t=Math.sin(e+Xx))*t,Wx+\"\"},Qx=function(e){return e=Math.max(0,Math.min(1,e)),\"rgb(\"+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+\", \"+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+\", \"+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+\")\"};function Zx(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var Jx=Zx(Cb(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\")),$x=Zx(Cb(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\")),Kx=Zx(Cb(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\")),e_=Zx(Cb(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\")),t_=function(e){return function(){return e}},n_=Math.abs,r_=Math.atan2,i_=Math.cos,a_=Math.max,o_=Math.min,s_=Math.sin,u_=Math.sqrt,l_=1e-12,c_=Math.PI,f_=c_/2,h_=2*c_;function d_(e){return e>=1?f_:e<=-1?-f_:Math.asin(e)}function p_(e){return e.innerRadius}function m_(e){return e.outerRadius}function v_(e){return e.startAngle}function g_(e){return e.endAngle}function y_(e){return e&&e.padAngle}function b_(e,t,n,r,i,a,o){var s=e-n,u=t-r,l=(o?a:-a)/u_(s*s+u*u),c=l*u,f=-l*s,h=e+c,d=t+f,p=n+c,m=r+f,v=(h+p)/2,g=(d+m)/2,y=p-h,b=m-d,x=y*y+b*b,_=i-a,w=h*m-p*d,E=(b<0?-1:1)*u_(a_(0,_*_*x-w*w)),M=(w*b-y*E)/x,S=(-w*y-b*E)/x,T=(w*b+y*E)/x,C=(-w*y+b*E)/x,P=M-v,A=S-g,k=T-v,O=C-g;return P*P+A*A>k*k+O*O&&(M=T,S=C),{cx:M,cy:S,x01:-c,y01:-f,x11:M*(i/_-1),y11:S*(i/_-1)}}var x_=function(){var e=p_,t=m_,n=t_(0),r=null,i=v_,a=g_,o=y_,s=null;function u(){var u,l,c,f=+e.apply(this,arguments),h=+t.apply(this,arguments),d=i.apply(this,arguments)-f_,p=a.apply(this,arguments)-f_,m=n_(p-d),v=p>d;if(s||(s=u=jo()),h<f&&(l=h,h=f,f=l),h>l_)if(m>h_-l_)s.moveTo(h*i_(d),h*s_(d)),s.arc(0,0,h,d,p,!v),f>l_&&(s.moveTo(f*i_(p),f*s_(p)),s.arc(0,0,f,p,d,v));else{var g,y,b=d,x=p,_=d,w=p,E=m,M=m,S=o.apply(this,arguments)/2,T=S>l_&&(r?+r.apply(this,arguments):u_(f*f+h*h)),C=o_(n_(h-f)/2,+n.apply(this,arguments)),P=C,A=C;if(T>l_){var k=d_(T/f*s_(S)),O=d_(T/h*s_(S));(E-=2*k)>l_?(_+=k*=v?1:-1,w-=k):(E=0,_=w=(d+p)/2),(M-=2*O)>l_?(b+=O*=v?1:-1,x-=O):(M=0,b=x=(d+p)/2)}var L=h*i_(b),R=h*s_(b),N=f*i_(w),I=f*s_(w);if(C>l_){var D,z=h*i_(x),F=h*s_(x),B=f*i_(_),j=f*s_(_);if(m<c_&&(D=function(e,t,n,r,i,a,o,s){var u=n-e,l=r-t,c=o-i,f=s-a,h=f*u-c*l;if(!(h*h<l_))return[e+(h=(c*(t-a)-f*(e-i))/h)*u,t+h*l]}(L,R,B,j,z,F,N,I))){var U=L-D[0],H=R-D[1],G=z-D[0],V=F-D[1],W=1/s_(((c=(U*G+H*V)/(u_(U*U+H*H)*u_(G*G+V*V)))>1?0:c<-1?c_:Math.acos(c))/2),q=u_(D[0]*D[0]+D[1]*D[1]);P=o_(C,(f-q)/(W-1)),A=o_(C,(h-q)/(W+1))}}M>l_?A>l_?(g=b_(B,j,L,R,h,A,v),y=b_(z,F,N,I,h,A,v),s.moveTo(g.cx+g.x01,g.cy+g.y01),A<C?s.arc(g.cx,g.cy,A,r_(g.y01,g.x01),r_(y.y01,y.x01),!v):(s.arc(g.cx,g.cy,A,r_(g.y01,g.x01),r_(g.y11,g.x11),!v),s.arc(0,0,h,r_(g.cy+g.y11,g.cx+g.x11),r_(y.cy+y.y11,y.cx+y.x11),!v),s.arc(y.cx,y.cy,A,r_(y.y11,y.x11),r_(y.y01,y.x01),!v))):(s.moveTo(L,R),s.arc(0,0,h,b,x,!v)):s.moveTo(L,R),f>l_&&E>l_?P>l_?(g=b_(N,I,z,F,f,-P,v),y=b_(L,R,B,j,f,-P,v),s.lineTo(g.cx+g.x01,g.cy+g.y01),P<C?s.arc(g.cx,g.cy,P,r_(g.y01,g.x01),r_(y.y01,y.x01),!v):(s.arc(g.cx,g.cy,P,r_(g.y01,g.x01),r_(g.y11,g.x11),!v),s.arc(0,0,f,r_(g.cy+g.y11,g.cx+g.x11),r_(y.cy+y.y11,y.cx+y.x11),v),s.arc(y.cx,y.cy,P,r_(y.y11,y.x11),r_(y.y01,y.x01),!v))):s.arc(0,0,f,w,_,v):s.lineTo(N,I)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+\"\"||null}return u.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-c_/2;return[i_(r)*n,s_(r)*n]},u.innerRadius=function(t){return arguments.length?(e=\"function\"==typeof t?t:t_(+t),u):e},u.outerRadius=function(e){return arguments.length?(t=\"function\"==typeof e?e:t_(+e),u):t},u.cornerRadius=function(e){return arguments.length?(n=\"function\"==typeof e?e:t_(+e),u):n},u.padRadius=function(e){return arguments.length?(r=null==e?null:\"function\"==typeof e?e:t_(+e),u):r},u.startAngle=function(e){return arguments.length?(i=\"function\"==typeof e?e:t_(+e),u):i},u.endAngle=function(e){return arguments.length?(a=\"function\"==typeof e?e:t_(+e),u):a},u.padAngle=function(e){return arguments.length?(o=\"function\"==typeof e?e:t_(+e),u):o},u.context=function(e){return arguments.length?(s=null==e?null:e,u):s},u};function __(e){this._context=e}__.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var w_=function(e){return new __(e)};function E_(e){return e[0]}function M_(e){return e[1]}var S_=function(){var e=E_,t=M_,n=t_(!0),r=null,i=w_,a=null;function o(o){var s,u,l,c=o.length,f=!1;for(null==r&&(a=i(l=jo())),s=0;s<=c;++s)!(s<c&&n(u=o[s],s,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(u,s,o),+t(u,s,o));if(l)return a=null,l+\"\"||null}return o.x=function(t){return arguments.length?(e=\"function\"==typeof t?t:t_(+t),o):e},o.y=function(e){return arguments.length?(t=\"function\"==typeof e?e:t_(+e),o):t},o.defined=function(e){return arguments.length?(n=\"function\"==typeof e?e:t_(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o},T_=function(){var e=E_,t=null,n=t_(0),r=M_,i=t_(!0),a=null,o=w_,s=null;function u(u){var l,c,f,h,d,p=u.length,m=!1,v=new Array(p),g=new Array(p);for(null==a&&(s=o(d=jo())),l=0;l<=p;++l){if(!(l<p&&i(h=u[l],l,u))===m)if(m=!m)c=l,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=l-1;f>=c;--f)s.point(v[f],g[f]);s.lineEnd(),s.areaEnd()}m&&(v[l]=+e(h,l,u),g[l]=+n(h,l,u),s.point(t?+t(h,l,u):v[l],r?+r(h,l,u):g[l]))}if(d)return s=null,d+\"\"||null}function l(){return S_().defined(i).curve(o).context(a)}return u.x=function(n){return arguments.length?(e=\"function\"==typeof n?n:t_(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e=\"function\"==typeof t?t:t_(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:\"function\"==typeof e?e:t_(+e),u):t},u.y=function(e){return arguments.length?(n=\"function\"==typeof e?e:t_(+e),r=null,u):n},u.y0=function(e){return arguments.length?(n=\"function\"==typeof e?e:t_(+e),u):n},u.y1=function(e){return arguments.length?(r=null==e?null:\"function\"==typeof e?e:t_(+e),u):r},u.lineX0=u.lineY0=function(){return l().x(e).y(n)},u.lineY1=function(){return l().x(e).y(r)},u.lineX1=function(){return l().x(t).y(n)},u.defined=function(e){return arguments.length?(i=\"function\"==typeof e?e:t_(!!e),u):i},u.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),u):o},u.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),u):a},u},C_=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},P_=function(e){return e},A_=function(){var e=P_,t=C_,n=null,r=t_(0),i=t_(h_),a=t_(0);function o(o){var s,u,l,c,f,h=o.length,d=0,p=new Array(h),m=new Array(h),v=+r.apply(this,arguments),g=Math.min(h_,Math.max(-h_,i.apply(this,arguments)-v)),y=Math.min(Math.abs(g)/h,a.apply(this,arguments)),b=y*(g<0?-1:1);for(s=0;s<h;++s)(f=m[p[s]=s]=+e(o[s],s,o))>0&&(d+=f);for(null!=t?p.sort((function(e,n){return t(m[e],m[n])})):null!=n&&p.sort((function(e,t){return n(o[e],o[t])})),s=0,l=d?(g-h*b)/d:0;s<h;++s,v=c)u=p[s],c=v+((f=m[u])>0?f*l:0)+b,m[u]={data:o[u],index:s,value:f,startAngle:v,endAngle:c,padAngle:y};return m}return o.value=function(t){return arguments.length?(e=\"function\"==typeof t?t:t_(+t),o):e},o.sortValues=function(e){return arguments.length?(t=e,n=null,o):t},o.sort=function(e){return arguments.length?(n=e,t=null,o):n},o.startAngle=function(e){return arguments.length?(r=\"function\"==typeof e?e:t_(+e),o):r},o.endAngle=function(e){return arguments.length?(i=\"function\"==typeof e?e:t_(+e),o):i},o.padAngle=function(e){return arguments.length?(a=\"function\"==typeof e?e:t_(+e),o):a},o},k_=L_(w_);function O_(e){this._curve=e}function L_(e){function t(t){return new O_(e(t))}return t._curve=e,t}function R_(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(L_(e)):t()._curve},e}O_.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var N_=function(){return R_(S_().curve(k_))},I_=function(){var e=T_().curve(k_),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return R_(n())},delete e.lineX0,e.lineEndAngle=function(){return R_(r())},delete e.lineX1,e.lineInnerRadius=function(){return R_(i())},delete e.lineY0,e.lineOuterRadius=function(){return R_(a())},delete e.lineY1,e.curve=function(e){return arguments.length?t(L_(e)):t()._curve},e},D_=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]},z_=Array.prototype.slice;function F_(e){return e.source}function B_(e){return e.target}function j_(e){var t=F_,n=B_,r=E_,i=M_,a=null;function o(){var o,s=z_.call(arguments),u=t.apply(this,s),l=n.apply(this,s);if(a||(a=o=jo()),e(a,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=l,s)),+i.apply(this,s)),o)return a=null,o+\"\"||null}return o.source=function(e){return arguments.length?(t=e,o):t},o.target=function(e){return arguments.length?(n=e,o):n},o.x=function(e){return arguments.length?(r=\"function\"==typeof e?e:t_(+e),o):r},o.y=function(e){return arguments.length?(i=\"function\"==typeof e?e:t_(+e),o):i},o.context=function(e){return arguments.length?(a=null==e?null:e,o):a},o}function U_(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function H_(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function G_(e,t,n,r,i){var a=D_(t,n),o=D_(t,n=(n+i)/2),s=D_(r,n),u=D_(r,i);e.moveTo(a[0],a[1]),e.bezierCurveTo(o[0],o[1],s[0],s[1],u[0],u[1])}function V_(){return j_(U_)}function W_(){return j_(H_)}function q_(){var e=j_(G_);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var X_={draw:function(e,t){var n=Math.sqrt(t/c_);e.moveTo(n,0),e.arc(0,0,n,0,h_)}},Y_={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Q_=Math.sqrt(1/3),Z_=2*Q_,J_={draw:function(e,t){var n=Math.sqrt(t/Z_),r=n*Q_;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},$_=Math.sin(c_/10)/Math.sin(7*c_/10),K_=Math.sin(h_/10)*$_,ew=-Math.cos(h_/10)*$_,tw={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=K_*n,i=ew*n;e.moveTo(0,-n),e.lineTo(r,i);for(var a=1;a<5;++a){var o=h_*a/5,s=Math.cos(o),u=Math.sin(o);e.lineTo(u*n,-s*n),e.lineTo(s*r-u*i,u*r+s*i)}e.closePath()}},nw={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},rw=Math.sqrt(3),iw={draw:function(e,t){var n=-Math.sqrt(t/(3*rw));e.moveTo(0,2*n),e.lineTo(-rw*n,-n),e.lineTo(rw*n,-n),e.closePath()}},aw=Math.sqrt(3)/2,ow=1/Math.sqrt(12),sw=3*(ow/2+1),uw={draw:function(e,t){var n=Math.sqrt(t/sw),r=n/2,i=n*ow,a=r,o=n*ow+n,s=-a,u=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,u),e.lineTo(-.5*r-aw*i,aw*r+-.5*i),e.lineTo(-.5*a-aw*o,aw*a+-.5*o),e.lineTo(-.5*s-aw*u,aw*s+-.5*u),e.lineTo(-.5*r+aw*i,-.5*i-aw*r),e.lineTo(-.5*a+aw*o,-.5*o-aw*a),e.lineTo(-.5*s+aw*u,-.5*u-aw*s),e.closePath()}},lw=[X_,Y_,J_,nw,tw,iw,uw],cw=function(){var e=t_(X_),t=t_(64),n=null;function r(){var r;if(n||(n=r=jo()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+\"\"||null}return r.type=function(t){return arguments.length?(e=\"function\"==typeof t?t:t_(t),r):e},r.size=function(e){return arguments.length?(t=\"function\"==typeof e?e:t_(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r},fw=function(){};function hw(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function dw(e){this._context=e}dw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hw(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var pw=function(e){return new dw(e)};function mw(e){this._context=e}mw.prototype={areaStart:fw,areaEnd:fw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:hw(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var vw=function(e){return new mw(e)};function gw(e){this._context=e}gw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hw(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var yw=function(e){return new gw(e)};function bw(e,t){this._basis=new dw(e),this._beta=t}bw.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,s=t[n]-a,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(i+r*o),this._beta*t[u]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var xw=function e(t){function n(e){return 1===t?new dw(e):new bw(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function _w(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function ww(e,t){this._context=e,this._k=(1-t)/6}ww.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:_w(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:_w(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ew=function e(t){function n(e){return new ww(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Mw(e,t){this._context=e,this._k=(1-t)/6}Mw.prototype={areaStart:fw,areaEnd:fw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:_w(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Sw=function e(t){function n(e){return new Mw(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Tw(e,t){this._context=e,this._k=(1-t)/6}Tw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_w(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Cw=function e(t){function n(e){return new Tw(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Pw(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>l_){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>l_){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*l+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function Aw(e,t){this._context=e,this._alpha=t}Aw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Pw(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var kw=function e(t){function n(e){return t?new Aw(e,t):new ww(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ow(e,t){this._context=e,this._alpha=t}Ow.prototype={areaStart:fw,areaEnd:fw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Pw(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Lw=function e(t){function n(e){return t?new Ow(e,t):new Mw(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Rw(e,t){this._context=e,this._alpha=t}Rw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pw(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Nw=function e(t){function n(e){return t?new Rw(e,t):new Tw(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Iw(e){this._context=e}Iw.prototype={areaStart:fw,areaEnd:fw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var Dw=function(e){return new Iw(e)};function zw(e){return e<0?-1:1}function Fw(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(zw(a)+zw(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Bw(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function jw(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function Uw(e){this._context=e}function Hw(e){this._context=new Gw(e)}function Gw(e){this._context=e}function Vw(e){return new Uw(e)}function Ww(e){return new Hw(e)}function qw(e){this._context=e}function Xw(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}Uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jw(this,this._t0,Bw(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jw(this,Bw(this,n=Fw(this,e,t)),n);break;default:jw(this,this._t0,n=Fw(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Hw.prototype=Object.create(Uw.prototype)).point=function(e,t){Uw.prototype.point.call(this,t,e)},Gw.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},qw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Xw(e),i=Xw(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Yw=function(e){return new qw(e)};function Qw(e,t){this._context=e,this._t=t}Qw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Zw=function(e){return new Qw(e,.5)};function Jw(e){return new Qw(e,0)}function $w(e){return new Qw(e,1)}var Kw=function(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},eE=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n};function tE(e,t){return e[t]}var nE=function(){var e=t_([]),t=eE,n=Kw,r=tE;function i(i){var a,o,s=e.apply(this,arguments),u=i.length,l=s.length,c=new Array(l);for(a=0;a<l;++a){for(var f,h=s[a],d=c[a]=new Array(u),p=0;p<u;++p)d[p]=f=[0,+r(i[p],h,p,i)],f.data=i[p];d.key=h}for(a=0,o=t(c);a<l;++a)c[o[a]].index=a;return n(c,o),c}return i.keys=function(t){return arguments.length?(e=\"function\"==typeof t?t:t_(z_.call(t)),i):e},i.value=function(e){return arguments.length?(r=\"function\"==typeof e?e:t_(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?eE:\"function\"==typeof e?e:t_(z_.call(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?Kw:e,i):n},i},rE=function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}Kw(e,t)}},iE=function(e,t){if((s=e.length)>0)for(var n,r,i,a,o,s,u=0,l=e[t[0]].length;u<l;++u)for(a=o=0,n=0;n<s;++n)(i=(r=e[t[n]][u])[1]-r[0])>=0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):r[0]=a},aE=function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}Kw(e,t)}},oE=function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,u=0,l=0;s<i;++s){for(var c=e[t[s]],f=c[o][1]||0,h=(f-(c[o-1][1]||0))/2,d=0;d<s;++d){var p=e[t[d]];h+=(p[o][1]||0)-(p[o-1][1]||0)}u+=f,l+=h*f}n[o-1][1]+=n[o-1][0]=a,u&&(a-=l/u)}n[o-1][1]+=n[o-1][0]=a,Kw(e,t)}},sE=function(e){var t=e.map(uE);return eE(e).sort((function(e,n){return t[e]-t[n]}))};function uE(e){for(var t,n=-1,r=0,i=e.length,a=-1/0;++n<i;)(t=+e[n][1])>a&&(a=t,r=n);return r}var lE=function(e){var t=e.map(cE);return eE(e).sort((function(e,n){return t[e]-t[n]}))};function cE(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}var fE=function(e){return lE(e).reverse()},hE=function(e){var t,n,r=e.length,i=e.map(cE),a=sE(e),o=0,s=0,u=[],l=[];for(t=0;t<r;++t)n=a[t],o<s?(o+=i[n],u.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(u)},dE=function(e){return eE(e).reverse()},pE=function(e){return function(){return e}};function mE(e){return e[0]}function vE(e){return e[1]}function gE(){this._=null}function yE(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function bE(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function xE(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function _E(e){for(;e.L;)e=e.L;return e}gE.prototype={constructor:gE,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=_E(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(bE(this,n),n=(e=n).U),n.C=!1,r.C=!0,xE(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(xE(this,n),n=(e=n).U),n.C=!1,r.C=!0,bE(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,a=e.L,o=e.R;if(n=a?o?_E(o):a:o,i?i.L===e?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=e.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,bE(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,xE(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,bE(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,xE(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,bE(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,xE(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};var wE=gE;function EE(e,t,n,r){var i=[null,null],a=XE.push(i)-1;return i.left=e,i.right=t,n&&SE(i,e,t,n),r&&SE(i,t,e,r),WE[e.index].halfedges.push(a),WE[t.index].halfedges.push(a),i}function ME(e,t,n){var r=[t,n];return r.left=e,r}function SE(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function TE(e,t,n,r,i){var a,o=e[0],s=e[1],u=o[0],l=o[1],c=0,f=1,h=s[0]-u,d=s[1]-l;if(a=t-u,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>c&&(c=a)}if(a=r-u,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<f&&(f=a)}if(a=n-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<f&&(f=a)}else if(d>0){if(a>f)return;a>c&&(c=a)}if(a=i-l,d||!(a<0)){if(a/=d,d<0){if(a>f)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<f&&(f=a)}return!(c>0||f<1)||(c>0&&(e[0]=[u+c*h,l+c*d]),f<1&&(e[1]=[u+f*h,l+f*d]),!0)}}}}}function CE(e,t,n,r,i){var a=e[1];if(a)return!0;var o,s,u=e[0],l=e.left,c=e.right,f=l[0],h=l[1],d=c[0],p=c[1],m=(f+d)/2,v=(h+p)/2;if(p===h){if(m<t||m>=r)return;if(f>d){if(u){if(u[1]>=i)return}else u=[m,n];a=[m,i]}else{if(u){if(u[1]<n)return}else u=[m,i];a=[m,n]}}else if(s=v-(o=(f-d)/(p-h))*m,o<-1||o>1)if(f>d){if(u){if(u[1]>=i)return}else u=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/o,i];a=[(n-s)/o,n]}else if(h<p){if(u){if(u[0]>=r)return}else u=[t,o*t+s];a=[r,o*r+s]}else{if(u){if(u[0]<t)return}else u=[r,o*r+s];a=[t,o*t+s]}return e[0]=u,e[1]=a,!0}function PE(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function AE(e,t){return t[+(t.left!==e.site)]}function kE(e,t){return t[+(t.left===e.site)]}var OE,LE=[];function RE(){yE(this),this.x=this.y=this.arc=this.site=this.cy=null}function NE(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i[0],s=i[1],u=r[0]-o,l=r[1]-s,c=a[0]-o,f=a[1]-s,h=2*(u*f-l*c);if(!(h>=-QE)){var d=u*u+l*l,p=c*c+f*f,m=(f*d-l*p)/h,v=(u*p-c*d)/h,g=LE.pop()||new RE;g.arc=e,g.site=i,g.x=m+o,g.y=(g.cy=v+s)+Math.sqrt(m*m+v*v),e.circle=g;for(var y=null,b=qE._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}qE.insert(y,g),y||(OE=g)}}}}function IE(e){var t=e.circle;t&&(t.P||(OE=t.N),qE.remove(t),LE.push(t),yE(t),e.circle=null)}var DE=[];function zE(){yE(this),this.edge=this.site=this.circle=null}function FE(e){var t=DE.pop()||new zE;return t.site=e,t}function BE(e){IE(e),VE.remove(e),DE.push(e),yE(e)}function jE(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],a=e.P,o=e.N,s=[e];BE(e);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<YE&&Math.abs(r-u.circle.cy)<YE;)a=u.P,s.unshift(u),BE(u),u=a;s.unshift(u),IE(u);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<YE&&Math.abs(r-l.circle.cy)<YE;)o=l.N,s.push(l),BE(l),l=o;s.push(l),IE(l);var c,f=s.length;for(c=1;c<f;++c)l=s[c],u=s[c-1],SE(l.edge,u.site,l.site,i);u=s[0],(l=s[f-1]).edge=EE(u.site,l.site,null,i),NE(u),NE(l)}function UE(e){for(var t,n,r,i,a=e[0],o=e[1],s=VE._;s;)if((r=HE(s,o)-a)>YE)s=s.L;else{if(!((i=a-GE(s,o))>YE)){r>-YE?(t=s.P,n=s):i>-YE?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){WE[e.index]={site:e,halfedges:[]}}(e);var u=FE(e);if(VE.insert(t,u),t||n){if(t===n)return IE(t),n=FE(t.site),VE.insert(u,n),u.edge=n.edge=EE(t.site,u.site),NE(t),void NE(n);if(n){IE(t),IE(n);var l=t.site,c=l[0],f=l[1],h=e[0]-c,d=e[1]-f,p=n.site,m=p[0]-c,v=p[1]-f,g=2*(h*v-d*m),y=h*h+d*d,b=m*m+v*v,x=[(v*y-d*b)/g+c,(h*b-m*y)/g+f];SE(n.edge,l,p,x),u.edge=EE(l,e,null,x),n.edge=EE(e,p,null,x),NE(t),NE(n)}else u.edge=EE(t.site,u.site)}}function HE(e,t){var n=e.site,r=n[0],i=n[1],a=i-t;if(!a)return r;var o=e.P;if(!o)return-1/0;var s=(n=o.site)[0],u=n[1],l=u-t;if(!l)return s;var c=s-r,f=1/a-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-a/2)))/f+r:(r+s)/2}function GE(e,t){var n=e.N;if(n)return HE(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var VE,WE,qE,XE,YE=1e-6,QE=1e-12;function ZE(e,t){return t[1]-e[1]||t[0]-e[0]}function JE(e,t){var n,r,i,a=e.sort(ZE).pop();for(XE=[],WE=new Array(e.length),VE=new wE,qE=new wE;;)if(i=OE,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(UE(a),n=a[0],r=a[1]),a=e.pop();else{if(!i)break;jE(i.arc)}if(function(){for(var e,t,n,r,i=0,a=WE.length;i<a;++i)if((e=WE[i])&&(r=(t=e.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=PE(e,XE[t[n]]);for(o.sort((function(e,t){return s[t]-s[e]})),n=0;n<r;++n)s[n]=t[o[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var o=+t[0][0],s=+t[0][1],u=+t[1][0],l=+t[1][1];!function(e,t,n,r){for(var i,a=XE.length;a--;)CE(i=XE[a],e,t,n,r)&&TE(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>YE||Math.abs(i[0][1]-i[1][1])>YE)||delete XE[a]}(o,s,u,l),function(e,t,n,r){var i,a,o,s,u,l,c,f,h,d,p,m,v=WE.length,g=!0;for(i=0;i<v;++i)if(a=WE[i]){for(o=a.site,s=(u=a.halfedges).length;s--;)XE[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)p=(d=kE(a,XE[u[s]]))[0],m=d[1],f=(c=AE(a,XE[u[++s%l]]))[0],h=c[1],(Math.abs(p-f)>YE||Math.abs(m-h)>YE)&&(u.splice(s,0,XE.push(ME(o,d,Math.abs(p-e)<YE&&r-m>YE?[e,Math.abs(f-e)<YE?h:r]:Math.abs(m-r)<YE&&n-p>YE?[Math.abs(h-r)<YE?f:n,r]:Math.abs(p-n)<YE&&m-t>YE?[n,Math.abs(f-n)<YE?h:t]:Math.abs(m-t)<YE&&p-e>YE?[Math.abs(h-t)<YE?f:e,t]:null))-1),++l);l&&(g=!1)}if(g){var y,b,x,_=1/0;for(i=0,g=null;i<v;++i)(a=WE[i])&&(x=(y=(o=a.site)[0]-e)*y+(b=o[1]-t)*b)<_&&(_=x,g=a);if(g){var w=[e,t],E=[e,r],M=[n,r],S=[n,t];g.halfedges.push(XE.push(ME(o=g.site,w,E))-1,XE.push(ME(o,E,M))-1,XE.push(ME(o,M,S))-1,XE.push(ME(o,S,w))-1)}}for(i=0;i<v;++i)(a=WE[i])&&(a.halfedges.length||delete WE[i])}(o,s,u,l)}this.edges=XE,this.cells=WE,VE=qE=XE=WE=null}JE.prototype={constructor:JE,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return AE(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(a=(i=n.halfedges).length)for(var i,a,o,s,u,l,c=n.site,f=-1,h=t[i[a-1]],d=h.left===c?h.right:h.left;++f<a;)o=d,d=(h=t[i[f]]).left===c?h.right:h.left,o&&d&&r<o.index&&r<d.index&&(u=o,l=d,((s=c)[0]-l[0])*(u[1]-s[1])-(s[0]-u[0])*(l[1]-s[1])<0)&&e.push([c.data,o.data,d.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var u=e-i.site[0],l=t-i.site[1],c=u*u+l*l;do{i=a.cells[r=o],o=null,i.halfedges.forEach((function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=e-s[0],l=t-s[1],f=u*u+l*l;f<c&&(c=f,o=s.index)}}))}while(null!==o);return a._found=r,null==n||c<=n*n?i.site:null}};var $E=function(){var e=mE,t=vE,n=null;function r(r){return new JE(r.map((function(n,i){var a=[Math.round(e(n,i,r)/YE)*YE,Math.round(t(n,i,r)/YE)*YE];return a.index=i,a.data=n,a})),n)}return r.polygons=function(e){return r(e).polygons()},r.links=function(e){return r(e).links()},r.triangles=function(e){return r(e).triangles()},r.x=function(t){return arguments.length?(e=\"function\"==typeof t?t:pE(+t),r):e},r.y=function(e){return arguments.length?(t=\"function\"==typeof e?e:pE(+e),r):t},r.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},KE=function(e){return function(){return e}};function eM(e,t,n){this.target=e,this.type=t,this.transform=n}function tM(e,t,n){this.k=e,this.x=t,this.y=n}tM.prototype={constructor:tM,scale:function(e){return 1===e?this:new tM(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new tM(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return\"translate(\"+this.x+\",\"+this.y+\") scale(\"+this.k+\")\"}};var nM=new tM(1,0,0);function rM(e){for(;!e.__zoom;)if(!(e=e.parentNode))return nM;return e.__zoom}function iM(){pt.stopImmediatePropagation()}rM.prototype=tM.prototype;var aM=function(){pt.preventDefault(),pt.stopImmediatePropagation()};function oM(){return!pt.ctrlKey&&!pt.button}function sM(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute(\"viewBox\")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function uM(){return this.__zoom||nM}function lM(){return-pt.deltaY*(1===pt.deltaMode?.05:pt.deltaMode?1:.002)}function cM(){return navigator.maxTouchPoints||\"ontouchstart\"in this}function fM(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}var hM=function(){var e,t,n=oM,r=sM,i=fM,a=lM,o=cM,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],l=250,c=Br,f=me(\"start\",\"zoom\",\"end\"),h=500,d=150,p=0;function m(e){e.property(\"__zoom\",uM).on(\"wheel.zoom\",w).on(\"mousedown.zoom\",E).on(\"dblclick.zoom\",M).filter(o).on(\"touchstart.zoom\",S).on(\"touchmove.zoom\",T).on(\"touchend.zoom touchcancel.zoom\",C).style(\"touch-action\",\"none\").style(\"-webkit-tap-highlight-color\",\"rgba(0,0,0,0)\")}function v(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new tM(t,e.x,e.y)}function g(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new tM(e.k,r,i)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n){e.on(\"start.zoom\",(function(){x(this,arguments).start()})).on(\"interrupt.zoom end.zoom\",(function(){x(this,arguments).end()})).tween(\"zoom\",(function(){var e=this,i=arguments,a=x(e,i),o=r.apply(e,i),s=null==n?y(o):\"function\"==typeof n?n.apply(e,i):n,u=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),l=e.__zoom,f=\"function\"==typeof t?t.apply(e,i):t,h=c(l.invert(s).concat(u/l.k),f.invert(s).concat(u/f.k));return function(e){if(1===e)e=f;else{var t=h(e),n=u/t[2];e=new tM(n,s[0]-t[0]*n,s[1]-t[1]*n)}a.zoom(null,e)}}))}function x(e,t,n){return!n&&e.__zooming||new _(e,t)}function _(e,t){this.that=e,this.args=t,this.active=0,this.extent=r.apply(e,t),this.taps=0}function w(){if(n.apply(this,arguments)){var e=x(this,arguments),t=this.__zoom,r=Math.max(s[0],Math.min(s[1],t.k*Math.pow(2,a.apply(this,arguments)))),o=It(this);if(e.wheel)e.mouse[0][0]===o[0]&&e.mouse[0][1]===o[1]||(e.mouse[1]=t.invert(e.mouse[0]=o)),clearTimeout(e.wheel);else{if(t.k===r)return;e.mouse=[o,t.invert(o)],Li(this),e.start()}aM(),e.wheel=setTimeout((function(){e.wheel=null,e.end()}),d),e.zoom(\"mouse\",i(g(v(t,r),e.mouse[0],e.mouse[1]),e.extent,u))}}function E(){if(!t&&n.apply(this,arguments)){var e=x(this,arguments,!0),r=Pt(pt.view).on(\"mousemove.zoom\",(function(){if(aM(),!e.moved){var t=pt.clientX-o,n=pt.clientY-s;e.moved=t*t+n*n>p}e.zoom(\"mouse\",i(g(e.that.__zoom,e.mouse[0]=It(e.that),e.mouse[1]),e.extent,u))}),!0).on(\"mouseup.zoom\",(function(){r.on(\"mousemove.zoom mouseup.zoom\",null),Ht(pt.view,e.moved),aM(),e.end()}),!0),a=It(this),o=pt.clientX,s=pt.clientY;Ut(pt.view),iM(),e.mouse=[a,this.__zoom.invert(a)],Li(this),e.start()}}function M(){if(n.apply(this,arguments)){var e=this.__zoom,t=It(this),a=e.invert(t),o=e.k*(pt.shiftKey?.5:2),s=i(g(v(e,o),t,a),r.apply(this,arguments),u);aM(),l>0?Pt(this).transition().duration(l).call(b,s,t):Pt(this).call(m.transform,s)}}function S(){if(n.apply(this,arguments)){var t,r,i,a,o=pt.touches,s=o.length,u=x(this,arguments,pt.changedTouches.length===s);for(iM(),r=0;r<s;++r)i=o[r],a=[a=zt(this,o,i.identifier),this.__zoom.invert(a),i.identifier],u.touch0?u.touch1||u.touch0[2]===a[2]||(u.touch1=a,u.taps=0):(u.touch0=a,t=!0,u.taps=1+!!e);e&&(e=clearTimeout(e)),t&&(u.taps<2&&(e=setTimeout((function(){e=null}),h)),Li(this),u.start())}}function T(){if(this.__zooming){var t,n,r,a,o=x(this,arguments),s=pt.changedTouches,l=s.length;for(aM(),e&&(e=clearTimeout(e)),o.taps=0,t=0;t<l;++t)n=s[t],r=zt(this,s,n.identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var c=o.touch0[0],f=o.touch0[1],h=o.touch1[0],d=o.touch1[1],p=(p=h[0]-c[0])*p+(p=h[1]-c[1])*p,m=(m=d[0]-f[0])*m+(m=d[1]-f[1])*m;n=v(n,Math.sqrt(p/m)),r=[(c[0]+h[0])/2,(c[1]+h[1])/2],a=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],a=o.touch0[1]}o.zoom(\"touch\",i(g(n,r,a),o.extent,u))}}function C(){if(this.__zooming){var e,n,r=x(this,arguments),i=pt.changedTouches,a=i.length;for(iM(),t&&clearTimeout(t),t=setTimeout((function(){t=null}),h),e=0;e<a;++e)n=i[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var o=Pt(this).on(\"dblclick.zoom\");o&&o.apply(this,arguments)}}}return m.transform=function(e,t,n){var r=e.selection?e.selection():e;r.property(\"__zoom\",uM),e!==r?b(e,t,n):r.interrupt().each((function(){x(this,arguments).start().zoom(null,\"function\"==typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n){m.scaleTo(e,(function(){var e=this.__zoom.k,n=\"function\"==typeof t?t.apply(this,arguments):t;return e*n}),n)},m.scaleTo=function(e,t,n){m.transform(e,(function(){var e=r.apply(this,arguments),a=this.__zoom,o=null==n?y(e):\"function\"==typeof n?n.apply(this,arguments):n,s=a.invert(o),l=\"function\"==typeof t?t.apply(this,arguments):t;return i(g(v(a,l),o,s),e,u)}),n)},m.translateBy=function(e,t,n){m.transform(e,(function(){return i(this.__zoom.translate(\"function\"==typeof t?t.apply(this,arguments):t,\"function\"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),u)}))},m.translateTo=function(e,t,n,a){m.transform(e,(function(){var e=r.apply(this,arguments),o=this.__zoom,s=null==a?y(e):\"function\"==typeof a?a.apply(this,arguments):a;return i(nM.translate(s[0],s[1]).scale(o.k).translate(\"function\"==typeof t?-t.apply(this,arguments):-t,\"function\"==typeof n?-n.apply(this,arguments):-n),e,u)}),a)},_.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit(\"start\")),this},zoom:function(e,t){return this.mouse&&\"mouse\"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&\"touch\"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&\"touch\"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit(\"zoom\"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit(\"end\")),this},emit:function(e){xt(new eM(m,e,this.that.__zoom),f.apply,f,[e,this.that,this.args])}},m.wheelDelta=function(e){return arguments.length?(a=\"function\"==typeof e?e:KE(+e),m):a},m.filter=function(e){return arguments.length?(n=\"function\"==typeof e?e:KE(!!e),m):n},m.touchable=function(e){return arguments.length?(o=\"function\"==typeof e?e:KE(!!e),m):o},m.extent=function(e){return arguments.length?(r=\"function\"==typeof e?e:KE([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):r},m.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],m):[s[0],s[1]]},m.translateExtent=function(e){return arguments.length?(u[0][0]=+e[0][0],u[1][0]=+e[1][0],u[0][1]=+e[0][1],u[1][1]=+e[1][1],m):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},m.constrain=function(e){return arguments.length?(i=e,m):i},m.duration=function(e){return arguments.length?(l=+e,m):l},m.interpolate=function(e){return arguments.length?(c=e,m):c},m.on=function(){var e=f.on.apply(f,arguments);return e===f?m:e},m.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,m):Math.sqrt(p)},m};n.d(t,\"version\",(function(){return\"5.12.0\"})),n.d(t,\"bisect\",(function(){return u})),n.d(t,\"bisectRight\",(function(){return o})),n.d(t,\"bisectLeft\",(function(){return s})),n.d(t,\"ascending\",(function(){return r})),n.d(t,\"bisector\",(function(){return i})),n.d(t,\"cross\",(function(){return f})),n.d(t,\"descending\",(function(){return h})),n.d(t,\"deviation\",(function(){return m})),n.d(t,\"extent\",(function(){return v})),n.d(t,\"histogram\",(function(){return k})),n.d(t,\"thresholdFreedmanDiaconis\",(function(){return L})),n.d(t,\"thresholdScott\",(function(){return R})),n.d(t,\"thresholdSturges\",(function(){return A})),n.d(t,\"max\",(function(){return N})),n.d(t,\"mean\",(function(){return I})),n.d(t,\"median\",(function(){return D})),n.d(t,\"merge\",(function(){return z})),n.d(t,\"min\",(function(){return F})),n.d(t,\"pairs\",(function(){return l})),n.d(t,\"permute\",(function(){return B})),n.d(t,\"quantile\",(function(){return O})),n.d(t,\"range\",(function(){return w})),n.d(t,\"scan\",(function(){return j})),n.d(t,\"shuffle\",(function(){return U})),n.d(t,\"sum\",(function(){return H})),n.d(t,\"ticks\",(function(){return T})),n.d(t,\"tickIncrement\",(function(){return C})),n.d(t,\"tickStep\",(function(){return P})),n.d(t,\"transpose\",(function(){return G})),n.d(t,\"variance\",(function(){return p})),n.d(t,\"zip\",(function(){return W})),n.d(t,\"axisTop\",(function(){return ae})),n.d(t,\"axisRight\",(function(){return oe})),n.d(t,\"axisBottom\",(function(){return se})),n.d(t,\"axisLeft\",(function(){return ue})),n.d(t,\"brush\",(function(){return Eo})),n.d(t,\"brushX\",(function(){return _o})),n.d(t,\"brushY\",(function(){return wo})),n.d(t,\"brushSelection\",(function(){return xo})),n.d(t,\"chord\",(function(){return Lo})),n.d(t,\"ribbon\",(function(){return qo})),n.d(t,\"nest\",(function(){return Zo})),n.d(t,\"set\",(function(){return is})),n.d(t,\"map\",(function(){return Qo})),n.d(t,\"keys\",(function(){return as})),n.d(t,\"values\",(function(){return os})),n.d(t,\"entries\",(function(){return ss})),n.d(t,\"color\",(function(){return pn})),n.d(t,\"rgb\",(function(){return yn})),n.d(t,\"hsl\",(function(){return Sn})),n.d(t,\"lab\",(function(){return Bn})),n.d(t,\"hcl\",(function(){return Xn})),n.d(t,\"lch\",(function(){return qn})),n.d(t,\"gray\",(function(){return Fn})),n.d(t,\"cubehelix\",(function(){return nr})),n.d(t,\"contours\",(function(){return gs})),n.d(t,\"contourDensity\",(function(){return Es})),n.d(t,\"dispatch\",(function(){return me})),n.d(t,\"drag\",(function(){return Qt})),n.d(t,\"dragDisable\",(function(){return Ut})),n.d(t,\"dragEnable\",(function(){return Ht})),n.d(t,\"dsvFormat\",(function(){return Rs})),n.d(t,\"csvParse\",(function(){return Is})),n.d(t,\"csvParseRows\",(function(){return Ds})),n.d(t,\"csvFormat\",(function(){return zs})),n.d(t,\"csvFormatBody\",(function(){return Fs})),n.d(t,\"csvFormatRows\",(function(){return Bs})),n.d(t,\"tsvParse\",(function(){return Us})),n.d(t,\"tsvParseRows\",(function(){return Hs})),n.d(t,\"tsvFormat\",(function(){return Gs})),n.d(t,\"tsvFormatBody\",(function(){return Vs})),n.d(t,\"tsvFormatRows\",(function(){return Ws})),n.d(t,\"autoType\",(function(){return qs})),n.d(t,\"easeLinear\",(function(){return aa})),n.d(t,\"easeQuad\",(function(){return ua})),n.d(t,\"easeQuadIn\",(function(){return oa})),n.d(t,\"easeQuadOut\",(function(){return sa})),n.d(t,\"easeQuadInOut\",(function(){return ua})),n.d(t,\"easeCubic\",(function(){return fa})),n.d(t,\"easeCubicIn\",(function(){return la})),n.d(t,\"easeCubicOut\",(function(){return ca})),n.d(t,\"easeCubicInOut\",(function(){return fa})),n.d(t,\"easePoly\",(function(){return pa})),n.d(t,\"easePolyIn\",(function(){return ha})),n.d(t,\"easePolyOut\",(function(){return da})),n.d(t,\"easePolyInOut\",(function(){return pa})),n.d(t,\"easeSin\",(function(){return ba})),n.d(t,\"easeSinIn\",(function(){return ga})),n.d(t,\"easeSinOut\",(function(){return ya})),n.d(t,\"easeSinInOut\",(function(){return ba})),n.d(t,\"easeExp\",(function(){return wa})),n.d(t,\"easeExpIn\",(function(){return xa})),n.d(t,\"easeExpOut\",(function(){return _a})),n.d(t,\"easeExpInOut\",(function(){return wa})),n.d(t,\"easeCircle\",(function(){return Sa})),n.d(t,\"easeCircleIn\",(function(){return Ea})),n.d(t,\"easeCircleOut\",(function(){return Ma})),n.d(t,\"easeCircleInOut\",(function(){return Sa})),n.d(t,\"easeBounce\",(function(){return za})),n.d(t,\"easeBounceIn\",(function(){return Da})),n.d(t,\"easeBounceOut\",(function(){return za})),n.d(t,\"easeBounceInOut\",(function(){return Fa})),n.d(t,\"easeBack\",(function(){return Ua})),n.d(t,\"easeBackIn\",(function(){return Ba})),n.d(t,\"easeBackOut\",(function(){return ja})),n.d(t,\"easeBackInOut\",(function(){return Ua})),n.d(t,\"easeElastic\",(function(){return Va})),n.d(t,\"easeElasticIn\",(function(){return Ga})),n.d(t,\"easeElasticOut\",(function(){return Va})),n.d(t,\"easeElasticInOut\",(function(){return Wa})),n.d(t,\"blob\",(function(){return Ys})),n.d(t,\"buffer\",(function(){return Zs})),n.d(t,\"dsv\",(function(){return eu})),n.d(t,\"csv\",(function(){return tu})),n.d(t,\"tsv\",(function(){return nu})),n.d(t,\"image\",(function(){return ru})),n.d(t,\"json\",(function(){return au})),n.d(t,\"text\",(function(){return $s})),n.d(t,\"xml\",(function(){return su})),n.d(t,\"html\",(function(){return uu})),n.d(t,\"svg\",(function(){return lu})),n.d(t,\"forceCenter\",(function(){return cu})),n.d(t,\"forceCollide\",(function(){return Eu})),n.d(t,\"forceLink\",(function(){return Tu})),n.d(t,\"forceManyBody\",(function(){return Lu})),n.d(t,\"forceRadial\",(function(){return Ru})),n.d(t,\"forceSimulation\",(function(){return Ou})),n.d(t,\"forceX\",(function(){return Nu})),n.d(t,\"forceY\",(function(){return Iu})),n.d(t,\"formatDefaultLocale\",(function(){return $u})),n.d(t,\"format\",(function(){return Gu})),n.d(t,\"formatPrefix\",(function(){return Vu})),n.d(t,\"formatLocale\",(function(){return Ju})),n.d(t,\"formatSpecifier\",(function(){return Bu})),n.d(t,\"FormatSpecifier\",(function(){return ju})),n.d(t,\"precisionFixed\",(function(){return Ku})),n.d(t,\"precisionPrefix\",(function(){return el})),n.d(t,\"precisionRound\",(function(){return tl})),n.d(t,\"geoArea\",(function(){return Yl})),n.d(t,\"geoBounds\",(function(){return jc})),n.d(t,\"geoCentroid\",(function(){return $c})),n.d(t,\"geoCircle\",(function(){return cf})),n.d(t,\"geoClipAntimeridian\",(function(){return wf})),n.d(t,\"geoClipCircle\",(function(){return Ef})),n.d(t,\"geoClipExtent\",(function(){return Of})),n.d(t,\"geoClipRectangle\",(function(){return Cf})),n.d(t,\"geoContains\",(function(){return Qf})),n.d(t,\"geoDistance\",(function(){return jf})),n.d(t,\"geoGraticule\",(function(){return $f})),n.d(t,\"geoGraticule10\",(function(){return Kf})),n.d(t,\"geoInterpolate\",(function(){return ih})),n.d(t,\"geoLength\",(function(){return zf})),n.d(t,\"geoPath\",(function(){return nd})),n.d(t,\"geoAlbers\",(function(){return wd})),n.d(t,\"geoAlbersUsa\",(function(){return Ed})),n.d(t,\"geoAzimuthalEqualArea\",(function(){return Cd})),n.d(t,\"geoAzimuthalEqualAreaRaw\",(function(){return Td})),n.d(t,\"geoAzimuthalEquidistant\",(function(){return Ad})),n.d(t,\"geoAzimuthalEquidistantRaw\",(function(){return Pd})),n.d(t,\"geoConicConformal\",(function(){return Id})),n.d(t,\"geoConicConformalRaw\",(function(){return Nd})),n.d(t,\"geoConicEqualArea\",(function(){return _d})),n.d(t,\"geoConicEqualAreaRaw\",(function(){return xd})),n.d(t,\"geoConicEquidistant\",(function(){return Bd})),n.d(t,\"geoConicEquidistantRaw\",(function(){return Fd})),n.d(t,\"geoEqualEarth\",(function(){return qd})),n.d(t,\"geoEqualEarthRaw\",(function(){return Wd})),n.d(t,\"geoEquirectangular\",(function(){return zd})),n.d(t,\"geoEquirectangularRaw\",(function(){return Dd})),n.d(t,\"geoGnomonic\",(function(){return Yd})),n.d(t,\"geoGnomonicRaw\",(function(){return Xd})),n.d(t,\"geoIdentity\",(function(){return Zd})),n.d(t,\"geoProjection\",(function(){return gd})),n.d(t,\"geoProjectionMutator\",(function(){return yd})),n.d(t,\"geoMercator\",(function(){return Od})),n.d(t,\"geoMercatorRaw\",(function(){return kd})),n.d(t,\"geoNaturalEarth1\",(function(){return $d})),n.d(t,\"geoNaturalEarth1Raw\",(function(){return Jd})),n.d(t,\"geoOrthographic\",(function(){return ep})),n.d(t,\"geoOrthographicRaw\",(function(){return Kd})),n.d(t,\"geoStereographic\",(function(){return np})),n.d(t,\"geoStereographicRaw\",(function(){return tp})),n.d(t,\"geoTransverseMercator\",(function(){return ip})),n.d(t,\"geoTransverseMercatorRaw\",(function(){return rp})),n.d(t,\"geoRotation\",(function(){return sf})),n.d(t,\"geoStream\",(function(){return jl})),n.d(t,\"geoTransform\",(function(){return rd})),n.d(t,\"cluster\",(function(){return up})),n.d(t,\"hierarchy\",(function(){return cp})),n.d(t,\"pack\",(function(){return Ip})),n.d(t,\"packSiblings\",(function(){return Ap})),n.d(t,\"packEnclose\",(function(){return vp})),n.d(t,\"partition\",(function(){return Up})),n.d(t,\"stratify\",(function(){return Xp})),n.d(t,\"tree\",(function(){return em})),n.d(t,\"treemap\",(function(){return am})),n.d(t,\"treemapBinary\",(function(){return om})),n.d(t,\"treemapDice\",(function(){return jp})),n.d(t,\"treemapSlice\",(function(){return tm})),n.d(t,\"treemapSliceDice\",(function(){return sm})),n.d(t,\"treemapSquarify\",(function(){return im})),n.d(t,\"treemapResquarify\",(function(){return um})),n.d(t,\"interpolate\",(function(){return Cr})),n.d(t,\"interpolateArray\",(function(){return vr})),n.d(t,\"interpolateBasis\",(function(){return ar})),n.d(t,\"interpolateBasisClosed\",(function(){return or})),n.d(t,\"interpolateDate\",(function(){return gr})),n.d(t,\"interpolateDiscrete\",(function(){return Pr})),n.d(t,\"interpolateHue\",(function(){return Ar})),n.d(t,\"interpolateNumber\",(function(){return yr})),n.d(t,\"interpolateObject\",(function(){return br})),n.d(t,\"interpolateRound\",(function(){return kr})),n.d(t,\"interpolateString\",(function(){return Tr})),n.d(t,\"interpolateTransformCss\",(function(){return Ir})),n.d(t,\"interpolateTransformSvg\",(function(){return Dr})),n.d(t,\"interpolateZoom\",(function(){return Br})),n.d(t,\"interpolateRgb\",(function(){return hr})),n.d(t,\"interpolateRgbBasis\",(function(){return pr})),n.d(t,\"interpolateRgbBasisClosed\",(function(){return mr})),n.d(t,\"interpolateHsl\",(function(){return Ur})),n.d(t,\"interpolateHslLong\",(function(){return Hr})),n.d(t,\"interpolateLab\",(function(){return Gr})),n.d(t,\"interpolateHcl\",(function(){return Wr})),n.d(t,\"interpolateHclLong\",(function(){return qr})),n.d(t,\"interpolateCubehelix\",(function(){return Yr})),n.d(t,\"interpolateCubehelixLong\",(function(){return Qr})),n.d(t,\"piecewise\",(function(){return Zr})),n.d(t,\"quantize\",(function(){return Kr})),n.d(t,\"path\",(function(){return jo})),n.d(t,\"polygonArea\",(function(){return lm})),n.d(t,\"polygonCentroid\",(function(){return cm})),n.d(t,\"polygonHull\",(function(){return pm})),n.d(t,\"polygonContains\",(function(){return mm})),n.d(t,\"polygonLength\",(function(){return vm})),n.d(t,\"quadtree\",(function(){return gu})),n.d(t,\"randomUniform\",(function(){return ym})),n.d(t,\"randomNormal\",(function(){return bm})),n.d(t,\"randomLogNormal\",(function(){return xm})),n.d(t,\"randomBates\",(function(){return wm})),n.d(t,\"randomIrwinHall\",(function(){return _m})),n.d(t,\"randomExponential\",(function(){return Em})),n.d(t,\"scaleBand\",(function(){return Om})),n.d(t,\"scalePoint\",(function(){return Lm})),n.d(t,\"scaleIdentity\",(function(){return Xm})),n.d(t,\"scaleLinear\",(function(){return qm})),n.d(t,\"scaleLog\",(function(){return nv})),n.d(t,\"scaleSymlog\",(function(){return ov})),n.d(t,\"scaleOrdinal\",(function(){return km})),n.d(t,\"scaleImplicit\",(function(){return Am})),n.d(t,\"scalePow\",(function(){return fv})),n.d(t,\"scaleSqrt\",(function(){return hv})),n.d(t,\"scaleQuantile\",(function(){return dv})),n.d(t,\"scaleQuantize\",(function(){return pv})),n.d(t,\"scaleThreshold\",(function(){return mv})),n.d(t,\"scaleTime\",(function(){return fb})),n.d(t,\"scaleUtc\",(function(){return hb})),n.d(t,\"scaleSequential\",(function(){return mb})),n.d(t,\"scaleSequentialLog\",(function(){return vb})),n.d(t,\"scaleSequentialPow\",(function(){return yb})),n.d(t,\"scaleSequentialSqrt\",(function(){return bb})),n.d(t,\"scaleSequentialSymlog\",(function(){return gb})),n.d(t,\"scaleSequentialQuantile\",(function(){return xb})),n.d(t,\"scaleDiverging\",(function(){return wb})),n.d(t,\"scaleDivergingLog\",(function(){return Eb})),n.d(t,\"scaleDivergingPow\",(function(){return Sb})),n.d(t,\"scaleDivergingSqrt\",(function(){return Tb})),n.d(t,\"scaleDivergingSymlog\",(function(){return Mb})),n.d(t,\"tickFormat\",(function(){return Vm})),n.d(t,\"schemeCategory10\",(function(){return Pb})),n.d(t,\"schemeAccent\",(function(){return Ab})),n.d(t,\"schemeDark2\",(function(){return kb})),n.d(t,\"schemePaired\",(function(){return Ob})),n.d(t,\"schemePastel1\",(function(){return Lb})),n.d(t,\"schemePastel2\",(function(){return Rb})),n.d(t,\"schemeSet1\",(function(){return Nb})),n.d(t,\"schemeSet2\",(function(){return Ib})),n.d(t,\"schemeSet3\",(function(){return Db})),n.d(t,\"schemeTableau10\",(function(){return zb})),n.d(t,\"interpolateBrBG\",(function(){return jb})),n.d(t,\"schemeBrBG\",(function(){return Bb})),n.d(t,\"interpolatePRGn\",(function(){return Hb})),n.d(t,\"schemePRGn\",(function(){return Ub})),n.d(t,\"interpolatePiYG\",(function(){return Vb})),n.d(t,\"schemePiYG\",(function(){return Gb})),n.d(t,\"interpolatePuOr\",(function(){return qb})),n.d(t,\"schemePuOr\",(function(){return Wb})),n.d(t,\"interpolateRdBu\",(function(){return Yb})),n.d(t,\"schemeRdBu\",(function(){return Xb})),n.d(t,\"interpolateRdGy\",(function(){return Zb})),n.d(t,\"schemeRdGy\",(function(){return Qb})),n.d(t,\"interpolateRdYlBu\",(function(){return $b})),n.d(t,\"schemeRdYlBu\",(function(){return Jb})),n.d(t,\"interpolateRdYlGn\",(function(){return ex})),n.d(t,\"schemeRdYlGn\",(function(){return Kb})),n.d(t,\"interpolateSpectral\",(function(){return nx})),n.d(t,\"schemeSpectral\",(function(){return tx})),n.d(t,\"interpolateBuGn\",(function(){return ix})),n.d(t,\"schemeBuGn\",(function(){return rx})),n.d(t,\"interpolateBuPu\",(function(){return ox})),n.d(t,\"schemeBuPu\",(function(){return ax})),n.d(t,\"interpolateGnBu\",(function(){return ux})),n.d(t,\"schemeGnBu\",(function(){return sx})),n.d(t,\"interpolateOrRd\",(function(){return cx})),n.d(t,\"schemeOrRd\",(function(){return lx})),n.d(t,\"interpolatePuBuGn\",(function(){return hx})),n.d(t,\"schemePuBuGn\",(function(){return fx})),n.d(t,\"interpolatePuBu\",(function(){return px})),n.d(t,\"schemePuBu\",(function(){return dx})),n.d(t,\"interpolatePuRd\",(function(){return vx})),n.d(t,\"schemePuRd\",(function(){return mx})),n.d(t,\"interpolateRdPu\",(function(){return yx})),n.d(t,\"schemeRdPu\",(function(){return gx})),n.d(t,\"interpolateYlGnBu\",(function(){return xx})),n.d(t,\"schemeYlGnBu\",(function(){return bx})),n.d(t,\"interpolateYlGn\",(function(){return wx})),n.d(t,\"schemeYlGn\",(function(){return _x})),n.d(t,\"interpolateYlOrBr\",(function(){return Mx})),n.d(t,\"schemeYlOrBr\",(function(){return Ex})),n.d(t,\"interpolateYlOrRd\",(function(){return Tx})),n.d(t,\"schemeYlOrRd\",(function(){return Sx})),n.d(t,\"interpolateBlues\",(function(){return Px})),n.d(t,\"schemeBlues\",(function(){return Cx})),n.d(t,\"interpolateGreens\",(function(){return kx})),n.d(t,\"schemeGreens\",(function(){return Ax})),n.d(t,\"interpolateGreys\",(function(){return Lx})),n.d(t,\"schemeGreys\",(function(){return Ox})),n.d(t,\"interpolatePurples\",(function(){return Nx})),n.d(t,\"schemePurples\",(function(){return Rx})),n.d(t,\"interpolateReds\",(function(){return Dx})),n.d(t,\"schemeReds\",(function(){return Ix})),n.d(t,\"interpolateOranges\",(function(){return Fx})),n.d(t,\"schemeOranges\",(function(){return zx})),n.d(t,\"interpolateCividis\",(function(){return Bx})),n.d(t,\"interpolateCubehelixDefault\",(function(){return jx})),n.d(t,\"interpolateRainbow\",(function(){return Vx})),n.d(t,\"interpolateWarm\",(function(){return Ux})),n.d(t,\"interpolateCool\",(function(){return Hx})),n.d(t,\"interpolateSinebow\",(function(){return Yx})),n.d(t,\"interpolateTurbo\",(function(){return Qx})),n.d(t,\"interpolateViridis\",(function(){return Jx})),n.d(t,\"interpolateMagma\",(function(){return $x})),n.d(t,\"interpolateInferno\",(function(){return Kx})),n.d(t,\"interpolatePlasma\",(function(){return e_})),n.d(t,\"create\",(function(){return At})),n.d(t,\"creator\",(function(){return _e})),n.d(t,\"local\",(function(){return Ot})),n.d(t,\"matcher\",(function(){return Te})),n.d(t,\"mouse\",(function(){return It})),n.d(t,\"namespace\",(function(){return ye})),n.d(t,\"namespaces\",(function(){return ge})),n.d(t,\"clientPoint\",(function(){return Nt})),n.d(t,\"select\",(function(){return Pt})),n.d(t,\"selectAll\",(function(){return Dt})),n.d(t,\"selection\",(function(){return Ct})),n.d(t,\"selector\",(function(){return Ee})),n.d(t,\"selectorAll\",(function(){return Se})),n.d(t,\"style\",(function(){return Ge})),n.d(t,\"touch\",(function(){return zt})),n.d(t,\"touches\",(function(){return Ft})),n.d(t,\"window\",(function(){return Be})),n.d(t,\"event\",(function(){return pt})),n.d(t,\"customEvent\",(function(){return xt})),n.d(t,\"arc\",(function(){return x_})),n.d(t,\"area\",(function(){return T_})),n.d(t,\"line\",(function(){return S_})),n.d(t,\"pie\",(function(){return A_})),n.d(t,\"areaRadial\",(function(){return I_})),n.d(t,\"radialArea\",(function(){return I_})),n.d(t,\"lineRadial\",(function(){return N_})),n.d(t,\"radialLine\",(function(){return N_})),n.d(t,\"pointRadial\",(function(){return D_})),n.d(t,\"linkHorizontal\",(function(){return V_})),n.d(t,\"linkVertical\",(function(){return W_})),n.d(t,\"linkRadial\",(function(){return q_})),n.d(t,\"symbol\",(function(){return cw})),n.d(t,\"symbols\",(function(){return lw})),n.d(t,\"symbolCircle\",(function(){return X_})),n.d(t,\"symbolCross\",(function(){return Y_})),n.d(t,\"symbolDiamond\",(function(){return J_})),n.d(t,\"symbolSquare\",(function(){return nw})),n.d(t,\"symbolStar\",(function(){return tw})),n.d(t,\"symbolTriangle\",(function(){return iw})),n.d(t,\"symbolWye\",(function(){return uw})),n.d(t,\"curveBasisClosed\",(function(){return vw})),n.d(t,\"curveBasisOpen\",(function(){return yw})),n.d(t,\"curveBasis\",(function(){return pw})),n.d(t,\"curveBundle\",(function(){return xw})),n.d(t,\"curveCardinalClosed\",(function(){return Sw})),n.d(t,\"curveCardinalOpen\",(function(){return Cw})),n.d(t,\"curveCardinal\",(function(){return Ew})),n.d(t,\"curveCatmullRomClosed\",(function(){return Lw})),n.d(t,\"curveCatmullRomOpen\",(function(){return Nw})),n.d(t,\"curveCatmullRom\",(function(){return kw})),n.d(t,\"curveLinearClosed\",(function(){return Dw})),n.d(t,\"curveLinear\",(function(){return w_})),n.d(t,\"curveMonotoneX\",(function(){return Vw})),n.d(t,\"curveMonotoneY\",(function(){return Ww})),n.d(t,\"curveNatural\",(function(){return Yw})),n.d(t,\"curveStep\",(function(){return Zw})),n.d(t,\"curveStepAfter\",(function(){return $w})),n.d(t,\"curveStepBefore\",(function(){return Jw})),n.d(t,\"stack\",(function(){return nE})),n.d(t,\"stackOffsetExpand\",(function(){return rE})),n.d(t,\"stackOffsetDiverging\",(function(){return iE})),n.d(t,\"stackOffsetNone\",(function(){return Kw})),n.d(t,\"stackOffsetSilhouette\",(function(){return aE})),n.d(t,\"stackOffsetWiggle\",(function(){return oE})),n.d(t,\"stackOrderAppearance\",(function(){return sE})),n.d(t,\"stackOrderAscending\",(function(){return lE})),n.d(t,\"stackOrderDescending\",(function(){return fE})),n.d(t,\"stackOrderInsideOut\",(function(){return hE})),n.d(t,\"stackOrderNone\",(function(){return eE})),n.d(t,\"stackOrderReverse\",(function(){return dE})),n.d(t,\"timeInterval\",(function(){return yv})),n.d(t,\"timeMillisecond\",(function(){return xv})),n.d(t,\"timeMilliseconds\",(function(){return _v})),n.d(t,\"utcMillisecond\",(function(){return xv})),n.d(t,\"utcMilliseconds\",(function(){return _v})),n.d(t,\"timeSecond\",(function(){return Sv})),n.d(t,\"timeSeconds\",(function(){return Tv})),n.d(t,\"utcSecond\",(function(){return Sv})),n.d(t,\"utcSeconds\",(function(){return Tv})),n.d(t,\"timeMinute\",(function(){return Pv})),n.d(t,\"timeMinutes\",(function(){return Av})),n.d(t,\"timeHour\",(function(){return Ov})),n.d(t,\"timeHours\",(function(){return Lv})),n.d(t,\"timeDay\",(function(){return Nv})),n.d(t,\"timeDays\",(function(){return Iv})),n.d(t,\"timeWeek\",(function(){return zv})),n.d(t,\"timeWeeks\",(function(){return Vv})),n.d(t,\"timeSunday\",(function(){return zv})),n.d(t,\"timeSundays\",(function(){return Vv})),n.d(t,\"timeMonday\",(function(){return Fv})),n.d(t,\"timeMondays\",(function(){return Wv})),n.d(t,\"timeTuesday\",(function(){return Bv})),n.d(t,\"timeTuesdays\",(function(){return qv})),n.d(t,\"timeWednesday\",(function(){return jv})),n.d(t,\"timeWednesdays\",(function(){return Xv})),n.d(t,\"timeThursday\",(function(){return Uv})),n.d(t,\"timeThursdays\",(function(){return Yv})),n.d(t,\"timeFriday\",(function(){return Hv})),n.d(t,\"timeFridays\",(function(){return Qv})),n.d(t,\"timeSaturday\",(function(){return Gv})),n.d(t,\"timeSaturdays\",(function(){return Zv})),n.d(t,\"timeMonth\",(function(){return $v})),n.d(t,\"timeMonths\",(function(){return Kv})),n.d(t,\"timeYear\",(function(){return tg})),n.d(t,\"timeYears\",(function(){return ng})),n.d(t,\"utcMinute\",(function(){return ig})),n.d(t,\"utcMinutes\",(function(){return ag})),n.d(t,\"utcHour\",(function(){return sg})),n.d(t,\"utcHours\",(function(){return ug})),n.d(t,\"utcDay\",(function(){return cg})),n.d(t,\"utcDays\",(function(){return fg})),n.d(t,\"utcWeek\",(function(){return dg})),n.d(t,\"utcWeeks\",(function(){return xg})),n.d(t,\"utcSunday\",(function(){return dg})),n.d(t,\"utcSundays\",(function(){return xg})),n.d(t,\"utcMonday\",(function(){return pg})),n.d(t,\"utcMondays\",(function(){return _g})),n.d(t,\"utcTuesday\",(function(){return mg})),n.d(t,\"utcTuesdays\",(function(){return wg})),n.d(t,\"utcWednesday\",(function(){return vg})),n.d(t,\"utcWednesdays\",(function(){return Eg})),n.d(t,\"utcThursday\",(function(){return gg})),n.d(t,\"utcThursdays\",(function(){return Mg})),n.d(t,\"utcFriday\",(function(){return yg})),n.d(t,\"utcFridays\",(function(){return Sg})),n.d(t,\"utcSaturday\",(function(){return bg})),n.d(t,\"utcSaturdays\",(function(){return Tg})),n.d(t,\"utcMonth\",(function(){return Pg})),n.d(t,\"utcMonths\",(function(){return Ag})),n.d(t,\"utcYear\",(function(){return Og})),n.d(t,\"utcYears\",(function(){return Lg})),n.d(t,\"timeFormatDefaultLocale\",(function(){return $y})),n.d(t,\"timeFormat\",(function(){return Fg})),n.d(t,\"timeParse\",(function(){return Bg})),n.d(t,\"utcFormat\",(function(){return jg})),n.d(t,\"utcParse\",(function(){return Ug})),n.d(t,\"timeFormatLocale\",(function(){return Dg})),n.d(t,\"isoFormat\",(function(){return Ky})),n.d(t,\"isoParse\",(function(){return eb})),n.d(t,\"now\",(function(){return li})),n.d(t,\"timer\",(function(){return hi})),n.d(t,\"timerFlush\",(function(){return di})),n.d(t,\"timeout\",(function(){return gi})),n.d(t,\"interval\",(function(){return yi})),n.d(t,\"transition\",(function(){return na})),n.d(t,\"active\",(function(){return Qa})),n.d(t,\"interrupt\",(function(){return Li})),n.d(t,\"voronoi\",(function(){return $E})),n.d(t,\"zoom\",(function(){return hM})),n.d(t,\"zoomTransform\",(function(){return rM})),n.d(t,\"zoomIdentity\",(function(){return nM}))},function(e,t,n){\"use strict\";var r,i=\"object\"==typeof Reflect?Reflect:null,a=i&&\"function\"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&\"function\"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,a,o,s;if(\"function\"!=typeof n)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof n);if(void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit(\"newListener\",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if(\"function\"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error(\"Possible EventEmitter memory leak detected. \"+o.length+\" \"+String(t)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");u.name=\"MaxListenersExceededWarning\",u.emitter=e,u.type=t,u.count=o.length,s=u,console&&console.warn&&console.warn(s)}return e}function f(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,a(this.listener,this.target,e))}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:\"function\"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):m(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,\"defaultMaxListeners\",{enumerable:!0,get:function(){return u},set:function(e){if(\"number\"!=typeof e||e<0||o(e))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+e+\".\");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if(\"number\"!=typeof e||e<0||o(e))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+e+\".\");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=\"error\"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if(\"function\"==typeof u)a(u,this,t);else{var l=u.length,c=m(u,l);for(n=0;n<l;++n)a(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){if(\"function\"!=typeof t)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof t);return this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if(\"function\"!=typeof t)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(\"function\"!=typeof t)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit(\"removeListener\",e,n.listener||t));else if(\"function\"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)\"removeListener\"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return\"function\"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){var r=n(9).Symbol;e.exports=r},function(e,t,n){var r=n(64),i=n(131),a=n(19);e.exports=function(e){return a(e)?r(e):i(e)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(83),i=n(53);e.exports=function(e,t,n,a){var o=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=a?a(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),o?i(n,l,c):r(n,l,c)}return n}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.updateSource=function(e){a.default.dispatch({type:\"UPDATE_SOURCE\",id:e})},t.updateTarget=function(e){a.default.dispatch({type:\"UPDATE_TARGET\",ids:e})},t.switchSelector=function(){a.default.dispatch({type:\"SWITCH_SELECTOR\"})},t.switchDragSelection=function(){a.default.dispatch({type:\"SWITCH_DRAGSELECTION\"})},t.resetSelection=function(){a.default.dispatch({type:\"RESET_SELECTION\"})},t.selectTimeInterval=function(e,t){a.default.dispatch({type:\"SELECT_TIMEINTERVAL\",id:e,value:t})},t.updateSelectedPeriod=function(e){a.default.dispatch({type:\"UPDATE_SELECTED_PERIOD\",period:e})},t.selectPeriodfromSP=function(e){a.default.dispatch({type:\"SELECT_PERIOD_FROM_SP\",period:e})},t.switchQueryMode=function(e){a.default.dispatch({type:\"SWITCH_QUERY_MODE\",mode:e})};var r,i=n(11),a=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){(function(e){var r=n(9),i=n(129),a=t&&!t.nodeType&&t,o=a&&\"object\"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u}).call(this,n(40)(e))},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(30),i=n(141),a=n(142),o=n(143),s=n(144),u=n(145);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=s,l.prototype.set=u,e.exports=l},function(e,t,n){var r=n(136),i=n(137),a=n(138),o=n(139),s=n(140);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(24);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(16)(Object,\"create\");e.exports=r},function(e,t,n){var r=n(158);e.exports=function(e,t){var n=e.__data__;return r(t)?n[\"string\"==typeof t?\"string\":\"hash\"]:n.map}},function(e,t,n){var r=n(173),i=n(49),a=n(174),o=n(175),s=n(176),u=n(15),l=n(69),c=l(r),f=l(i),h=l(a),d=l(o),p=l(s),m=u;(r&&\"[object DataView]\"!=m(new r(new ArrayBuffer(1)))||i&&\"[object Map]\"!=m(new i)||a&&\"[object Promise]\"!=m(a.resolve())||o&&\"[object Set]\"!=m(new o)||s&&\"[object WeakMap]\"!=m(new s))&&(m=function(e){var t=u(e),n=\"[object Object]\"==t?e.constructor:void 0,r=n?l(n):\"\";if(r)switch(r){case c:return\"[object DataView]\";case f:return\"[object Map]\";case h:return\"[object Promise]\";case d:return\"[object Set]\";case p:return\"[object WeakMap]\"}return t}),e.exports=m},function(e,t,n){var r=n(15),i=n(12),a=\"[object Symbol]\";e.exports=function(e){return\"symbol\"==typeof e||i(e)&&r(e)==a}},function(e,t,n){var r=n(35),i=1/0;e.exports=function(e){if(\"string\"==typeof e||r(e))return e;var t=e+\"\";return\"0\"==t&&1/e==-i?\"-0\":t}},function(e,t,n){var r=n(64),i=n(198),a=n(19);e.exports=function(e){return a(e)?r(e,!0):i(e)}},function(e,t,n){var r=n(62),i=n(66);e.exports=function(e,t){return e&&r(e,i(t))}},function(e,t,n){var r=n(128),i=n(12),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,\"callee\")&&!s.call(e,\"callee\")};e.exports=u},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,\"loaded\",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,\"id\",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&(\"number\"==i||\"symbol\"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(130),i=n(44),a=n(45),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},function(e,t){var n=9007199254740991;e.exports=function(e){return\"number\"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(61),i=t&&!t.nodeType&&t,a=i&&\"object\"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require(\"util\").types;return e||o&&o.binding&&o.binding(\"util\")}catch(e){}}();e.exports=s}).call(this,n(40)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===(\"function\"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(15),i=n(7),a=\"[object AsyncFunction]\",o=\"[object Function]\",s=\"[object GeneratorFunction]\",u=\"[object Proxy]\";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==o||t==s||t==a||t==u}},function(e,t,n){var r=n(65)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(16)(n(9),\"Map\");e.exports=r},function(e,t,n){var r=n(150),i=n(157),a=n(159),o=n(160),s=n(161);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(172),i=n(76),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},function(e,t,n){var r=n(5),i=n(35),a=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,o=/^\\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!(\"number\"!=n&&\"symbol\"!=n&&\"boolean\"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var r=n(84);e.exports=function(e,t,n){\"__proto__\"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(72);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Checkboard=void 0;var r=o(n(0)),i=o(n(1)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(219));function o(e){return e&&e.__esModule?e:{default:e}}var s=t.Checkboard=function(e){var t=e.white,n=e.grey,o=e.size,s=e.renderers,u=e.borderRadius,l=e.boxShadow,c=(0,i.default)({default:{grid:{borderRadius:u,boxShadow:l,absolute:\"0px 0px 0px 0px\",background:\"url(\"+a.get(t,n,o,s.canvas)+\") center left\"}}});return r.default.createElement(\"div\",{style:c.grid})};s.defaultProps={size:8,white:\"transparent\",grey:\"rgba(0,0,0,.08)\",renderers:{}},t.default=s},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.createScatterplots=function(){},t.resetScatterplotsZoom=function(e){a.default.dispatch({type:\"RESET_SCATTERPLOTS\",id:e})},t.moveCurrentLineonTimeSelector=function(e,t){a.default.dispatch({type:\"MOVE_CURRENT_LINE_ON_TIMESELECTOR\",id:e,zpos:t})},t.updateTimeRange=function(e,t){a.default.dispatch({type:\"UPDATE_TIME_RANGE\",id:e,range:t})};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(20));var r,i=n(11),a=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String(\"abc\");if(e[5]=\"de\",\"5\"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t[\"_\"+String.fromCharCode(n)]=n;if(\"0123456789\"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(\"\"))return!1;var r={};return\"abcdefghijklmnopqrst\".split(\"\").forEach((function(e){r[e]=e})),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},r)).join(\"\")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=o(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(21),o=n(11),s=(r=o)&&r.__esModule?r:{default:r};var u=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.menu=\"Visualization\",e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:\"handleActions\",value:function(e){switch(e.type){case\"SELECT_MENU\":this.selectMenu(e.menu)}}},{key:\"selectMenu\",value:function(e){this.menu=e,this.emit(\"selectMenu\",e)}}]),t}(a.EventEmitter));s.default.register(u.handleActions.bind(u)),t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")};t.uploadData=function(e){!function(e){s.default.getDataNum();for(var t=Number($(\"#initialLineVal\").text()),n=[],a=[],u=[],l=function(s){n.push(e[s].name);var l=new FileReader;l.readAsText(e[s]),l.onload=function(){var c=l.result;console.log(\"csv file\");var f=i.csvParse(c,(function(t){return Object.keys(t).forEach((function(e){isNaN(t[e])||(t[e]=Number(t[e]))}),t),t.source=e[s].name,t})).splice(t-2);if(a.push(f),s===e.length-1){for(var v=0;v<a.length;v++)u=u.concat(a[v]);u.sort((function(e,t){return e.JD<t.JD?-1:1}));var g=d(u),y=r(g,2),b=y[0],x=y[1],_=p(h,b),w=m(b);o.default.dispatch({type:\"UPLOAD_DATA\",data:{name:n.join(\"+\"),data:u,spatial:b,meta:_,position:w.position,radius:w.radius,color:w.color,splines:w.spline,lookup:x,merge:!1}})}}},c=0;c<e.length;c++)l(c)}(e)},t.updateDetails=function(e,t){o.default.dispatch({type:\"UPDATE_DETAIL\",id:e,zpos:t})},t.mergeData=function(e){var t=Promise.resolve(),n=[],i=[];t.then((function(){for(var t=0;t<e.length;t++){var a=s.default.getData(e[t]);n=n.concat(a.data.data),i.push(a.name)}var o=i.join(\",\");n.sort((function(e,t){var n=e.JD,r=t.JD;return Math.log10(e.JD)>4&&(n-=245e4),Math.log10(t.JD)>4&&(r-=245e4),n<r?-1:1}));var u=d(n),l=r(u,2),c=l[0],f=l[1],v=p(h,c),g=m(c);return{fileName:o,data:n,spatial:c,lookup:f,meta:v,splines:g}})).then((function(e){o.default.dispatch({type:\"UPLOAD_DATA\",data:{name:e.fileName,data:e.data,spatial:e.spatial,meta:e.meta,position:e.splines.position,radius:e.splines.radius,color:e.splines.color,splines:e.splines.spline,lookup:e.lookup,merge:!0}})}))};var i=c(n(20)),a=c(n(8)),o=l(n(11)),s=l(n(4)),u=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var f={HU:{x:\"Q/I\",y:\"U/I\",z:\"JD\",r_x:\"E_Q/I\",r_y:\"E_U/I\",H:\"V-J\",V:\"Flx(V)\"},AUPolar:{x:\"< q >\",y:\"< u >\",z:\"JD\",r_x:\"rms(q)\",r_y:\"rms(u)\"},AUPhoto:{z:\"JD\",V:\"V\"}},h=[\"x\",\"y\",\"z\",\"r_x\",\"r_y\",\"H\",\"V\"];function d(e){for(var t=[],n={},r=0;r<e.length;r++){t[r]={};var i=e[r][\"Q/I\"]||e[r][\"< q >\"],a=e[r][\"Flx(V)\"]||e[r].V;if(i&&a)for(var o in f.HU)t[r][o]=e[r][f.HU[o]],(!n[o]||n[o].indexOf(f.HU[o])<0)&&(n[o]||(n[o]=[]),n[o].push(f.HU[o]));else if(i)for(var s in f.AUPolar)\"z\"==s?(t[r][s]=e[r][f.AUPolar[s]]-245e4,(!n[s]||n[s].indexOf(f.AUPolar[s])<0)&&(n[s]||(n[s]=[]),n[s].push(f.AUPolar[s]))):(t[r][s]=e[r][f.AUPolar[s]]||0,(!n[s]||n[s].indexOf(f.AUPolar[s])<0)&&(n[s]||(n[s]=[]),n[s].push(f.AUPolar[s])));else if(a)for(var u in f.AUPhoto)\"z\"==u?(t[r][u]=e[r][f.AUPhoto[u]]-245e4,(!n[u]||n[u].indexOf(f.AUPhoto[u])<0)&&(n[u]||(n[u]=[]),n[u].push(f.AUPhoto[u]))):\"V\"===u?(t[r][u]=Math.pow(10,-1*(e[r][f.AUPhoto[u]]+11.758)/2.5),(!n[u]||n[u].indexOf(f.AUPhoto[u])<0)&&(n[u]||(n[u]=[]),n[u].push(f.AUPhoto[u]))):(t[r][u]=e[r][f.AUPhoto[u]]||0,(!n[u]||n[u].indexOf(f.AUPhoto[u])<0)&&(n[u]||(n[u]=[]),n[u].push(f.AUPhoto[u])));t[r].source=e[r].source}return[t,n]}function p(e,t){for(var n={min:{},max:{},mean:{},std:{}},a=function(a){var o=e[a],s=i.extent(t,(function(e){return e[o]})),u=r(s,2);n.min[o]=u[0],n.max[o]=u[1],n.mean[o]=i.mean(t,(function(e){return e[o]})),n.std[o]=i.deviation(t,(function(e){return e[o]}))},o=0;o<e.length;o++)a(o);var s=Math.max(Math.abs(n.mean.x-3*n.std.x),Math.abs(n.mean.x+3*n.std.x)),l=Math.max(Math.abs(n.mean.y-3*n.std.y),Math.abs(n.mean.y+3*n.std.y)),c=Math.max(s,l),f=Math.round(c*Math.pow(10,2-Math.ceil(Math.log10(c))));return n.range=u.default.getGridSize()/(5*Math.ceil(f/5)*Math.pow(10,-(2-Math.ceil(Math.log10(c))))),n}function m(e){var t=[],n=e[0].z,r=[],i=[],o=[];e.forEach((function(e){\"x\"in e&&(r.push(new a.Vector3(e.x,e.y,e.z)),i.push(new a.Vector3(e.r_x,e.r_y,e.z))),\"V\"in e&&o.push(new a.Vector3(e.H,e.V,e.z)),t.push(new a.Vector3(0,0,e.z-n))}));var s={};return s.position=new a.CatmullRomCurve3(r,!1,\"catmullrom\"),s.radius=new a.CatmullRomCurve3(i,!1,\"catmullrom\"),s.color=new a.CatmullRomCurve3(o,!1,\"catmullrom\"),s.line=new a.CatmullRomCurve3(t,!1,\"catmullrom\"),{position:r,radius:i,color:o,spline:s}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=y(n(0)),a=g(n(8)),o=y(n(118)),s=g(n(18)),u=g(n(56)),l=g(n(59)),c=g(n(26)),f=y(n(13)),h=y(n(4)),d=y(n(17)),p=y(n(285)),m=y(n(95)),v=y(n(286));y(n(288));function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(n.id=e.id,n.data=e.data,n.cameraProp=f.default.getCameraProp(e.id),n.tubeNum=16,n.segment=16,n.division=5,n.currentHighlightedPlot=0,n.drag=!1,n.visualQuery=!1,n.dragSelection=!0,n.selector=!0,n.animationPara={flag:!1,dep:0,dst:0,speed:40,now:0},n.raycaster=new a.Raycaster,n.vertex=document.getElementById(\"vertexShader_tube\").textContent,n.fragment=document.getElementById(\"fragmentShader_tube\").textContent,n.lock=!1,n.opacityCurve=f.default.getOpacityCurve(\"Default\"),n.data.merge){n.plotColor=[],n.idNameLookup={};for(var r=n.data.name.split(\",\"),i=0;i<r.length;i++){var o=h.default.getIdFromName(r[i]);n.idNameLookup[r[i]]=i;var s=r[i].split(\"+\");if(s.length>1)for(var u=0;u<s.length;u++)n.idNameLookup[s[u]]=i;n.plotColor.push(f.default.getPlotColor(o))}f.default.setPlotColorbyIdx(n.id,n.plotColor)}else f.default.setPlotColorbyIdx(n.id,(f.default.getInitColorIdx()+n.id)%f.default.getPresetNum()),n.plotColor=f.default.getPlotColor(n.id);return n.state={width:e.width,height:e.height},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"render\",value:function(){var e=this;return this.updateSize(this.props.width,this.props.height),i.default.createElement(\"div\",{style:{position:\"relative\",float:\"left\"}},i.default.createElement(\"div\",{className:\"TimeTubes\",style:{width:this.props.width+\"px\",height:this.props.height+\"px\"},ref:function(t){e.mount=t}}),i.default.createElement(o.default,null))}},{key:\"componentWillMount\",value:function(){var e=this;f.default.on(\"upload\",(function(){e.cameraProp=f.default.getCameraProp(e.id),e.updateCamera()})),f.default.on(\"change\",(function(){e.cameraProp=f.default.getCameraProp(e.id),e.updateCamera()})),f.default.on(\"reset\",(function(){e.cameraProp=f.default.getCameraProp(e.id),0===e.cameraProp.xpos&&0===e.cameraProp.ypos&&50===e.cameraProp.zpos&&e.resetCamera()})),f.default.on(\"switch\",(function(){e.cameraProp=f.default.getCameraProp(e.id),e.switchCamera()})),f.default.on(\"searchTime\",(function(t,n){t===e.id&&e.searchTime(n)})),f.default.on(\"switchGrid\",(function(t,n){t===e.id&&(e.grid.visible=n)})),f.default.on(\"switchLabel\",(function(t,n){t===e.id&&(e.labelGroup.visible=n)})),f.default.on(\"switchAxis\",(function(t,n){t===e.id&&(e.axis.visible=n)})),f.default.on(\"switchPlot\",(function(t,n){t===e.id&&(e.plot.visible=n)})),f.default.on(\"changeBackground\",(function(t,n){t===e.id&&(e.scene.background=new a.Color(Number(n)))})),f.default.on(\"clipTube\",(function(t,n){t===e.id&&(e.renderer.localClippingEnabled=n)})),f.default.on(\"switchShade\",(function(t,n){t===e.id&&(e.tube.material.uniforms.shade.value=n)})),f.default.on(\"changeFar\",(function(t){t===e.id&&(e.cameraProp=f.default.getCameraProp(e.id),e.updateCamera())})),f.default.on(\"updateMinMaxH\",(function(t){t===e.id&&e.setMinMaxH(f.default.getMinMaxH(e.id))})),f.default.on(\"updateMinMaxV\",(function(t){t===e.id&&e.setMinMaxV(f.default.getMinMaxV(e.id))})),f.default.on(\"changePlotColor\",(function(t){if(t===e.id)e.plotColor=f.default.getPlotColor(e.id),e.changePlotsColor();else if(e.data.merge){var n=h.default.getFileName(t);e.data.name.indexOf(n)>=0&&(e.plotColor[e.idNameLookup[n]]=f.default.getPlotColor(t),e.changePlotsColor())}})),f.default.on(\"timeFitting\",(function(t){if(f.default.getChecked(e.id)){var n=f.default.getFocused(e.id)+e.data.spatial[0].z,r=t;n<e.data.spatial[0].z?r=e.data.spatial[0].z:e.data.spatial[e.data.spatial.length-1].z<n&&(r=e.data.spatial[e.data.spatial.length-1].z),e.lock&&f.default.setLock(e.id,r-e.data.spatial[0].z),e.searchTime(r)}})),f.default.on(\"lockControl\",(function(t,n){!n||t.indexOf(e.id)<0?e.lock=!1:(e.lock=!0,e.resetCamera())})),f.default.on(\"synchronizeTubes\",(function(t,n,r,i){if(e.lock&t!==e.id)if(0!==n){var o=e.data.meta.min.z,s=e.data.meta.max.z,u=n+f.default.getLock(e.id)-f.default.getLock(t)+o;o<=u&&u<=s||(u<o?u=o:s<u&&(u=s)),e.searchTime(u)}else r.equals(new a.Vector3(0,0,0))||(e.controls.object.position.set(r.x,r.y,r.z),e.controls.object.rotation.set(i.x,i.y,i.z))})),f.default.on(\"updateZoomTimeTubes\",(function(t){t===e.id&&(e.cameraProp=f.default.getCameraProp(e.id),e.updateCamera())})),f.default.on(\"updateOpacity\",(function(t,n){t===e.id&&(e.opacityCurve=f.default.getOpacityCurve(n),e.updateOpacity(n))})),d.default.on(\"switchQueryMode\",(function(t){var n=d.default.getSource();\"QBE\"===t&&\"default\"!==n&&(e.visualQuery=Number(n)===e.id,e.setQBEView(),e.updateControls(),e.resetSelection())})),d.default.on(\"updateSource\",(function(){var t=d.default.getMode(),n=d.default.getSource();\"QBE\"===t&&\"default\"!==n&&(e.visualQuery=Number(n)===e.id,e.setQBEView(),e.updateControls(),e.resetSelection())})),d.default.on(\"switchDragSelection\",(function(){e.dragSelection=d.default.getDragSelection(),e.updateControls()})),d.default.on(\"resetSelection\",(function(){e.deselectAll()})),d.default.on(\"switchSelector\",(function(){e.selector=d.default.getSelector()})),d.default.on(\"selectTimeInterval\",(function(t,n){\"QBE\"===d.default.getMode()&&Number(t)===e.id&&e.paintSelectedPeriod()})),d.default.on(\"selectPeriodfromSP\",(function(t){var n=d.default.getSource();\"QBE\"===d.default.getMode()&&Number(n)===e.id&&e.paintSelectedPeriod()}))}},{key:\"componentWillUnmount\",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:\"componentDidMount\",value:function(){var e=this.mount.clientWidth,t=this.mount.clientHeight;this.scene=new a.Scene,this.setCameras(e,t),this.renderer=new a.WebGLRenderer,this.renderer.setClearColor(\"#000000\"),this.renderer.setSize(e,t),this.renderer.localClippingEnabled=!0,this.renderer.domElement.id=\"TimeTubes_viewport_\"+this.id,this.renderer.domElement.className=\"TimeTubes_viewport\",this.initQBEView(),this.mount.appendChild(this.renderer.domElement),this.renderScene(),this.start(),this.clippingPlane=new a.Plane(new a.Vector3(0,0,-1),0);var n=new a.DirectionalLight(16777215,.7);n.position.set(-20,40,60),this.scene.add(n);var r=new a.AmbientLight(2697513);this.scene.add(r),this.addControls();var i=document.querySelector(\"#TimeTubes_viewport_\"+this.id),o=this.onMouseWheel(),s=this.onMouseDown(),u=this.onMouseMove(),l=this.onMouseUp(),c=this.onMouseClick();i.addEventListener(\"wheel\",o.bind(this),!1),i.addEventListener(\"mousedown\",s.bind(this),!1),i.addEventListener(\"mousemove\",u.bind(this),!1),i.addEventListener(\"mouseup\",l.bind(this),!1),i.addEventListener(\"click\",c.bind(this),!1),this.tubeGroup=new a.Group,this.scene.add(this.tubeGroup),(new a.TextureLoader).load(\"img/1_256.png\",this.drawTube.bind(this)),this.drawGrid(2*f.default.getGridSize(),10),this.drawLabel(f.default.getGridSize()/this.data.meta.range),this.drawAxis(),this.drawPlot()}},{key:\"start\",value:function(){this.frameId||(this.frameId=requestAnimationFrame(this.animate.bind(this)))}},{key:\"stop\",value:function(){cancelAnimationFrame(this.frameId)}},{key:\"animate\",value:function(){this.renderScene(),this.frameId=window.requestAnimationFrame(this.animate.bind(this))}},{key:\"renderScene\",value:function(){this.renderer&&this.renderer.render(this.scene,this.camera),this.QBERenderer&&this.QBERenderer.render(this.scene,this.QBECamera)}},{key:\"addControls\",value:function(){this.controls=new m.default(this.camera,this.renderer.domElement),this.controls.position0.set(0,0,50),this.controls.screenSpacePanning=!1,this.controls.enableZoom=!1}},{key:\"updateControls\",value:function(){this.visualQuery&&this.dragSelection?this.QBEControls&&(this.QBEControls.enabled=!1):this.QBEControls&&(this.QBEControls.enabled=!0)}},{key:\"onMouseWheel\",value:function(){return function(e){var t=!1,n=this.tubeGroup.position.z,r=this.tubeGroup.position.z+e.deltaY/100;r<0?r=0:r>this.data.spatial[this.data.spatial.length-1].z-this.data.spatial[0].z&&(r=this.data.spatial[this.data.spatial.length-1].z-this.data.spatial[0].z);var i=void 0;for(i=0;i<this.data.spatial.length;i++){var o=this.data.spatial[i].z-this.data.spatial[0].z;if(Math.min(n,r)<o&&o<Math.max(n,r)){r=o,\"x\"in this.data.spatial[i]&&(t=!0);break}}if(r===this.data.spatial[this.data.spatial.length-1].z-this.data.spatial[0].z&&\"x\"in this.data.spatial[this.data.spatial.length-1]&&(t=!0),0===r&&\"x\"in this.data.spatial[0]&&(t=!0),t)if(this.data.merge){for(var c=0,f=0;f<this.data.spatial.length;f++)if(\"x\"in this.data.spatial[f]){if(r===this.data.spatial[f].z-this.data.spatial[0].z){var h=new a.Color(this.plotColor[this.idNameLookup[this.data.spatial[f].source]]);this.changePlotColor(this.currentHighlightedPlot*this.segment,h),this.changePlotColor(c*this.segment,new a.Color(\"red\")),this.currentHighlightedPlot=c}c++}}else for(var d=0;d<this.data.position.length;d++)if(r===this.data.spatial[d].z-this.data.spatial[0].z){var p=new a.Color(\"rgb(127, 255, 212)\");this.changePlotColor(this.currentHighlightedPlot*this.segment,p),this.changePlotColor(d*this.segment,new a.Color(\"red\")),this.currentHighlightedPlot=d}this.tubeGroup.position.z=r,s.updateFocus(this.id,r,t),this.lock&&s.synchronizeTubes(this.id,r,new a.Vector3(0,0,0),new a.Vector3(0,0,0)),u.moveCurrentLineonTimeSelector(this.id,r+this.data.spatial[0].z),l.updateDetails(this.id,r)}.bind(this)}},{key:\"onMouseDown\",value:function(){return function(e){this.drag=!0}}},{key:\"onMouseMove\",value:function(){return function(e){if(this.drag){var t=this.cameraProp;if(t.xpos=this.camera.position.x,t.ypos=this.camera.position.y,t.zpos=this.camera.position.z,this.cameraProp=t,this.lock){var n=new a.Vector3(this.controls.object.rotation._x,this.controls.object.rotation._y,this.controls.object.rotation._z),r=this.controls.object.position;s.synchronizeTubes(this.id,0,r,n)}if(this.visualQuery&&this.dragSelection){var i=this.getIntersectedIndex(e);if(void 0!==i&&this.tube){this.tube.geometry.colorsNeedUpdate=!0,this.tube.geometry.attributes.selected.needsUpdate=!0;var o=Math.floor(Math.min(i.a,i.b,i.c)/this.segment),u=void 0;u=this.selector?1:0;for(var l=0;l<this.segment;l++)this.tube.geometry.attributes.selected.array[o*this.segment+l]=u,this.tube.geometry.attributes.selected.array[(o+1)*this.segment+l]=u;for(var f=this.tube.geometry.attributes.selected.array.length/this.tubeNum,h=this.tube.geometry.attributes.selected.array.indexOf(1)%f,d=this.tube.geometry.attributes.selected.array.lastIndexOf(1)%f,p=h;p<=d;p++)this.tube.geometry.attributes.selected.array[f*(this.tubeNum-1)+p]=1;var m=this.data.meta.min.z,v=Math.floor(h/this.segment)*(1/this.division)+m,g=(Math.floor(d/this.segment)+1)*(1/this.division)+m;c.updateSelectedPeriod([v,g]),this.renderer.render(this.scene,this.camera),this.QBERenderer&&this.QBERenderer.render(this.scene,this.QBECamera)}}}}}},{key:\"onMouseUp\",value:function(){return function(e){this.drag=!1}}},{key:\"onMouseClick\",value:function(){return function(e){if(this.visualQuery&&!this.dragSelection){var t=this.getIntersectedIndex(e),n=void 0,r=void 0;if(void 0!==t&&this.tube){this.tube.geometry.colorsNeedUpdate=!0,this.tube.geometry.attributes.selected.needsUpdate=!0;var i=Math.floor(Math.min(t.a,t.b,t.c)/this.segment),a=(Math.floor(i/this.segment),this.division,this.data.meta.min.z,void 0);a=this.selector?1:0;for(var o=0;o<this.segment;o++)this.tube.geometry.attributes.selected.array[i*this.segment+o]=a,this.tube.geometry.attributes.selected.array[(i+1)*this.segment+o]=a;var u=this.tube.geometry.attributes.selected.array.length/this.tubeNum;n=this.tube.geometry.attributes.selected.array.indexOf(1)%u,r=this.tube.geometry.attributes.selected.array.lastIndexOf(1)%u;for(var l=n;l<=r;l++)this.tube.geometry.attributes.selected.array[u*(this.tubeNum-1)+l]=1;this.renderer.render(this.scene,this.camera),this.QBERenderer&&this.QBERenderer.render(this.scene,this.QBECamera)}if(n>=r)c.updateSelectedPeriod([-1,-1]);else{var f=this.data.meta.min.z,h=Math.floor(n/this.segment)*(1/this.division)+f,d=(Math.floor(r/this.segment)+1)*(1/this.division)+f;c.updateSelectedPeriod([h,d])}}else{for(var p=document.getElementsByClassName(\"TimeTubes_viewport\"),m=0;m<p.length;m++)p[m].style.border=\"none\";var v=document.getElementById(\"TimeTubes_viewport_\"+this.id);v.style.border=\"solid 3px red\",v.style.boxSizing=\"border-box\",s.activateViewport(this.id)}}}},{key:\"getIntersectedIndex\",value:function(e){var t=void 0,n=new a.Vector2;n.x=e.offsetX/this.QBERenderer.domElement.clientWidth*2-1,n.y=-e.offsetY/this.QBERenderer.domElement.clientHeight*2+1,this.raycaster.setFromCamera(n,this.QBECamera);var r=this.raycaster.intersectObject(this.tube);return r.length>0&&(t=r[0].face),t}},{key:\"deselectAll\",value:function(){this.tube.geometry.colorsNeedUpdate=!0,this.tube.geometry.attributes.selected.needsUpdate=!0;for(var e=0;e<this.tube.geometry.attributes.selected.array.length;e++)this.tube.geometry.attributes.selected.array[e]=0;this.renderer.render(this.scene,this.camera),this.QBERenderer&&this.QBERenderer.render(this.scene,this.QBECamera)}},{key:\"resetSelection\",value:function(){this.visualQuery||this.deselectAll()}},{key:\"selectTimeInterval\",value:function(e){this.tube.geometry.colorsNeedUpdate=!0,this.tube.geometry.attributes.selected.needsUpdate=!0;for(var t=this.tube.geometry.attributes.selected.array.length/this.tubeNum,n=this.tubeGroup.position.z,r=(Math.round(n)*this.division+1)*this.segment+t*(this.tubeNum-1),i=0;i<Math.floor(e)*this.division*this.segment;i++)this.tube.geometry.attributes.selected.array[r+i]=1;for(var a=this.tube.geometry.attributes.selected.array.indexOf(1)%t,o=this.tube.geometry.attributes.selected.array.lastIndexOf(1)%t,s=a;s<=o;s++)this.tube.geometry.attributes.selected.array[t*(this.tubeNum-1)+s]=1;var u=this.data.meta.min.z,l=Math.floor(a/this.segment)*(1/this.division)+u,f=(Math.floor(o/this.segment)+1)*(1/this.division)+u;c.updateSelectedPeriod([l,f]),this.renderer.render(this.scene,this.camera),this.QBERenderer&&this.QBERenderer.render(this.scene,this.QBECamera)}},{key:\"paintSelectedPeriod\",value:function(){this.deselectAll();var e=d.default.getSelectedPeriod(),t=this.data.meta.min.z,n=this.tube.geometry.attributes.selected.array.length/this.tubeNum,r=Math.ceil(e[0]-t)*this.division*this.segment,i=Math.ceil(e[1]-t)*this.division*this.segment;this.tube.geometry.colorsNeedUpdate=!0,this.tube.geometry.attributes.selected.needsUpdate=!0;for(var a=r;a<i;a++)this.tube.geometry.attributes.selected.array[n*(this.tubeNum-1)+a]=1;this.renderer.render(this.scene,this.camera),this.QBERenderer&&this.QBERenderer.render(this.scene,this.QBECamera)}},{key:\"changePlotColor\",value:function(e,t){for(var n=0;n<this.segment;n++)this.plot.geometry.attributes.color.needsUpdate=!0,this.plot.geometry.attributes.color.setXYZ(e+n,t.r,t.g,t.b)}},{key:\"setCameras\",value:function(e,t){var n=Math.ceil(this.data.spatial[this.data.spatial.length-1].z-this.data.spatial[0].z)+50,r=2*Math.tan(22.5*Math.PI/180),i=e/t;this.cameraSet={},this.cameraSet.perspective=new a.PerspectiveCamera(45,i,.1,n);var o=50*r,u=50*r*i;this.cameraSet.orthographic=new a.OrthographicCamera(-u/2,u/2,o/2,-o/2,.1,n),s.updateCamera(this.id,{xpos:0,ypos:0,zpos:50,fov:45,far:n,depth:r,aspect:i,zoom:1,type:\"Perspective\"}),this.camera=this.cameraSet.perspective,this.camera.position.z=50,this.camera.lookAt(this.scene.position),$(\"#farSlider_\"+this.id).slider({min:50,max:n,value:n})}},{key:\"resetCamera\",value:function(){this.camera.position.set(this.cameraProp.xpos,this.cameraProp.ypos,this.cameraProp.zpos),this.camera.zoom=this.cameraProp.zoom,this.controls.reset()}},{key:\"updateCamera\",value:function(){this.camera.position.set(this.cameraProp.xpos,this.cameraProp.ypos,this.cameraProp.zpos),this.camera.fov=this.cameraProp.fov,this.camera.depth=this.cameraProp.depth,this.camera.far=this.cameraProp.far,this.camera.aspect=this.cameraProp.aspect,this.camera.zoom=this.cameraProp.zoom,this.camera.updateProjectionMatrix()}},{key:\"updateSize\",value:function(e,t){this.renderer&&(this.renderer.setSize(e,t),s.updateCamera(this.id,{aspect:e/t}))}},{key:\"switchCamera\",value:function(){var e=this.camera.position;\"Perspective\"===this.cameraProp.type?(this.camera=this.cameraSet.perspective,this.camera.position.x=e.x,this.camera.position.y=e.y,this.camera.position.z=e.z,this.camera.lookAt(this.scene.position)):\"Orthographic\"===this.cameraProp.type&&(this.camera=this.cameraSet.orthographic,this.camera.position.x=e.x,this.camera.position.y=e.y,this.camera.position.z=e.z,this.camera.lookAt(this.scene.position)),this.addControls()}},{key:\"searchTime\",value:function(e){var t=e-this.data.spatial[0].z;isNaN(t)?alert(\"Please input numbers.\"):(this.animationPara.flag=!0,this.animationPara.dep=this.tubeGroup.position.z,this.animationPara.dst=t,this.moveTube())}},{key:\"moveTube\",value:function(){if(this.animationPara.flag){if(this.animationPara.now<this.animationPara.speed){requestAnimationFrame(this.moveTube.bind(this)),this.renderer.render(this.scene,this.camera),this.animationPara.now+=1;var e=(1-Math.cos(Math.PI*this.animationPara.now/this.animationPara.speed))/2;this.tubeGroup.position.z=this.animationPara.dep+(this.animationPara.dst-this.animationPara.dep)*e}this.animationPara.now===this.animationPara.speed&&(l.updateDetails(this.id,this.animationPara.dst),s.updateFocus(this.id,this.animationPara.dst,!1),this.animationPara.flag=!1,this.animationPara.now=0,this.animationPara.dep=0,this.animationPara.dst=0)}else this.animationPara.flag=!1,this.animationPara.dst=0}},{key:\"setMinMaxH\",value:function(e){this.tube.material.uniforms.minmaxH.value=new a.Vector2(e[0],e[1])}},{key:\"setMinMaxV\",value:function(e){this.tube.material.uniforms.minmaxV.value=new a.Vector2(e[0],e[1])}},{key:\"changePlotsColor\",value:function(){if(this.data.merge){for(var e=[],t=[],n=0;n<this.plotColor.length;n++)t.push(new a.Color(this.plotColor[n]));Array(this.data.position.length*this.segment*2),Math.PI,this.segment,this.data.meta.range;for(var r=0;r<this.data.spatial.length;r++)if(\"x\"in this.data.spatial[r])for(var i=this.data.spatial[r].source,o=t[this.idNameLookup[i]],s=0;s<this.segment;s++)e.push(o.r),e.push(o.g),e.push(o.b);this.plot.geometry.addAttribute(\"color\",new a.Float32BufferAttribute(e,3))}else this.plot.material.color.set(this.plotColor)}},{key:\"updateOpacity\",value:function(e){this.tube.geometry.colorsNeedUpdate=!0,this.tube.geometry.attributes.colorData.needsUpdate=!0;var t=this.opacityCurve.getSpacedPoints(this.tubeNum),n=[];if(\"Flat\"===e)for(var r=1;r<=this.tubeNum;r++)n.push(1);else for(var i=1;i<=this.tubeNum;i++)n.push(1-(1-t[i-1].y)/(1-t[i].y));for(var a=this.tube.geometry.attributes.colorData.array.length/(3*this.segment*this.tubeNum),o=0;o<this.tubeNum;o++)for(var s=0;s<a*this.segment;s++)this.tube.geometry.attributes.colorData.array[a*this.segment*3*o+3*s+2]=n[o];this.renderer.render(this.scene,this.camera)}},{key:\"drawTube\",value:function(e){s.updateTexture(this.id,e),this.texture=e;for(var t=this.data.spatial[0].z,n=this.data.spatial[this.data.spatial.length-1].z,r=this.data.meta.range,i=(n-t)/(this.division*Math.ceil(n-t)),o=Math.ceil((this.data.splines.position.getPoint(1).z-this.data.splines.position.getPoint(0).z)/i),u=Math.ceil((this.data.splines.color.getPoint(1).z-this.data.splines.color.getPoint(0).z)/i),l=this.data.splines.position.getSpacedPoints(o),c=this.data.splines.radius.getSpacedPoints(o),f=this.data.splines.color.getSpacedPoints(u),h=Math.ceil((this.data.splines.color.getPoint(0).z-this.data.splines.position.getPoint(0).z)/i),d=2*Math.PI/(this.segment-1),m=[],v=[],g=0;g<this.tubeNum;g++)m[g]=[],v[g]=[];for(var y,b=[],x=0,_=0,w=(this.data.meta.min.H,this.data.meta.max.H,this.data.meta.min.V,this.data.meta.max.V,this.opacityCurve.getSpacedPoints(this.tubeNum)),E=[],M=1;M<=this.tubeNum;M++)E.push(1-(1-w[M-1].y)/(1-w[M].y));for(var S=0;S<=o;S++){x=0,_=0,h<S&&S-h<u&&(x=f[S-h].x,_=f[S-h].y);for(var T=0;T<this.segment;T++){for(var C=0;C<this.tubeNum;C++){var P=1/this.tubeNum*(C+1),A=d*T;m[C].push(-1*(l[S].x*r+P*c[S].x*r*Math.cos(A))),m[C].push(l[S].y*r+P*c[S].y*r*Math.sin(A)),m[C].push(l[S].z-t),v[C].push(x),v[C].push(_),v[C].push(E[C])}T!==this.segment-1&&(b.push(T+S*this.segment),b.push(T+this.segment+S*this.segment),b.push(T+1+S*this.segment),b.push(T+this.segment+S*this.segment),b.push(T+1+this.segment+S*this.segment),b.push(T+1+S*this.segment))}}b=b.slice(0,-1*this.segment*3*2),y=new Float32Array(m[0].length/3);for(var k=new Float32Array(m[0].length),O=[],L=0;L<this.tubeNum;L++){var R=new a.BufferGeometry;R.addAttribute(\"position\",new a.BufferAttribute(new Float32Array(m[L]),3)),R.addAttribute(\"normal\",new a.BufferAttribute(k,3)),R.addAttribute(\"colorData\",new a.BufferAttribute(new Float32Array(v[L]),3)),R.addAttribute(\"selected\",new a.BufferAttribute(new Float32Array(y),1)),R.setIndex(new a.BufferAttribute(new Uint32Array(b),1)),R.computeVertexNormals(),O.push(R)}var N=p.default.mergeBufferGeometries(O),I=new a.ShaderMaterial({vertexShader:this.vertex,fragmentShader:this.fragment,uniforms:{lightPosition:{value:new a.Vector3(-20,40,60)},shade:{value:!0},texture:{value:this.texture},minmaxH:{value:new a.Vector2(this.data.meta.min.H,this.data.meta.max.H)},minmaxV:{value:new a.Vector2(this.data.meta.min.V,this.data.meta.max.V)}},side:a.DoubleSide,transparent:!0,clipping:!0,clippingPlanes:[this.clippingPlane]});this.tube=new a.Mesh(N,I),this.tubeGroup.add(this.tube),this.tube.rotateY(Math.PI),s.updateMinMaxH(this.id,this.data.meta.min.H,this.data.meta.max.H),s.updateMinMaxV(this.id,this.data.meta.min.V,this.data.meta.max.V);var D=m[this.tubeNum-1],z=v[this.tubeNum-1],F=b;s.uploadTubeAttributes(this.id,D,z,F)}},{key:\"drawGrid\",value:function(e,t){this.grid=new a.GridHelper(e,t,\"white\",\"limegreen\"),this.grid.rotateX(Math.PI/2),this.scene.add(this.grid)}},{key:\"drawLabel\",value:function(e){var t=f.default.getGridSize();this.labelGroup=new a.Group,this.scene.add(this.labelGroup);for(var n=[[1,1],[-1,1],[-1,-1],[1,-1]],r=0;r<n.length;r++){var i=new v.default({material:{color:16777215},redrawInterval:250,textSize:.8,texture:{fontFamily:\"Arial, Helvetica, sans-serif\",text:\"(\"+n[r][0]*e+\", \"+n[r][1]*e+\")\"}});this.labelGroup.add(i),i.position.set(n[r][0]*t,n[r][1]*t,0)}var o=new v.default({material:{color:25600},redrawInterval:250,textSize:1,texture:{fontFamily:\"Arial, Helvetica, sans-serif\",fontStyle:\"italic\",text:\"Q/I\"}}),s=new v.default({material:{color:25600},redrawInterval:250,textSize:1,texture:{fontFamily:\"Arial, Helvetica, sans-serif\",fontStyle:\"italic\",text:\"U/I\"}});this.labelGroup.add(o),this.labelGroup.add(s),o.position.set(t+1,0,0),s.position.set(0,t+1,0)}},{key:\"drawAxis\",value:function(){for(var e=new a.BufferGeometry,t=new a.LineBasicMaterial({color:\"white\",opacity:.5,clippingPlanes:[this.clippingPlane]}),n=[],r=[],i=0,o=0,s=0;s<this.data.spatial.length;s++)o=this.data.spatial[s].z-this.data.spatial[0].z,n.push(-10),n.push(0),n.push(o),n.push(10),n.push(0),n.push(o),n.push(0),n.push(10),n.push(o),n.push(0),n.push(-10),n.push(o),r.push(i+0),r.push(i+1),r.push(i+2),r.push(i+3),i+=4;e.setIndex(r),e.addAttribute(\"position\",new a.Float32BufferAttribute(n,3)),this.axis=new a.LineSegments(e,t),this.tubeGroup.add(this.axis),this.axis.rotateY(Math.PI)}},{key:\"drawPlot\",value:function(){if(this.data.merge){for(var e=[],t=[],n=[],r=0;r<this.plotColor.length;r++)n.push(new a.Color(this.plotColor[r]));for(var i=Array(this.data.position.length*this.segment*2),o=0,s=2*Math.PI/this.segment,u=this.data.meta.range,l=0;l<this.data.spatial.length;l++)if(\"x\"in this.data.spatial[l]){var c=this.data.spatial[l].z-this.data.spatial[0].z,f=-this.data.spatial[l].x*u,h=this.data.spatial[l].y*u,d=this.data.spatial[l].r_x*u,p=this.data.spatial[l].r_y*u,m=2*this.segment*o,v=this.data.spatial[l].source,g=n[this.idNameLookup[v]];i[m]=o*this.segment,i[m+2*this.segment-1]=o*this.segment;for(var y=0;y<this.segment;y++)e.push(f+d*Math.cos(s*y)),e.push(h+p*Math.sin(s*y)),e.push(c),t.push(g.r),t.push(g.g),t.push(g.b),0!==y&&(i[m+2*(y-1)+1]=o*this.segment+y,i[m+2*(y-1)+2]=o*this.segment+y);o++}var b=new a.BufferGeometry;b.setIndex(i),b.addAttribute(\"position\",new a.Float32BufferAttribute(e,3)),b.addAttribute(\"color\",new a.Float32BufferAttribute(t,3));var x=new a.LineBasicMaterial({vertexColors:a.VertexColors,clippingPlanes:[this.clippingPlane]});this.plot=new a.LineSegments(b,x)}else{for(var _=[],w=[],E=new a.Color(this.plotColor),M=Array(this.data.position.length*this.segment*2),S=2*Math.PI/this.segment,T=this.data.meta.range,C=0;C<this.data.position.length;C++){var P=this.data.position[C].z-this.data.position[0].z,A=-this.data.position[C].x*T,k=this.data.position[C].y*T,O=this.data.radius[C].x*T,L=this.data.radius[C].y*T,R=2*this.segment*C;M[R]=C*this.segment,M[R+2*this.segment-1]=C*this.segment;for(var N=0;N<this.segment;N++)_.push(A+O*Math.cos(S*N)),_.push(k+L*Math.sin(S*N)),_.push(P),w.push(E.r),w.push(E.g),w.push(E.b),0!==N&&(M[R+2*(N-1)+1]=C*this.segment+N,M[R+2*(N-1)+2]=C*this.segment+N)}var I=new a.BufferGeometry;I.setIndex(M),I.addAttribute(\"position\",new a.Float32BufferAttribute(_,3)),I.addAttribute(\"color\",new a.Float32BufferAttribute(w,3));var D=new a.LineBasicMaterial({vertexColors:a.VertexColors,clippingPlanes:[this.clippingPlane]});this.plot=new a.LineSegments(I,D)}this.tubeGroup.add(this.plot),this.plot.rotateY(Math.PI)}},{key:\"initQBEView\",value:function(){this.QBECamera=new a.PerspectiveCamera(45,1,.1,2e3),this.QBECamera.position.z=50,this.QBERenderer=new a.WebGLRenderer,this.QBERenderer.setSize(500,500),this.QBERenderer.setClearColor(\"#000000\"),this.QBERenderer.localClippingEnabled=!0,this.QBERenderer.domElement.id=\"QBE_viewport_\"+this.id,this.QBERenderer.domElement.className=\"TimeTubes_viewport\"}},{key:\"setQBEView\",value:function(){var e=document.getElementById(\"QBE_viewport_\"+this.id);if(this.visualQuery){this.QBECamera.lookAt(this.scene.position),this.QBECamera.far=this.camera.far;var t=$(\"#QBESource\").outerWidth(!0)-2*Number($(\"#QBESource\").css(\"padding-left\").replace(\"px\",\"\"));if(this.QBERenderer.setSize(t,t),null!=e)e.style.display=\"block\";else{var n=document.getElementById(\"QBESourceTT\"),r=this.onMouseWheel(),i=this.onMouseDown(),a=this.onMouseMove(),o=this.onMouseUp(),s=this.onMouseClick();n.appendChild(this.QBERenderer.domElement),n.addEventListener(\"wheel\",r.bind(this),!1),n.addEventListener(\"mousedown\",i.bind(this),!1),n.addEventListener(\"mousemove\",a.bind(this),!1),n.addEventListener(\"mouseup\",o.bind(this),!1),n.addEventListener(\"click\",s.bind(this),!1),this.QBEControls=new m.default(this.QBECamera,this.QBERenderer.domElement),this.QBEControls.position0.set(0,0,50),this.QBEControls.screenSpacePanning=!1,this.QBEControls.enableZoom=!1}}else null!=e&&(e.style.display=\"none\")}}]),t}(i.default.Component);t.default=b},function(e,t,n){(function(t){var n=\"object\"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(123))},function(e,t,n){var r=n(63),i=n(23);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t,n){var r=n(126)();e.exports=r},function(e,t,n){var r=n(127),i=n(39),a=n(5),o=n(27),s=n(41),u=n(42),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),c=!n&&i(e),f=!n&&!c&&o(e),h=!n&&!c&&!f&&u(e),d=n||c||f||h,p=d?r(e.length,String):[],m=p.length;for(var v in e)!t&&!l.call(e,v)||d&&(\"length\"==v||f&&(\"offset\"==v||\"parent\"==v)||h&&(\"buffer\"==v||\"byteLength\"==v||\"byteOffset\"==v)||s(v,m))||p.push(v);return p}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(28);e.exports=function(e){return\"function\"==typeof e?e:r}},function(e,t,n){var r=n(15),i=n(48),a=n(12),o=\"[object Object]\",s=Function.prototype,u=Object.prototype,l=s.toString,c=u.hasOwnProperty,f=l.call(Object);e.exports=function(e){if(!a(e)||r(e)!=o)return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof n&&n instanceof n&&l.call(n)==f}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+\"\"}catch(e){}}return\"\"}},function(e,t,n){var r=n(162),i=n(12);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,a,o,e,s))}},function(e,t,n){var r=n(163),i=n(166),a=n(167),o=1,s=2;e.exports=function(e,t,n,u,l,c){var f=n&o,h=e.length,d=t.length;if(h!=d&&!(f&&d>h))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var m=-1,v=!0,g=n&s?new r:void 0;for(c.set(e,t),c.set(t,e);++m<h;){var y=e[m],b=t[m];if(u)var x=f?u(b,y,m,t,e,c):u(y,b,m,e,t,c);if(void 0!==x){if(x)continue;v=!1;break}if(g){if(!i(t,(function(e,t){if(!a(g,t)&&(y===e||l(y,e,n,u,c)))return g.push(t)}))){v=!1;break}}else if(y!==b&&!l(y,b,n,u,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},function(e,t,n){var r=n(9).Uint8Array;e.exports=r},function(e,t,n){var r=n(74),i=n(51),a=n(23);e.exports=function(e){return r(e,a,i)}},function(e,t,n){var r=n(75),i=n(5);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(7);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(80),i=n(36);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},function(e,t,n){var r=n(5),i=n(52),a=n(180),o=n(183);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},function(e,t,n){var r=n(62),i=n(192)(r);e.exports=i},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(53),i=n(24),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(16),i=function(){try{var e=r(Object,\"defineProperty\");return e({},\"\",{}),e}catch(e){}}();e.exports=i},function(e,t,n){(function(e){var r=n(9),i=t&&!t.nodeType&&t,a=i&&\"object\"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(40)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(75),i=n(48),a=n(51),o=n(76),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=i(e);return t}:o;e.exports=s},function(e,t,n){var r=n(54);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(208),i=n(48),a=n(46);e.exports=function(e){return\"function\"!=typeof e.constructor||a(e)?{}:r(i(e))}},function(e,t,n){var r=n(53),i=n(24);e.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){e.exports=function(e,t){if(\"__proto__\"!=t)return e[t]}},function(e,t,n){var r=n(7),i=n(241),a=n(242),o=\"Expected a function\",s=Math.max,u=Math.min;e.exports=function(e,t,n){var l,c,f,h,d,p,m=0,v=!1,g=!1,y=!0;if(\"function\"!=typeof e)throw new TypeError(o);function b(t){var n=l,r=c;return l=c=void 0,m=t,h=e.apply(r,n)}function x(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-m>=f}function _(){var e=i();if(x(e))return w(e);d=setTimeout(_,function(e){var n=t-(e-p);return g?u(n,f-(e-m)):n}(e))}function w(e){return d=void 0,y&&l?b(e):(l=c=void 0,h)}function E(){var e=i(),n=x(e);if(l=arguments,c=this,p=e,n){if(void 0===d)return function(e){return m=e,d=setTimeout(_,t),v?b(e):h}(p);if(g)return d=setTimeout(_,t),b(p)}return void 0===d&&(d=setTimeout(_,t)),h}return t=a(t)||0,r(n)&&(v=!!n.leading,f=(g=\"maxWait\"in n)?s(a(n.maxWait)||0,t):f,y=\"trailing\"in n?!!n.trailing:y),E.cancel=function(){void 0!==d&&clearTimeout(d),m=0,l=p=c=d=void 0},E.flush=function(){return void 0===d?h:w(i())},E}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ColorWrap=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=l(a),s=l(n(92)),u=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(u.default.simpleCheckForValidColor(e)){var r=u.default.toState(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(u.default.simpleCheckForValidColor(e)){var r=u.default.toState(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=r({},u.default.toState(e.color,0)),t.debounce=(0,s.default)((function(e,t,n){e(t,n)}),100),t}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:\"componentWillReceiveProps\",value:function(e){this.setState(r({},u.default.toState(e.color,this.state.oldHue)))}},{key:\"render\",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),o.default.createElement(e,r({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}(a.PureComponent||a.Component);return t.propTypes=r({},e.propTypes),t.defaultProps=r({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=c},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"red\",(function(){return r})),n.d(t,\"pink\",(function(){return i})),n.d(t,\"purple\",(function(){return a})),n.d(t,\"deepPurple\",(function(){return o})),n.d(t,\"indigo\",(function(){return s})),n.d(t,\"blue\",(function(){return u})),n.d(t,\"lightBlue\",(function(){return l})),n.d(t,\"cyan\",(function(){return c})),n.d(t,\"teal\",(function(){return f})),n.d(t,\"green\",(function(){return h})),n.d(t,\"lightGreen\",(function(){return d})),n.d(t,\"lime\",(function(){return p})),n.d(t,\"yellow\",(function(){return m})),n.d(t,\"amber\",(function(){return v})),n.d(t,\"orange\",(function(){return g})),n.d(t,\"deepOrange\",(function(){return y})),n.d(t,\"brown\",(function(){return b})),n.d(t,\"grey\",(function(){return x})),n.d(t,\"blueGrey\",(function(){return _})),n.d(t,\"darkText\",(function(){return w})),n.d(t,\"lightText\",(function(){return E})),n.d(t,\"darkIcons\",(function(){return M})),n.d(t,\"lightIcons\",(function(){return S})),n.d(t,\"white\",(function(){return T})),n.d(t,\"black\",(function(){return C}));var r={50:\"#ffebee\",100:\"#ffcdd2\",200:\"#ef9a9a\",300:\"#e57373\",400:\"#ef5350\",500:\"#f44336\",600:\"#e53935\",700:\"#d32f2f\",800:\"#c62828\",900:\"#b71c1c\",a100:\"#ff8a80\",a200:\"#ff5252\",a400:\"#ff1744\",a700:\"#d50000\"},i={50:\"#fce4ec\",100:\"#f8bbd0\",200:\"#f48fb1\",300:\"#f06292\",400:\"#ec407a\",500:\"#e91e63\",600:\"#d81b60\",700:\"#c2185b\",800:\"#ad1457\",900:\"#880e4f\",a100:\"#ff80ab\",a200:\"#ff4081\",a400:\"#f50057\",a700:\"#c51162\"},a={50:\"#f3e5f5\",100:\"#e1bee7\",200:\"#ce93d8\",300:\"#ba68c8\",400:\"#ab47bc\",500:\"#9c27b0\",600:\"#8e24aa\",700:\"#7b1fa2\",800:\"#6a1b9a\",900:\"#4a148c\",a100:\"#ea80fc\",a200:\"#e040fb\",a400:\"#d500f9\",a700:\"#aa00ff\"},o={50:\"#ede7f6\",100:\"#d1c4e9\",200:\"#b39ddb\",300:\"#9575cd\",400:\"#7e57c2\",500:\"#673ab7\",600:\"#5e35b1\",700:\"#512da8\",800:\"#4527a0\",900:\"#311b92\",a100:\"#b388ff\",a200:\"#7c4dff\",a400:\"#651fff\",a700:\"#6200ea\"},s={50:\"#e8eaf6\",100:\"#c5cae9\",200:\"#9fa8da\",300:\"#7986cb\",400:\"#5c6bc0\",500:\"#3f51b5\",600:\"#3949ab\",700:\"#303f9f\",800:\"#283593\",900:\"#1a237e\",a100:\"#8c9eff\",a200:\"#536dfe\",a400:\"#3d5afe\",a700:\"#304ffe\"},u={50:\"#e3f2fd\",100:\"#bbdefb\",200:\"#90caf9\",300:\"#64b5f6\",400:\"#42a5f5\",500:\"#2196f3\",600:\"#1e88e5\",700:\"#1976d2\",800:\"#1565c0\",900:\"#0d47a1\",a100:\"#82b1ff\",a200:\"#448aff\",a400:\"#2979ff\",a700:\"#2962ff\"},l={50:\"#e1f5fe\",100:\"#b3e5fc\",200:\"#81d4fa\",300:\"#4fc3f7\",400:\"#29b6f6\",500:\"#03a9f4\",600:\"#039be5\",700:\"#0288d1\",800:\"#0277bd\",900:\"#01579b\",a100:\"#80d8ff\",a200:\"#40c4ff\",a400:\"#00b0ff\",a700:\"#0091ea\"},c={50:\"#e0f7fa\",100:\"#b2ebf2\",200:\"#80deea\",300:\"#4dd0e1\",400:\"#26c6da\",500:\"#00bcd4\",600:\"#00acc1\",700:\"#0097a7\",800:\"#00838f\",900:\"#006064\",a100:\"#84ffff\",a200:\"#18ffff\",a400:\"#00e5ff\",a700:\"#00b8d4\"},f={50:\"#e0f2f1\",100:\"#b2dfdb\",200:\"#80cbc4\",300:\"#4db6ac\",400:\"#26a69a\",500:\"#009688\",600:\"#00897b\",700:\"#00796b\",800:\"#00695c\",900:\"#004d40\",a100:\"#a7ffeb\",a200:\"#64ffda\",a400:\"#1de9b6\",a700:\"#00bfa5\"},h={50:\"#e8f5e9\",100:\"#c8e6c9\",200:\"#a5d6a7\",300:\"#81c784\",400:\"#66bb6a\",500:\"#4caf50\",600:\"#43a047\",700:\"#388e3c\",800:\"#2e7d32\",900:\"#1b5e20\",a100:\"#b9f6ca\",a200:\"#69f0ae\",a400:\"#00e676\",a700:\"#00c853\"},d={50:\"#f1f8e9\",100:\"#dcedc8\",200:\"#c5e1a5\",300:\"#aed581\",400:\"#9ccc65\",500:\"#8bc34a\",600:\"#7cb342\",700:\"#689f38\",800:\"#558b2f\",900:\"#33691e\",a100:\"#ccff90\",a200:\"#b2ff59\",a400:\"#76ff03\",a700:\"#64dd17\"},p={50:\"#f9fbe7\",100:\"#f0f4c3\",200:\"#e6ee9c\",300:\"#dce775\",400:\"#d4e157\",500:\"#cddc39\",600:\"#c0ca33\",700:\"#afb42b\",800:\"#9e9d24\",900:\"#827717\",a100:\"#f4ff81\",a200:\"#eeff41\",a400:\"#c6ff00\",a700:\"#aeea00\"},m={50:\"#fffde7\",100:\"#fff9c4\",200:\"#fff59d\",300:\"#fff176\",400:\"#ffee58\",500:\"#ffeb3b\",600:\"#fdd835\",700:\"#fbc02d\",800:\"#f9a825\",900:\"#f57f17\",a100:\"#ffff8d\",a200:\"#ffff00\",a400:\"#ffea00\",a700:\"#ffd600\"},v={50:\"#fff8e1\",100:\"#ffecb3\",200:\"#ffe082\",300:\"#ffd54f\",400:\"#ffca28\",500:\"#ffc107\",600:\"#ffb300\",700:\"#ffa000\",800:\"#ff8f00\",900:\"#ff6f00\",a100:\"#ffe57f\",a200:\"#ffd740\",a400:\"#ffc400\",a700:\"#ffab00\"},g={50:\"#fff3e0\",100:\"#ffe0b2\",200:\"#ffcc80\",300:\"#ffb74d\",400:\"#ffa726\",500:\"#ff9800\",600:\"#fb8c00\",700:\"#f57c00\",800:\"#ef6c00\",900:\"#e65100\",a100:\"#ffd180\",a200:\"#ffab40\",a400:\"#ff9100\",a700:\"#ff6d00\"},y={50:\"#fbe9e7\",100:\"#ffccbc\",200:\"#ffab91\",300:\"#ff8a65\",400:\"#ff7043\",500:\"#ff5722\",600:\"#f4511e\",700:\"#e64a19\",800:\"#d84315\",900:\"#bf360c\",a100:\"#ff9e80\",a200:\"#ff6e40\",a400:\"#ff3d00\",a700:\"#dd2c00\"},b={50:\"#efebe9\",100:\"#d7ccc8\",200:\"#bcaaa4\",300:\"#a1887f\",400:\"#8d6e63\",500:\"#795548\",600:\"#6d4c41\",700:\"#5d4037\",800:\"#4e342e\",900:\"#3e2723\"},x={50:\"#fafafa\",100:\"#f5f5f5\",200:\"#eeeeee\",300:\"#e0e0e0\",400:\"#bdbdbd\",500:\"#9e9e9e\",600:\"#757575\",700:\"#616161\",800:\"#424242\",900:\"#212121\"},_={50:\"#eceff1\",100:\"#cfd8dc\",200:\"#b0bec5\",300:\"#90a4ae\",400:\"#78909c\",500:\"#607d8b\",600:\"#546e7a\",700:\"#455a64\",800:\"#37474f\",900:\"#263238\"},w={primary:\"rgba(0, 0, 0, 0.87)\",secondary:\"rgba(0, 0, 0, 0.54)\",disabled:\"rgba(0, 0, 0, 0.38)\",dividers:\"rgba(0, 0, 0, 0.12)\"},E={primary:\"rgba(255, 255, 255, 1)\",secondary:\"rgba(255, 255, 255, 0.7)\",disabled:\"rgba(255, 255, 255, 0.5)\",dividers:\"rgba(255, 255, 255, 0.12)\"},M={active:\"rgba(0, 0, 0, 0.54)\",inactive:\"rgba(0, 0, 0, 0.38)\"},S={active:\"rgba(255, 255, 255, 1)\",inactive:\"rgba(255, 255, 255, 0.5)\"},T=\"#ffffff\",C=\"#000000\";t.default={red:r,pink:i,purple:a,deepPurple:o,indigo:s,blue:u,lightBlue:l,cyan:c,teal:f,green:h,lightGreen:d,lime:p,yellow:m,amber:v,orange:g,deepOrange:y,brown:b,grey:x,blueGrey:_,darkText:w,lightText:E,darkIcons:M,lightIcons:S,white:T,black:C}},function(e,t,n){var r=n(8);r.OrbitControls=function(e,t){var n,i,a,o,s;this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new r.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:r.MOUSE.ROTATE,MIDDLE:r.MOUSE.DOLLY,RIGHT:r.MOUSE.PAN},this.touches={ONE:r.TOUCH.ROTATE,TWO:r.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return m.phi},this.getAzimuthalAngle=function(){return m.theta},this.saveState=function(){u.target0.copy(u.target),u.position0.copy(u.object.position),u.zoom0=u.object.zoom},this.reset=function(){u.target.copy(u.target0),u.object.position.copy(u.position0),u.object.zoom=u.zoom0,u.object.updateProjectionMatrix(),u.dispatchEvent(l),u.update(),d=h.NONE},this.update=(n=new r.Vector3,i=(new r.Quaternion).setFromUnitVectors(e.up,new r.Vector3(0,1,0)),a=i.clone().inverse(),o=new r.Vector3,s=new r.Quaternion,function(){var e=u.object.position;return n.copy(e).sub(u.target),n.applyQuaternion(i),m.setFromVector3(n),u.autoRotate&&d===h.NONE&&k(2*Math.PI/60/60*u.autoRotateSpeed),u.enableDamping?(m.theta+=v.theta*u.dampingFactor,m.phi+=v.phi*u.dampingFactor):(m.theta+=v.theta,m.phi+=v.phi),m.theta=Math.max(u.minAzimuthAngle,Math.min(u.maxAzimuthAngle,m.theta)),m.phi=Math.max(u.minPolarAngle,Math.min(u.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=g,m.radius=Math.max(u.minDistance,Math.min(u.maxDistance,m.radius)),!0===u.enableDamping?u.target.addScaledVector(y,u.dampingFactor):u.target.add(y),n.setFromSpherical(m),n.applyQuaternion(a),e.copy(u.target).add(n),u.object.lookAt(u.target),!0===u.enableDamping?(v.theta*=1-u.dampingFactor,v.phi*=1-u.dampingFactor,y.multiplyScalar(1-u.dampingFactor)):(v.set(0,0,0),y.set(0,0,0)),g=1,!!(b||o.distanceToSquared(u.object.position)>p||8*(1-s.dot(u.object.quaternion))>p)&&(u.dispatchEvent(l),o.copy(u.object.position),s.copy(u.object.quaternion),b=!1,!0)}),this.dispose=function(){u.domElement.removeEventListener(\"contextmenu\",ee,!1),u.domElement.removeEventListener(\"mousedown\",q,!1),u.domElement.removeEventListener(\"wheel\",Q,!1),u.domElement.removeEventListener(\"touchstart\",J,!1),u.domElement.removeEventListener(\"touchend\",K,!1),u.domElement.removeEventListener(\"touchmove\",$,!1),document.removeEventListener(\"mousemove\",X,!1),document.removeEventListener(\"mouseup\",Y,!1),window.removeEventListener(\"keydown\",Z,!1)};var u=this,l={type:\"change\"},c={type:\"start\"},f={type:\"end\"},h={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},d=h.NONE,p=1e-6,m=new r.Spherical,v=new r.Spherical,g=1,y=new r.Vector3,b=!1,x=new r.Vector2,_=new r.Vector2,w=new r.Vector2,E=new r.Vector2,M=new r.Vector2,S=new r.Vector2,T=new r.Vector2,C=new r.Vector2,P=new r.Vector2;function A(){return Math.pow(.95,u.zoomSpeed)}function k(e){v.theta-=e}function O(e){v.phi-=e}var L,R=(L=new r.Vector3,function(e,t){L.setFromMatrixColumn(t,0),L.multiplyScalar(-e),y.add(L)}),N=function(){var e=new r.Vector3;return function(t,n){!0===u.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(u.object.up,e)),e.multiplyScalar(t),y.add(e)}}(),I=function(){var e=new r.Vector3;return function(t,n){var r=u.domElement===document?u.domElement.body:u.domElement;if(u.object.isPerspectiveCamera){var i=u.object.position;e.copy(i).sub(u.target);var a=e.length();a*=Math.tan(u.object.fov/2*Math.PI/180),R(2*t*a/r.clientHeight,u.object.matrix),N(2*n*a/r.clientHeight,u.object.matrix)}else u.object.isOrthographicCamera?(R(t*(u.object.right-u.object.left)/u.object.zoom/r.clientWidth,u.object.matrix),N(n*(u.object.top-u.object.bottom)/u.object.zoom/r.clientHeight,u.object.matrix)):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.\"),u.enablePan=!1)}}();function D(e){u.object.isPerspectiveCamera?g/=e:u.object.isOrthographicCamera?(u.object.zoom=Math.max(u.minZoom,Math.min(u.maxZoom,u.object.zoom*e)),u.object.updateProjectionMatrix(),b=!0):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"),u.enableZoom=!1)}function z(e){u.object.isPerspectiveCamera?g*=e:u.object.isOrthographicCamera?(u.object.zoom=Math.max(u.minZoom,Math.min(u.maxZoom,u.object.zoom/e)),u.object.updateProjectionMatrix(),b=!0):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"),u.enableZoom=!1)}function F(e){x.set(e.clientX,e.clientY)}function B(e){E.set(e.clientX,e.clientY)}function j(e){if(1==e.touches.length)x.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);x.set(t,n)}}function U(e){if(1==e.touches.length)E.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);E.set(t,n)}}function H(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);T.set(0,r)}function G(e){if(1==e.touches.length)_.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);_.set(t,n)}w.subVectors(_,x).multiplyScalar(u.rotateSpeed);var r=u.domElement===document?u.domElement.body:u.domElement;k(2*Math.PI*w.x/r.clientHeight),O(2*Math.PI*w.y/r.clientHeight),x.copy(_)}function V(e){if(1==e.touches.length)M.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);M.set(t,n)}S.subVectors(M,E).multiplyScalar(u.panSpeed),I(S.x,S.y),E.copy(M)}function W(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);C.set(0,r),P.set(0,Math.pow(C.y/T.y,u.zoomSpeed)),D(P.y),T.copy(C)}function q(e){if(!1!==u.enabled){switch(e.preventDefault(),u.domElement.focus?u.domElement.focus():window.focus(),e.button){case 0:switch(u.mouseButtons.LEFT){case r.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===u.enablePan)return;B(e),d=h.PAN}else{if(!1===u.enableRotate)return;F(e),d=h.ROTATE}break;case r.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===u.enableRotate)return;F(e),d=h.ROTATE}else{if(!1===u.enablePan)return;B(e),d=h.PAN}break;default:d=h.NONE}break;case 1:switch(u.mouseButtons.MIDDLE){case r.MOUSE.DOLLY:if(!1===u.enableZoom)return;!function(e){T.set(e.clientX,e.clientY)}(e),d=h.DOLLY;break;default:d=h.NONE}break;case 2:switch(u.mouseButtons.RIGHT){case r.MOUSE.ROTATE:if(!1===u.enableRotate)return;F(e),d=h.ROTATE;break;case r.MOUSE.PAN:if(!1===u.enablePan)return;B(e),d=h.PAN;break;default:d=h.NONE}}d!==h.NONE&&(document.addEventListener(\"mousemove\",X,!1),document.addEventListener(\"mouseup\",Y,!1),u.dispatchEvent(c))}}function X(e){if(!1!==u.enabled)switch(e.preventDefault(),d){case h.ROTATE:if(!1===u.enableRotate)return;!function(e){_.set(e.clientX,e.clientY),w.subVectors(_,x).multiplyScalar(u.rotateSpeed);var t=u.domElement===document?u.domElement.body:u.domElement;k(2*Math.PI*w.x/t.clientHeight),O(2*Math.PI*w.y/t.clientHeight),x.copy(_),u.update()}(e);break;case h.DOLLY:if(!1===u.enableZoom)return;!function(e){C.set(e.clientX,e.clientY),P.subVectors(C,T),P.y>0?D(A()):P.y<0&&z(A()),T.copy(C),u.update()}(e);break;case h.PAN:if(!1===u.enablePan)return;!function(e){M.set(e.clientX,e.clientY),S.subVectors(M,E).multiplyScalar(u.panSpeed),I(S.x,S.y),E.copy(M),u.update()}(e)}}function Y(e){!1!==u.enabled&&(document.removeEventListener(\"mousemove\",X,!1),document.removeEventListener(\"mouseup\",Y,!1),u.dispatchEvent(f),d=h.NONE)}function Q(e){!1===u.enabled||!1===u.enableZoom||d!==h.NONE&&d!==h.ROTATE||(e.preventDefault(),e.stopPropagation(),u.dispatchEvent(c),function(e){e.deltaY<0?z(A()):e.deltaY>0&&D(A()),u.update()}(e),u.dispatchEvent(f))}function Z(e){!1!==u.enabled&&!1!==u.enableKeys&&!1!==u.enablePan&&function(e){var t=!1;switch(e.keyCode){case u.keys.UP:I(0,u.keyPanSpeed),t=!0;break;case u.keys.BOTTOM:I(0,-u.keyPanSpeed),t=!0;break;case u.keys.LEFT:I(u.keyPanSpeed,0),t=!0;break;case u.keys.RIGHT:I(-u.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),u.update())}(e)}function J(e){if(!1!==u.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(u.touches.ONE){case r.TOUCH.ROTATE:if(!1===u.enableRotate)return;j(e),d=h.TOUCH_ROTATE;break;case r.TOUCH.PAN:if(!1===u.enablePan)return;U(e),d=h.TOUCH_PAN;break;default:d=h.NONE}break;case 2:switch(u.touches.TWO){case r.TOUCH.DOLLY_PAN:if(!1===u.enableZoom&&!1===u.enablePan)return;!function(e){u.enableZoom&&H(e),u.enablePan&&U(e)}(e),d=h.TOUCH_DOLLY_PAN;break;case r.TOUCH.DOLLY_ROTATE:if(!1===u.enableZoom&&!1===u.enableRotate)return;!function(e){u.enableZoom&&H(e),u.enableRotate&&j(e)}(e),d=h.TOUCH_DOLLY_ROTATE;break;default:d=h.NONE}break;default:d=h.NONE}d!==h.NONE&&u.dispatchEvent(c)}}function $(e){if(!1!==u.enabled)switch(e.preventDefault(),e.stopPropagation(),d){case h.TOUCH_ROTATE:if(!1===u.enableRotate)return;G(e),u.update();break;case h.TOUCH_PAN:if(!1===u.enablePan)return;V(e),u.update();break;case h.TOUCH_DOLLY_PAN:if(!1===u.enableZoom&&!1===u.enablePan)return;!function(e){u.enableZoom&&W(e),u.enablePan&&V(e)}(e),u.update();break;case h.TOUCH_DOLLY_ROTATE:if(!1===u.enableZoom&&!1===u.enableRotate)return;!function(e){u.enableZoom&&W(e),u.enableRotate&&G(e)}(e),u.update();break;default:d=h.NONE}}function K(e){!1!==u.enabled&&(u.dispatchEvent(f),d=h.NONE)}function ee(e){!1!==u.enabled&&e.preventDefault()}u.domElement.addEventListener(\"contextmenu\",ee,!1),u.domElement.addEventListener(\"mousedown\",q,!1),u.domElement.addEventListener(\"wheel\",Q,!1),u.domElement.addEventListener(\"touchstart\",J,!1),u.domElement.addEventListener(\"touchend\",K,!1),u.domElement.addEventListener(\"touchmove\",$,!1),window.addEventListener(\"keydown\",Z,!1),this.update()},r.OrbitControls.prototype=Object.create(r.EventDispatcher.prototype),r.OrbitControls.prototype.constructor=r.OrbitControls,r.MapControls=function(e,t){r.OrbitControls.call(this,e,t),this.mouseButtons.LEFT=r.MOUSE.PAN,this.mouseButtons.RIGHT=r.MOUSE.ROTATE,this.touches.ONE=r.TOUCH.PAN,this.touches.TWO=r.TOUCH.DOLLY_ROTATE},r.MapControls.prototype=Object.create(r.EventDispatcher.prototype),r.MapControls.prototype.constructor=r.MapControls,e.exports=t.default=r.OrbitControls},function(e,t){function n(e){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function r(t){return\"function\"==typeof Symbol&&\"symbol\"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":n(e)},r(t)}e.exports=r},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(0)),a=c(n(20)),o=f(n(4)),s=c(n(18)),u=c(n(56)),l=f(n(98));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.margin={top:10,bottom:30,right:10,left:10},n.id=e.id,n.divID=e.divID,n.data=o.default.getData(n.id),n.selectedRange=[n.data.data.meta.min.z,n.data.data.meta.max.z],n.state={width:e.width,height:100},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillMount\",value:function(){var e=this;l.default.on(\"moveCurrentLineonTimeSelector\",(function(t,n){t===e.id&&e.moveCurrentLine(n)})),l.default.on(\"updateTimeRange\",(function(t,n){t===e.id&&(e.selectedRange=n)}))}},{key:\"componentDidMount\",value:function(){this.initializeElements(),this.drawTimeSelector()}},{key:\"initializeElements\",value:function(){this.xScale=a.scaleLinear().domain([this.data.data.meta.min.z,this.data.data.meta.max.z]),this.brush=a.brushX(),this.yScale=a.scaleLinear().domain([this.data.data.meta.min.V,this.data.data.meta.max.V]),this.svg=a.select(\"#\"+this.divID).append(\"svg\").attr(\"class\",\"timeSelector\").attr(\"id\",\"timeSelectorSVG_\"+this.id),this.clip=this.svg.append(\"defs\").append(\"clipPath\").attr(\"id\",\"clipTimeSelector_\"+this.id).append(\"rect\"),this.timeCurve=a.area().curve(a.curveLinear),this.timeSelector=this.svg.append(\"g\").attr(\"class\",\"timeSelector\").attr(\"transform\",\"translate(\"+this.margin.left+\",\"+this.margin.top+\")\"),this.timeSelectorGraph=this.timeSelector.append(\"path\").datum(this.data.data.color).attr(\"class\",\"area\").attr(\"clip-path\",\"url(#clipTimeSelector_\"+this.id+\")\"),this.timeSelectorXAxis=this.timeSelector.append(\"g\").attr(\"class\",\"axis axis--x\"),this.timeSelectorBrusher=this.timeSelector.append(\"g\").attr(\"class\",\"brush\"),this.currentLine=this.svg.append(\"line\").attr(\"stroke-width\",3).attr(\"stroke\",\"orange\").attr(\"id\",\"timeSelectorCurrent_\"+this.id)}},{key:\"drawTimeSelector\",value:function(){var e=this.id,t=(this.divID,this.props.width),n=this.state.height,r=t-this.margin.left-this.margin.right,i=n-this.margin.top-this.margin.bottom;this.selectedRange;this.svg.attr(\"width\",this.props.width).attr(\"height\",this.state.height),this.xScale.range([0,r]);this.xScale;var o=a.axisBottom(this.xScale);this.brush.extent([[0,0],[r,i]]).on(\"start brush\",function(){var t=(a.event.selection||this.xScale.range).map(this.xScale.invert,this.xScale);a.selectAll(\".scatterplots\"+this.id).size()>0&&t.toString()!==this.selectedRange.toString()&&u.updateTimeRange(e,t)}.bind(this)),this.yScale.range([i,0]),this.clip.attr(\"width\",r).attr(\"height\",i),this.timeCurve.x(function(e){return this.xScale(e.z)}.bind(this)).y0(i).y1(function(e){return this.yScale(e.y)}.bind(this)),this.timeSelectorGraph.attr(\"d\",this.timeCurve),this.timeSelectorXAxis.attr(\"transform\",\"translate(0,\"+i+\")\").call(o),this.timeSelectorBrusher.call(this.brush).call(this.brush.move,[this.invertScale(this.selectedRange[0]),this.invertScale(this.selectedRange[1])]);var l=a.drag().on(\"start\",(function(){a.select(this).classed(\"selectedLine\",!0)})).on(\"drag\",function(){var e=a.select(\"#timeSelectorCurrent_\"+this.id),t=a.event.x;t<=this.margin.left?t=this.margin.left:this.margin.left+r<=t&&(t=this.margin.left+r);e.attr(\"x1\",t).attr(\"x2\",t);var n=this.xScale.invert(t-this.margin.left);s.searchTime(this.id,n)}.bind(this)).on(\"end\",(function(){a.select(this).classed(\"selectedLine\",!1)}));this.currentLine.attr(\"x1\",this.margin.left).attr(\"y1\",this.margin.top).attr(\"x2\",this.margin.left).attr(\"y2\",i+this.margin.top).call(l)}},{key:\"invertScale\",value:function(e){var t=this.xScale.range(),n=this.xScale.domain();return(e-n[0])*(t[1]-t[0])/(n[1]-n[0])+t[0]}},{key:\"updateTimeSelector\",value:function(){this.id,this.divID;var e=this.props.width,t=this.state.height,n=e-this.margin.left-this.margin.right,r=t-this.margin.top-this.margin.bottom;this.selectedRange;this.svg.attr(\"width\",this.props.width).attr(\"height\",this.state.height),this.xScale.range([0,n]);this.xScale;var i=a.axisBottom(this.xScale);this.brush.extent([[0,0],[n,r]]),this.yScale.range([r,0]),this.clip.attr(\"width\",n).attr(\"height\",r),this.timeCurve.x(function(e){return this.xScale(e.z)}.bind(this)).y0(r).y1(function(e){return this.yScale(e.y)}.bind(this)),this.timeSelectorGraph.attr(\"d\",this.timeCurve),this.timeSelectorXAxis.attr(\"transform\",\"translate(0,\"+r+\")\").call(i),this.timeSelectorBrusher.call(this.brush.move,[this.invertScale(this.selectedRange[0]),this.invertScale(this.selectedRange[1])]),this.currentLine.attr(\"y2\",r+this.margin.top)}},{key:\"moveCurrentLine\",value:function(e){var t=a.select(\"#timeSelectorCurrent_\"+this.id),n=this.xScale(e)+this.margin.left;t.attr(\"x1\",n).attr(\"x2\",n)}},{key:\"render\",value:function(){return a.selectAll(\"svg#timeSelectorSVG_\"+this.id).size()>0&&this.updateTimeSelector(),i.default.createElement(\"div\",{id:this.divID,className:\"timeSelector outerContainer\"})}}]),t}(i.default.Component);t.default=h},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(21),o=n(11),s=(r=o)&&r.__esModule?r:{default:r};var u=new(function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.timeRange=[],e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:\"handleActions\",value:function(e){switch(e.type){case\"UPLOAD_DATA\":this.uploadData(e.data);break;case\"RESET_SCATTERPLOTS\":this.emit(\"resetScatterplots\",e.id);break;case\"MOVE_CURRENT_LINE_ON_TIMESELECTOR\":this.emit(\"moveCurrentLineonTimeSelector\",e.id,e.zpos);break;case\"UPDATE_TIME_RANGE\":this.updateTimeRange(e.id,e.range)}}},{key:\"getTimeRange\",value:function(e){return this.timeRange[e]}},{key:\"uploadData\",value:function(e){this.timeRange.push([e.meta.min.z,e.meta.max.z]),this.emit(\"upload\")}},{key:\"updateTimeRange\",value:function(e,t){this.timeRange[e]=t,this.emit(\"updateTimeRange\",e,t)}}]),t}(a.EventEmitter));s.default.register(u.handleActions.bind(u)),t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(0)),a=u(n(100)),o=(u(n(97)),u(n(4))),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(56));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.id=e.id,n.data=e.data,n.fileName=n.data.name,n.state={scatterplotsList:[],width:e.width,height:e.height},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillMount\",value:function(){var e=this;o.default.on(\"showInitSP\",(function(t){if(t===e.id){var n=e.state.scatterplotsList;n.push({x:\"z\",y:\"V\"}),e.setState({scatterplotsList:n})}}))}},{key:\"addScatterplots\",value:function(){var e=document.getElementById(\"scatterSelectXAxis_\"+this.id),t=document.getElementById(\"scatterSelectYAxis_\"+this.id),n=e.options[e.selectedIndex].value,r=t.options[t.selectedIndex].value;if(\"unselected\"!==n&&\"unselected\"!==r){var i=this.state.scatterplotsList;i.push({x:n,y:r}),this.setState({scatterplotsList:i})}}},{key:\"resetScatterplotsZoom\",value:function(){s.resetScatterplotsZoom(this.id)}},{key:\"render\",value:function(){var e=this,t=this.state.scatterplotsList.map((function(t,n){return i.default.createElement(\"div\",{key:e.id+\"_\"+n},i.default.createElement(\"div\",{key:e.id+\"_\"+n,id:\"scatterplots\"+e.id+\"_\"+n,style:{display:\"inline-block\"}},i.default.createElement(a.default,{key:e.id+\"_\"+n,id:e.id,divID:\"scatterplots\"+e.id+\"_\"+n,xItem:t.x,yItem:t.y,width:e.props.width,height:e.props.height})))})),n=[];for(var r in this.data.lookup){var o=\"\";o=this.data.lookup[r].length>1?this.data.lookup[r].join(\",\"):this.data.lookup[r],n.push(i.default.createElement(\"option\",{key:r,value:r},o))}return i.default.createElement(\"div\",{className:\"scatterplotsHolder\",id:\"scatterplotsHolder_\"+this.id},i.default.createElement(\"div\",{className:\"scatterplotsMenu row\"},this.fileName,i.default.createElement(\"button\",{type:\"button\",className:\"btn btn-primary btn-sm\",id:\"scatterResetBtn_\"+this.id,onClick:this.resetScatterplotsZoom.bind(this)},\"Reset\"),i.default.createElement(\"select\",{className:\"custom-select select_axis\",id:\"scatterSelectXAxis_\"+this.id,style:{width:\"6rem\",height:\"1.5rem\",float:\"right\"}},i.default.createElement(\"option\",{value:\"unselected\",selected:!0},\"x axis\"),n),i.default.createElement(\"select\",{className:\"custom-select select_axis\",id:\"scatterSelectYAxis_\"+this.id,style:{width:\"6rem\",height:\"1.5rem\",float:\"right\"}},i.default.createElement(\"option\",{value:\"unselected\",selected:!0},\"y axis\"),n),i.default.createElement(\"button\",{type:\"button\",className:\"btn btn-primary btn-sm\",id:\"showScatter_\"+this.id,style:{float:\"right\"},onClick:this.addScatterplots.bind(this)},\"+\")),i.default.createElement(\"div\",{id:\"scatterplots_\"+this.id,className:\"scatterplotsViewports\"},t,i.default.createElement(\"div\",{style:{clear:\"both\"}})))}}]),t}(i.default.Component);t.default=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(0)),a=h(n(20)),o=h(n(18)),s=h(n(26)),u=d(n(4)),l=d(n(13)),c=d(n(98)),f=d(n(17));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}a.selection.prototype.moveToFront=function(){return this.each((function(){this.parentNode.appendChild(this)}))};var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.margin={top:10,bottom:30,right:30,left:60},n.id=e.id,n.divID=e.divID,n.SPID=e.id+\"_\"+e.divID.split(\"_\")[1],n.data=u.default.getData(n.id);var r=c.default.getTimeRange(n.id);return n.timeRange=void 0===r?[n.data.data.meta.min.z,n.data.data.meta.max.z]:r,n.slicedData=n.data.data.spatial,n.xMinMax=[0,0],n.yMinMax=[0,0],n.selectedPeriod=[-1,-1],n.state={xItem:e.xItem,yItem:e.yItem,xItemonPanel:e.xItem,yItemonPanel:e.yItem,width:e.width,height:e.height},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillMount\",value:function(){var e=this;l.default.on(\"updateFocus\",(function(t,n,r){t===e.id&&(r?e.highlightCurrentPlot(n):e.updateCurrentPos(n))})),l.default.on(\"changePlotColor\",(function(t){t===e.id&&e.changePlotColor(l.default.getPlotColor(t))})),c.default.on(\"resetScatterplots\",(function(t){t===e.id&&e.reset()})),c.default.on(\"updateTimeRange\",(function(t,n){t===e.id&&(e.timeRange=n,e.computeRange(e.state.xItem,e.state.yItem),e.updateScatterplots(e.state.xItem,e.state.yItem))}))}},{key:\"componentDidMount\",value:function(){this.initalizeElements(),this.computeRange(this.state.xItem,this.state.yItem),this.drawScatterplots()}},{key:\"initalizeElements\",value:function(){this.zoom=a.zoom().scaleExtent([.5,20]),this.sp=a.select(\"#\"+this.divID).append(\"svg\").attr(\"id\",\"scatterplotsSVG_\"+this.SPID).attr(\"class\",\"scatterplot scatterplots\"+this.id+\" \"+this.divID),this.xScale=a.scaleLinear(),this.xAxis=this.sp.append(\"g\").attr(\"class\",\"x_axis \"+this.divID),this.xAxisText=a.selectAll(\"g.x_axis.\"+this.divID).append(\"text\").attr(\"class\",\"axisLabel \"+this.divID).attr(\"fill\",\"black\").attr(\"text-anchor\",\"middle\"),this.yScale=a.scaleLinear(),this.yAxis=this.sp.append(\"g\").attr(\"class\",\"y_axis \"+this.divID).attr(\"transform\",\"translate(\"+this.margin.left+\",\"+this.margin.top+\")\"),this.yAxisText=a.selectAll(\"g.y_axis.\"+this.divID).append(\"text\").attr(\"class\",\"axisLabel \"+this.divID).attr(\"fill\",\"black\").attr(\"transform\",\"rotate(-90)\").attr(\"text-anchor\",\"middle\"),this.tooltip=a.select(\"#\"+this.divID).append(\"div\").attr(\"class\",\"tooltip \"+this.divID).attr(\"id\",\"tooltip_\"+this.SPID).style(\"opacity\",.75).style(\"visibility\",\"hidden\"),this.line=a.line().x((function(e){return e[0]})).y((function(e){return e[1]})),this.lineH=this.sp.append(\"path\").attr(\"stroke\",\"orange\").attr(\"fill\",\"none\").attr(\"class\",\"currentLineH \"+this.divID+\" scatterplots\"+this.id).style(\"opacity\",.75).style(\"visibility\",\"hidden\"),this.lineV=this.sp.append(\"path\").attr(\"stroke\",\"orange\").attr(\"fill\",\"none\").attr(\"class\",\"currentLineV \"+this.divID+\" scatterplots\"+this.id).style(\"opacity\",.75).style(\"visibility\",\"hidden\"),this.clip=this.sp.append(\"defs\").append(\"clipPath\").attr(\"id\",\"clipScatterplots_\"+this.SPID).append(\"rect\"),this.point_g=this.sp.append(\"g\").attr(\"transform\",\"translate(\"+this.margin.left+\",\"+this.margin.top+\")\").attr(\"clip-path\",\"url(#clipScatterplots_\"+this.SPID+\")\").classed(\"points_g\",!0);var e=this.state.xItem,t=this.state.yItem;this.points=this.point_g.selectAll(\"circle\").data(this.slicedData).enter().append(\"circle\").select((function(n){return e in n&&t in n?this:null})).attr(\"opacity\",.7).attr(\"stroke-width\",.5).attr(\"stroke\",\"dimgray\").attr(\"r\",4).attr(\"class\",this.divID+\" scatterplots\"+this.id),this.divID.indexOf(\"QBE\")>=0&&(this.brush=a.brushX(),this.spBrusher=this.sp.append(\"g\").attr(\"transform\",\"translate(\"+this.margin.left+\",\"+this.margin.top+\")\").attr(\"class\",\"brush\"))}},{key:\"drawScatterplots\",value:function(){var e=this.id,t=this.SPID,n=this.divID,r=this.margin,i=this.data,c=this.props.width,h=this.props.height,d=c-this.margin.left-this.margin.right,p=h-this.margin.top-this.margin.bottom,m=this.state.xItem,v=this.state.yItem,g=this.tooltip;this.zoom.extent([[0,0],[d,p]]).on(\"zoom\",function(){if(n.indexOf(\"QBE\")>=0){var e=this.sp.select(\"g.brush\").select(\"rect.selection\"),t=Number(e.attr(\"x\")),r=Number(e.attr(\"width\"));this.xScale.invert(t),this.xScale.invert(t+r)}var i=a.event.transform.rescaleX(this.xScale),o=a.event.transform.rescaleY(this.yScale);this.xMinMax=i.domain(),this.yMinMax=o.domain(),this.xAxis.call(this.xLabel.scale(i)),this.yAxis.call(this.yLabel.scale(o)),this.points.attr(\"cx\",(function(e){return i(e[m])})).attr(\"cy\",(function(e){return o(e[v])}));var s=a.select(\"circle.current.\"+this.divID);if(s._groups[0][0]){var u=s.attr(\"cx\"),l=s.attr(\"cy\");l<=0||p<=l?this.lineH.attr(\"transform\",\"translate(\"+this.margin.left+\",\"+l+\")\").style(\"visibility\",\"hidden\"):this.lineH.transition().duration(0).attr(\"transform\",\"translate(\"+this.margin.left+\",\"+l+\")\").style(\"visibility\",\"visible\"),u<=0||d<=u?this.lineV.attr(\"transform\",\"translate(\"+u+\",\"+this.margin.top+\")\").style(\"visibility\",\"hidden\"):this.lineV.transition().duration(0).attr(\"transform\",\"translate(\"+u+\",\"+this.margin.top+\")\").style(\"visibility\",\"visible\")}}.bind(this)),this.sp.attr(\"width\",c).attr(\"height\",h).call(this.zoom).on(\"dblclick.zoom\",null),n.indexOf(\"QBE\")>=0&&(this.sp.on(\"mousedown.zoom\",null),this.brush.extent([[0,0],[d,p]]).on(\"start brush\",function(){var e=(a.event.selection||this.xScale.range).map(this.xScale.invert,this.xScale);this.selectedPeriod=e}.bind(this)).on(\"end\",function(){\"QBE\"===f.default.getMode()&&Number(f.default.getSource())===this.id&&s.selectPeriodfromSP(this.selectedPeriod)}.bind(this)),this.spBrusher.call(this.brush)),this.xScale.domain(this.xMinMax).nice().range([0,d]),this.xMinMax=this.xScale.domain(),this.xLabel=a.axisBottom(this.xScale).ticks(10).tickSize(-p).tickFormat(P),this.xAxis.attr(\"transform\",\"translate(\"+this.margin.left+\",\"+(this.margin.top+p)+\")\").call(this.xLabel),this.xAxisText.attr(\"x\",d/2).attr(\"y\",this.margin.bottom/2+10).text(this.data.data.lookup[m]).on(\"click\",function(){var e=a.select(\"#changeXAxisPanel_\"+t);if(\"visible\"===e.style(\"visibility\"))e.transition().duration(50).style(\"visibility\",\"hidden\"),this.setState({xItemonPanel:this.state.xItem});else{var n=document.getElementById(\"changeXAxisPanel_\"+t).clientHeight,i=document.getElementById(\"changeXAxisPanel_\"+t).clientWidth;e.style(\"transform\",\"translate(\"+(d/2+r.left-i/2)+\"px,\"+(p+r.top-n)+\"px)\").style(\"visibility\",\"visible\")}}.bind(this)).on(\"mouseover\",(function(){a.select(this).style(\"fill\",\"orange\")})).on(\"mouseout\",(function(){a.select(this).style(\"fill\",\"black\")})),this.yScale.domain(this.yMinMax).nice().range([p,0]),this.yMinMax=this.yScale.domain(),this.yLabel=a.axisLeft(this.yScale).ticks(5).tickSize(-d).tickFormat(P),this.yAxis.call(this.yLabel),this.yAxisText.attr(\"x\",-p/2).attr(\"y\",-this.margin.left/2-10).text(this.data.data.lookup[v]).on(\"click\",function(){var e=a.select(\"#changeYAxisPanel_\"+t);if(\"visible\"===e.style(\"visibility\"))e.transition().duration(50).style(\"visibility\",\"hidden\"),this.setState({yItemonPanel:this.state.yItem});else{var n=document.getElementById(\"changeXAxisPanel_\"+t).clientHeight;document.getElementById(\"changeXAxisPanel_\"+t).clientWidth;e.style(\"transform\",\"translate(\"+r.left+\"px,\"+(p/2+r.top-n/2)+\"px)\").style(\"visibility\",\"visible\")}}.bind(this)).on(\"mouseover\",(function(){a.select(this).style(\"fill\",\"orange\")})).on(\"mouseout\",(function(){a.select(this).style(\"fill\",\"black\")}));var y=[[0,this.margin.top],[d,this.margin.top]],b=[[this.margin.left,0],[this.margin.left,p]];this.lineH.attr(\"d\",this.line(y)),this.lineV.attr(\"d\",this.line(b)),this.clip.attr(\"width\",d).attr(\"height\",p);if(this.data.data.merge){for(var x={},_=this.data.name.split(\",\"),w=[],E=0;E<_.length;E++){var M=u.default.getIdFromName(_[E]);x[_[E]]=E;var S=_[E].split(\"+\");if(S.length>1)for(var T=0;T<S.length;T++)x[S[T]]=E;w.push(l.default.getPlotColor(M))}this.points.attr(\"cx\",function(e){return this.xScale(e[m])}.bind(this)).attr(\"cy\",function(e){return this.yScale(e[v])}.bind(this)).attr(\"fill\",(function(e){return w[x[e.source]]})).on(\"mouseover\",A).on(\"mouseout\",k).on(\"dblclick\",O)}else{var C=l.default.getPlotColor(this.id);this.points.attr(\"cx\",function(e){return this.xScale(e[m])}.bind(this)).attr(\"cy\",function(e){return this.yScale(e[v])}.bind(this)).attr(\"fill\",C).on(\"mouseover\",A).on(\"mouseout\",k).on(\"dblclick\",O)}function P(e){var t=e;return Math.log10(Math.abs(e))<-2&&0!==e&&(t=e.toExponential(0)),t}function A(e){a.select(this).attr(\"stroke-width\",1).attr(\"stroke\",\"black\"),g.transition().duration(50).style(\"visibility\",\"visible\"),g.html(\"<i>\"+i.data.lookup[m]+\"</i>: \"+e[m]+\"<br/><i>\"+i.data.lookup[v]+\"</i>: \"+e[v]).style(\"left\",a.event.pageX+20+\"px\").style(\"top\",a.event.pageY-30+\"px\")}function k(e){var t=a.select(this);t.style(\"fill\")!==a.color(\"red\").toString()&&(t.attr(\"stroke-width\",.5).attr(\"stroke\",\"dimgray\"),t.attr(\"class\").indexOf(\"current\")<0?t.attr(\"stroke-width\",.5).attr(\"stroke\",\"dimgray\"):t.attr(\"stroke\",\"orange\").attr(\"stroke-width\",1)),g.transition().duration(150).style(\"visibility\",\"hidden\")}function O(t,n){o.searchTime(e,t.z)}}},{key:\"highlightCurrentPlot\",value:function(e){var t=this.margin,n=this.divID,r=e+this.data.data.spatial[0].z,i=a.selectAll(\"svg.\"+n),o=this.state.xItem,s=this.state.yItem;function u(e){var r=a.select(this),i=(r.attr(\"class\").split(\" \")[1],a.select(\"svg.\"+n)),o=i.selectAll(\".currentLineH\"),s=i.selectAll(\".currentLineV\");o.transition().duration(0).style(\"visibility\",\"visible\").attr(\"transform\",\"translate(\"+t.left+\",\"+r.attr(\"cy\")+\")\"),s.transition().duration(0).style(\"visibility\",\"visible\").attr(\"transform\",\"translate(\"+r.attr(\"cx\")+\",\"+t.top+\")\")}i.each((function(e){var t=a.select(this),n=t.selectAll(\"circle\"),i=t.attr(\"class\").split(\" \");n.attr(\"stroke-width\",.5).attr(\"stroke\",\"dimgray\").attr(\"class\",i[1]+\" \"+i[2]);var l=n.filter((function(e){return e.z===r&&o in e&&s in e}));l._groups.length>0&&l.attr(\"stroke\",\"orange\").attr(\"stroke-width\",1).attr(\"class\",i[1]+\" \"+i[2]+\" current\").moveToFront().each(u)}))}},{key:\"updateCurrentPos\",value:function(e){if(\"z\"===this.state.xItem){var t=a.scaleLinear().domain([this.xMinMax[0],this.xMinMax[1]]).range([0,this.props.width-this.margin.left-this.margin.right]),n=e+this.data.data.spatial[0].z;this.lineH.style(\"visibility\",\"hidden\"),this.lineV.transition().duration(0).style(\"visibility\",\"visible\").attr(\"transform\",\"translate(\"+t(n)+\",\"+this.margin.top+\")\")}else if(\"z\"===this.state.yItem){var r=a.scaleLinear().domain([this.yMinMax[0],this.yMinMax[1]]).range([0,this.props.height-this.margin.top-this.margin.bottom]),i=e+this.data.data.spatial[0].z;this.lineV.style(\"visibility\",\"hidden\"),this.lineH.transition().duration(0).style(\"visibility\",\"visible\").attr(\"transform\",\"translate(\"+this.margin.left+\",\"+r(i)+\")\")}}},{key:\"changePlotColor\",value:function(e){a.selectAll(\"circle\").attr(\"fill\",e)}},{key:\"onSelectXItem\",value:function(e){this.setState({xItemonPanel:e.target.value})}},{key:\"onSelectYItem\",value:function(e){this.setState({yItemonPanel:e.target.value})}},{key:\"computeRange\",value:function(e,t){this.slicedData=this.data.data.spatial.filter(function(e){return this.timeRange[0]<=e.z&&e.z<=this.timeRange[1]}.bind(this)),this.xMinMax=a.extent(this.slicedData,(function(t){return t[e]})),this.yMinMax=a.extent(this.slicedData,(function(e){return e[t]}))}},{key:\"updateScatterplots\",value:function(e,t){this.xScale.domain(this.xMinMax).nice(),this.yScale.domain(this.yMinMax).nice(),this.points.data(this.slicedData).attr(\"cx\",function(t){return this.xScale(t[e])}.bind(this)).attr(\"cy\",function(e){return this.yScale(e[t])}.bind(this)),this.points.data(this.slicedData).enter().append(\"circle\").attr(\"cx\",function(t){return this.xScale(t[e])}.bind(this)).attr(\"cy\",function(e){return this.yScale(e[t])}.bind(this)).select((function(n){return e in n&&t in n?this:null})).attr(\"opacity\",.7).attr(\"stroke-width\",.5).attr(\"stroke\",\"dimgray\").attr(\"r\",4).attr(\"class\",this.divID+\" scatterplots\"+this.id),this.points.data(this.slicedData).exit().remove(),this.xAxis.call(this.xLabel.scale(this.xScale)),this.yAxis.call(this.yLabel.scale(this.yScale))}},{key:\"onClickXAxisDone\",value:function(e){this.setState({xItem:this.state.xItemonPanel}),this.computeRange(this.state.xItemonPanel,this.state.yItem),this.updateScatterplots(this.state.xItemonPanel,this.state.yItem),this.xAxisText.text(this.data.data.lookup[this.state.xItemonPanel]),a.select(\"#changeXAxisPanel_\"+this.SPID).transition().duration(50).style(\"visibility\",\"hidden\")}},{key:\"onClickYAxisDone\",value:function(e){this.setState({yItem:this.state.yItemonPanel}),this.computeRange(this.state.xItem,this.state.yItemonPanel),this.updateScatterplots(this.state.xItem,this.state.yItemonPanel),this.yAxisText.text(this.data.data.lookup[this.state.yItemonPanel]),a.select(\"#changeYAxisPanel_\"+this.SPID).transition().duration(50).style(\"visibility\",\"hidden\")}},{key:\"reset\",value:function(){this.sp.transition().duration(500).call(this.zoom.transform,a.zoomIdentity)}},{key:\"render\",value:function(){a.selectAll(\"svg#scatterplotsSVG_\"+this.SPID).size()>0&&this.drawScatterplots();var e=[],t=[],n=this.data.data.lookup;for(var r in n){var o=\"\";(o=n[r].length>1?n[r].join(\",\"):n[r]).indexOf(\"JD\")<0?(e.push(i.default.createElement(\"div\",{className:\"form-check\",key:o},i.default.createElement(\"input\",{type:\"radio\",name:\"selectXAxisForm_\"+this.SPID,value:r,checked:this.state.xItemonPanel===r,onChange:this.onSelectXItem.bind(this)}),i.default.createElement(\"label\",{className:\"form-check-label\",htmlFor:\"inlineCheckbox1\",key:o},o))),t.push(i.default.createElement(\"div\",{className:\"form-check\",key:o},i.default.createElement(\"input\",{type:\"radio\",name:\"selectYAxisForm_\"+this.SPID,value:r,checked:this.state.yItemonPanel===r,onChange:this.onSelectYItem.bind(this)}),i.default.createElement(\"label\",{className:\"form-check-label\",htmlFor:\"inlineCheckbox1\",key:o},o)))):(e.unshift(i.default.createElement(\"div\",{className:\"form-check\",key:o},i.default.createElement(\"input\",{type:\"radio\",name:\"selectXAxisForm_\"+this.SPID,value:r,checked:this.state.xItemonPanel===r,onChange:this.onSelectXItem.bind(this)}),i.default.createElement(\"label\",{className:\"form-check-label\",htmlFor:\"inlineCheckbox1\",key:o},o))),t.unshift(i.default.createElement(\"div\",{className:\"form-check\",key:o},i.default.createElement(\"input\",{type:\"radio\",name:\"selectYAxisForm_\"+this.SPID,value:r,checked:this.state.yItemonPanel===r,onChange:this.onSelectYItem.bind(this)}),i.default.createElement(\"label\",{className:\"form-check-label\",htmlFor:\"inlineCheckbox1\",key:o},o))))}return i.default.createElement(\"div\",{id:\"scatterplotsSelectors_\"+this.SPID},i.default.createElement(\"div\",{className:\"overlayPanel\",id:\"changeXAxisPanel_\"+this.SPID,style:{visibility:\"hidden\",textAlign:\"center\"}},i.default.createElement(\"h6\",null,\"Change x axis\"),i.default.createElement(\"div\",{id:\"changeXAxisItem_\"+this.SPID,style:{float:\"left\",textAlign:\"left\"}},i.default.createElement(\"form\",{id:\"selectXAxisForm_\"+this.SPID},e)),i.default.createElement(\"button\",{className:\"btn btn-secondary btn-sm\",id:\"changeXAxisBtn_\"+this.SPID,onClick:this.onClickXAxisDone.bind(this)},\"Done\")),i.default.createElement(\"div\",{className:\"overlayPanel\",id:\"changeYAxisPanel_\"+this.SPID,style:{visibility:\"hidden\",textAlign:\"center\"}},i.default.createElement(\"h6\",null,\"Change y axis\"),i.default.createElement(\"div\",{id:\"changeYAxisItem_\"+this.SPID,style:{float:\"left\",textAlign:\"left\"}},i.default.createElement(\"form\",{id:\"selectYAxisForm_\"+this.SPID},t)),i.default.createElement(\"button\",{className:\"btn btn-secondary btn-sm\",id:\"changeYAxisBtn_\"+this.SPID,onClick:this.onClickYAxisDone.bind(this)},\"Done\")))}}]),t}(i.default.Component);t.default=p},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(20)),o=l(n(4)),s=l(n(17)),u=l(n(100));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={data:o.default.getAllData(),source:-1},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillMount\",value:function(){var e=this;o.default.on(\"upload\",(function(){e.setState({data:o.default.getAllData()})})),s.default.on(\"updateSource\",(function(){var t=s.default.getSource();e.setState({source:s.default.getSource()}),t>=0&&null===document.getElementById(\"QBE_SP_\"+t)&&e.copySP(\"scatterplots\"+t+\"_0\",\"QBE_SP_\"+t)})),s.default.on(\"switchQueryMode\",(function(t){\"QBE\"===t&&e.state.source>=0&&null===document.getElementById(\"QBE_SP_\"+e.state.source)&&e.copySP(\"scatterplots\"+e.state.source+\"_0\",\"QBE_SP_\"+e.state.source)}))}},{key:\"copySP\",value:function(e,t){var n=a.select(\"#\"+e).html();a.select(\"#QBESourceSP\").append(\"div\").attr(\"id\",t).html(n)}},{key:\"render\",value:function(){var e=this,t=500;if(null!==document.getElementById(\"QBESource\")){var n=$(\"#QBESource\").outerWidth(!0)-2*Number($(\"#QBESource\").css(\"padding-left\").replace(\"px\",\"\"));n>0&&(t=n)}var r=this.state.data.map((function(n){return i.default.createElement(\"div\",{key:n.id,id:\"QBE_SP_\"+n.id,style:{display:n.id===Number(e.state.source)?\"block\":\"none\"}},i.default.createElement(u.default,{key:n.id,id:n.id,divID:\"QBE_SP_\"+n.id,xItem:\"z\",yItem:\"V\",width:t,height:Math.ceil(.8*t)}))}));return i.default.createElement(\"div\",{id:\"QBESourceArea\"},i.default.createElement(\"div\",{id:\"QBESourceTT\"}),i.default.createElement(\"div\",{id:\"QBESourceSP\"},r))}}]),t}(i.default.Component);t.default=c},function(e,t,n){\"use strict\";var r=o(n(0)),i=o(n(104)),a=o(n(108));function o(e){return e&&e.__esModule?e:{default:e}}n(306);var s=document.getElementById(\"app\");i.default.render(r.default.createElement(a.default,null),s)},function(e,t,n){\"use strict\";\n/** @license React v16.9.0\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var r=n(57),i=\"function\"==typeof Symbol&&Symbol.for,a=i?Symbol.for(\"react.element\"):60103,o=i?Symbol.for(\"react.portal\"):60106,s=i?Symbol.for(\"react.fragment\"):60107,u=i?Symbol.for(\"react.strict_mode\"):60108,l=i?Symbol.for(\"react.profiler\"):60114,c=i?Symbol.for(\"react.provider\"):60109,f=i?Symbol.for(\"react.context\"):60110,h=i?Symbol.for(\"react.forward_ref\"):60112,d=i?Symbol.for(\"react.suspense\"):60113,p=i?Symbol.for(\"react.suspense_list\"):60120,m=i?Symbol.for(\"react.memo\"):60115,v=i?Symbol.for(\"react.lazy\"):60116;i&&Symbol.for(\"react.fundamental\"),i&&Symbol.for(\"react.responder\");var g=\"function\"==typeof Symbol&&Symbol.iterator;function y(e){for(var t=e.message,n=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+t,r=1;r<arguments.length;r++)n+=\"&args[]=\"+encodeURIComponent(arguments[r]);return e.message=\"Minified React error #\"+t+\"; visit \"+n+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \",e}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x={};function _(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||b}function w(){}function E(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||b}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if(\"object\"!=typeof e&&\"function\"!=typeof e&&null!=e)throw y(Error(85));this.updater.enqueueSetState(this,e,t,\"setState\")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,\"forceUpdate\")},w.prototype=_.prototype;var M=E.prototype=new w;M.constructor=E,r(M,_.prototype),M.isPureReactComponent=!0;var S={current:null},T={suspense:null},C={current:null},P=Object.prototype.hasOwnProperty,A={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r=void 0,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=\"\"+t.key),t)P.call(t,r)&&!A.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:C.current}}function O(e){return\"object\"==typeof e&&null!==e&&e.$$typeof===a}var L=/\\/+/g,R=[];function N(e,t,n,r){if(R.length){var i=R.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function D(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;\"undefined\"!==s&&\"boolean\"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case\"string\":case\"number\":u=!0;break;case\"object\":switch(t.$$typeof){case a:case o:u=!0}}if(u)return r(i,t,\"\"===n?\".\"+z(t,0):n),1;if(u=0,n=\"\"===n?\".\":n+\":\",Array.isArray(t))for(var l=0;l<t.length;l++){var c=n+z(s=t[l],l);u+=e(s,c,r,i)}else if(null===t||\"object\"!=typeof t?c=null:c=\"function\"==typeof(c=g&&t[g]||t[\"@@iterator\"])?c:null,\"function\"==typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=e(s=s.value,c=n+z(s,l++),r,i);else if(\"object\"===s)throw r=\"\"+t,y(Error(31),\"[object Object]\"===r?\"object with keys {\"+Object.keys(t).join(\", \")+\"}\":r,\"\");return u}(e,\"\",t,n)}function z(e,t){return\"object\"==typeof e&&null!==e&&null!=e.key?function(e){var t={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function F(e,t){e.func.call(e.context,t,e.count++)}function B(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,(function(e){return e})):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?\"\":(\"\"+e.key).replace(L,\"$&/\")+\"/\")+n)),r.push(e))}function j(e,t,n,r,i){var a=\"\";null!=n&&(a=(\"\"+n).replace(L,\"$&/\")+\"/\"),D(e,B,t=N(t,a,r,i)),I(t)}function U(){var e=S.current;if(null===e)throw y(Error(321));return e}var H={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,F,t=N(null,null,t,n)),I(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return j(e,t,null,(function(e){return e})),t},only:function(e){if(!O(e))throw y(Error(143));return e}},createRef:function(){return{current:null}},Component:_,PureComponent:E,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return U().useCallback(e,t)},useContext:function(e,t){return U().useContext(e,t)},useEffect:function(e,t){return U().useEffect(e,t)},useImperativeHandle:function(e,t,n){return U().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return U().useLayoutEffect(e,t)},useMemo:function(e,t){return U().useMemo(e,t)},useReducer:function(e,t,n){return U().useReducer(e,t,n)},useRef:function(e){return U().useRef(e)},useState:function(e){return U().useState(e)},Fragment:s,Profiler:l,StrictMode:u,Suspense:d,unstable_SuspenseList:p,createElement:k,cloneElement:function(e,t,n){if(null==e)throw y(Error(267),e);var i=void 0,o=r({},e.props),s=e.key,u=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,l=C.current),void 0!==t.key&&(s=\"\"+t.key);var c=void 0;for(i in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)P.call(t,i)&&!A.hasOwnProperty(i)&&(o[i]=void 0===t[i]&&void 0!==c?c[i]:t[i])}if(1===(i=arguments.length-2))o.children=n;else if(1<i){c=Array(i);for(var f=0;f<i;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:a,type:e.type,key:s,ref:u,props:o,_owner:l}},createFactory:function(e){var t=k.bind(null,e);return t.type=e,t},isValidElement:O,version:\"16.9.0\",unstable_withSuspenseConfig:function(e,t){var n=T.suspense;T.suspense=void 0===t?null:t;try{e()}finally{T.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:S,ReactCurrentBatchConfig:T,ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:r}},G={default:H},V=G&&H||G;e.exports=V.default||V},function(e,t,n){\"use strict\";!function e(){if(\"undefined\"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&\"function\"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(105)},function(e,t,n){\"use strict\";\n/** @license React v16.9.0\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var r=n(0),i=n(57),a=n(106);function o(e){for(var t=e.message,n=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+t,r=1;r<arguments.length;r++)n+=\"&args[]=\"+encodeURIComponent(arguments[r]);return e.message=\"Minified React error #\"+t+\"; visit \"+n+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \",e}if(!r)throw o(Error(227));var s=null,u={};function l(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(!(-1<n))throw o(Error(96),e);if(!f[n]){if(!t.extractEvents)throw o(Error(97),e);for(var r in f[n]=t,n=t.eventTypes){var i=void 0,a=n[r],l=t,d=r;if(h.hasOwnProperty(d))throw o(Error(99),d);h[d]=a;var p=a.phasedRegistrationNames;if(p){for(i in p)p.hasOwnProperty(i)&&c(p[i],l,d);i=!0}else a.registrationName?(c(a.registrationName,l,d),i=!0):i=!1;if(!i)throw o(Error(98),r,e)}}}}function c(e,t,n){if(d[e])throw o(Error(100),e);d[e]=t,p[e]=t.eventTypes[n].dependencies}var f=[],h={},d={},p={};function m(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var v=!1,g=null,y=!1,b=null,x={onError:function(e){v=!0,g=e}};function _(e,t,n,r,i,a,o,s,u){v=!1,g=null,m.apply(x,arguments)}var w=null,E=null,M=null;function S(e,t,n){var r=e.type||\"unknown-event\";e.currentTarget=M(n),function(e,t,n,r,i,a,s,u,l){if(_.apply(this,arguments),v){if(!v)throw o(Error(198));var c=g;v=!1,g=null,y||(y=!0,b=c)}}(r,t,void 0,e),e.currentTarget=null}function T(e,t){if(null==t)throw o(Error(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function C(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var P=null;function A(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)S(e,t[r],n[r]);else t&&S(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function k(e){if(null!==e&&(P=T(P,e)),e=P,P=null,e){if(C(e,A),P)throw o(Error(95));if(y)throw e=b,y=!1,b=null,e}}var O={injectEventPluginOrder:function(e){if(s)throw o(Error(101));s=Array.prototype.slice.call(e),l()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!u.hasOwnProperty(t)||u[t]!==r){if(u[t])throw o(Error(102),t);u[t]=r,n=!0}}n&&l()}};function L(e,t){var n=e.stateNode;if(!n)return null;var r=w(n);if(!r)return null;n=r[t];e:switch(t){case\"onClick\":case\"onClickCapture\":case\"onDoubleClick\":case\"onDoubleClickCapture\":case\"onMouseDown\":case\"onMouseDownCapture\":case\"onMouseMove\":case\"onMouseMoveCapture\":case\"onMouseUp\":case\"onMouseUpCapture\":(r=!r.disabled)||(r=!(\"button\"===(e=e.type)||\"input\"===e||\"select\"===e||\"textarea\"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&\"function\"!=typeof n)throw o(Error(231),t,typeof n);return n}var R=Math.random().toString(36).slice(2),N=\"__reactInternalInstance$\"+R,I=\"__reactEventHandlers$\"+R;function D(e){if(e[N])return e[N];for(;!e[N];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[N]).tag||6===e.tag?e:null}function z(e){return!(e=e[N])||5!==e.tag&&6!==e.tag?null:e}function F(e){if(5===e.tag||6===e.tag)return e.stateNode;throw o(Error(33))}function B(e){return e[I]||null}function j(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function U(e,t,n){(t=L(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function H(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=j(t);for(t=n.length;0<t--;)U(n[t],\"captured\",e);for(t=0;t<n.length;t++)U(n[t],\"bubbled\",e)}}function G(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=L(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function V(e){e&&e.dispatchConfig.registrationName&&G(e._targetInst,null,e)}function W(e){C(e,H)}var q=!(\"undefined\"==typeof window||void 0===window.document||void 0===window.document.createElement);function X(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[\"Webkit\"+e]=\"webkit\"+t,n[\"Moz\"+e]=\"moz\"+t,n}var Y={animationend:X(\"Animation\",\"AnimationEnd\"),animationiteration:X(\"Animation\",\"AnimationIteration\"),animationstart:X(\"Animation\",\"AnimationStart\"),transitionend:X(\"Transition\",\"TransitionEnd\")},Q={},Z={};function J(e){if(Q[e])return Q[e];if(!Y[e])return e;var t,n=Y[e];for(t in n)if(n.hasOwnProperty(t)&&t in Z)return Q[e]=n[t];return e}q&&(Z=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),\"TransitionEvent\"in window||delete Y.transitionend.transition);var $=J(\"animationend\"),K=J(\"animationiteration\"),ee=J(\"animationstart\"),te=J(\"transitionend\"),ne=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),re=null,ie=null,ae=null;function oe(){if(ae)return ae;var e,t,n=ie,r=n.length,i=\"value\"in re?re.value:re.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return ae=i.slice(e,1<t?1-t:void 0)}function se(){return!0}function ue(){return!1}function le(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):\"target\"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?se:ue,this.isPropagationStopped=ue,this}function ce(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function fe(e){if(!(e instanceof this))throw o(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function he(e){e.eventPool=[],e.getPooled=ce,e.release=fe}i(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():\"unknown\"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=se)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():\"unknown\"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=se)},persist:function(){this.isPersistent=se},isPersistent:ue,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ue,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,he(n),n},he(le);var de=le.extend({data:null}),pe=le.extend({data:null}),me=[9,13,27,32],ve=q&&\"CompositionEvent\"in window,ge=null;q&&\"documentMode\"in document&&(ge=document.documentMode);var ye=q&&\"TextEvent\"in window&&!ge,be=q&&(!ve||ge&&8<ge&&11>=ge),xe=String.fromCharCode(32),_e={beforeInput:{phasedRegistrationNames:{bubbled:\"onBeforeInput\",captured:\"onBeforeInputCapture\"},dependencies:[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]},compositionEnd:{phasedRegistrationNames:{bubbled:\"onCompositionEnd\",captured:\"onCompositionEndCapture\"},dependencies:\"blur compositionend keydown keypress keyup mousedown\".split(\" \")},compositionStart:{phasedRegistrationNames:{bubbled:\"onCompositionStart\",captured:\"onCompositionStartCapture\"},dependencies:\"blur compositionstart keydown keypress keyup mousedown\".split(\" \")},compositionUpdate:{phasedRegistrationNames:{bubbled:\"onCompositionUpdate\",captured:\"onCompositionUpdateCapture\"},dependencies:\"blur compositionupdate keydown keypress keyup mousedown\".split(\" \")}},we=!1;function Ee(e,t){switch(e){case\"keyup\":return-1!==me.indexOf(t.keyCode);case\"keydown\":return 229!==t.keyCode;case\"keypress\":case\"mousedown\":case\"blur\":return!0;default:return!1}}function Me(e){return\"object\"==typeof(e=e.detail)&&\"data\"in e?e.data:null}var Se=!1;var Te={eventTypes:_e,extractEvents:function(e,t,n,r){var i=void 0,a=void 0;if(ve)e:{switch(e){case\"compositionstart\":i=_e.compositionStart;break e;case\"compositionend\":i=_e.compositionEnd;break e;case\"compositionupdate\":i=_e.compositionUpdate;break e}i=void 0}else Se?Ee(e,n)&&(i=_e.compositionEnd):\"keydown\"===e&&229===n.keyCode&&(i=_e.compositionStart);return i?(be&&\"ko\"!==n.locale&&(Se||i!==_e.compositionStart?i===_e.compositionEnd&&Se&&(a=oe()):(ie=\"value\"in(re=r)?re.value:re.textContent,Se=!0)),i=de.getPooled(i,t,n,r),a?i.data=a:null!==(a=Me(n))&&(i.data=a),W(i),a=i):a=null,(e=ye?function(e,t){switch(e){case\"compositionend\":return Me(t);case\"keypress\":return 32!==t.which?null:(we=!0,xe);case\"textInput\":return(e=t.data)===xe&&we?null:e;default:return null}}(e,n):function(e,t){if(Se)return\"compositionend\"===e||!ve&&Ee(e,t)?(e=oe(),ae=ie=re=null,Se=!1,e):null;switch(e){case\"paste\":return null;case\"keypress\":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case\"compositionend\":return be&&\"ko\"!==t.locale?null:t.data;default:return null}}(e,n))?((t=pe.getPooled(_e.beforeInput,t,n,r)).data=e,W(t)):t=null,null===a?t:null===t?a:[a,t]}},Ce=null,Pe=null,Ae=null;function ke(e){if(e=E(e)){if(\"function\"!=typeof Ce)throw o(Error(280));var t=w(e.stateNode);Ce(e.stateNode,e.type,t)}}function Oe(e){Pe?Ae?Ae.push(e):Ae=[e]:Pe=e}function Le(){if(Pe){var e=Pe,t=Ae;if(Ae=Pe=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Re(e,t){return e(t)}function Ne(e,t,n,r){return e(t,n,r)}function Ie(){}var De=Re,ze=!1;function Fe(){null===Pe&&null===Ae||(Ie(),Le())}var Be={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function je(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return\"input\"===t?!!Be[e.type]:\"textarea\"===t}function Ue(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function He(e){if(!q)return!1;var t=(e=\"on\"+e)in document;return t||((t=document.createElement(\"div\")).setAttribute(e,\"return;\"),t=\"function\"==typeof t[e]),t}function Ge(e){var t=e.type;return(e=e.nodeName)&&\"input\"===e.toLowerCase()&&(\"checkbox\"===t||\"radio\"===t)}function Ve(e){e._valueTracker||(e._valueTracker=function(e){var t=Ge(e)?\"checked\":\"value\",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=\"\"+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&\"function\"==typeof n.get&&\"function\"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=\"\"+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=\"\"+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function We(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=\"\";return e&&(r=Ge(e)?e.checked?\"true\":\"false\":e.value),(e=r)!==n&&(t.setValue(e),!0)}var qe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;qe.hasOwnProperty(\"ReactCurrentDispatcher\")||(qe.ReactCurrentDispatcher={current:null}),qe.hasOwnProperty(\"ReactCurrentBatchConfig\")||(qe.ReactCurrentBatchConfig={suspense:null});var Xe=/^(.*)[\\\\\\/]/,Ye=\"function\"==typeof Symbol&&Symbol.for,Qe=Ye?Symbol.for(\"react.element\"):60103,Ze=Ye?Symbol.for(\"react.portal\"):60106,Je=Ye?Symbol.for(\"react.fragment\"):60107,$e=Ye?Symbol.for(\"react.strict_mode\"):60108,Ke=Ye?Symbol.for(\"react.profiler\"):60114,et=Ye?Symbol.for(\"react.provider\"):60109,tt=Ye?Symbol.for(\"react.context\"):60110,nt=Ye?Symbol.for(\"react.concurrent_mode\"):60111,rt=Ye?Symbol.for(\"react.forward_ref\"):60112,it=Ye?Symbol.for(\"react.suspense\"):60113,at=Ye?Symbol.for(\"react.suspense_list\"):60120,ot=Ye?Symbol.for(\"react.memo\"):60115,st=Ye?Symbol.for(\"react.lazy\"):60116;Ye&&Symbol.for(\"react.fundamental\"),Ye&&Symbol.for(\"react.responder\");var ut=\"function\"==typeof Symbol&&Symbol.iterator;function lt(e){return null===e||\"object\"!=typeof e?null:\"function\"==typeof(e=ut&&e[ut]||e[\"@@iterator\"])?e:null}function ct(e){if(null==e)return null;if(\"function\"==typeof e)return e.displayName||e.name||null;if(\"string\"==typeof e)return e;switch(e){case Je:return\"Fragment\";case Ze:return\"Portal\";case Ke:return\"Profiler\";case $e:return\"StrictMode\";case it:return\"Suspense\";case at:return\"SuspenseList\"}if(\"object\"==typeof e)switch(e.$$typeof){case tt:return\"Context.Consumer\";case et:return\"Context.Provider\";case rt:var t=e.render;return t=t.displayName||t.name||\"\",e.displayName||(\"\"!==t?\"ForwardRef(\"+t+\")\":\"ForwardRef\");case ot:return ct(e.type);case st:if(e=1===e._status?e._result:null)return ct(e)}return null}function ft(e){var t=\"\";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n=\"\";break e;default:var r=e._debugOwner,i=e._debugSource,a=ct(e.type);n=null,r&&(n=ct(r.type)),r=a,a=\"\",i?a=\" (at \"+i.fileName.replace(Xe,\"\")+\":\"+i.lineNumber+\")\":n&&(a=\" (created by \"+n+\")\"),n=\"\\n    in \"+(r||\"Unknown\")+a}t+=n,e=e.return}while(e);return t}var ht=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,dt=Object.prototype.hasOwnProperty,pt={},mt={};function vt(e,t,n,r,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var gt={};\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach((function(e){gt[e]=new vt(e,0,!1,e,null,!1)})),[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach((function(e){var t=e[0];gt[t]=new vt(t,1,!1,e[1],null,!1)})),[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach((function(e){gt[e]=new vt(e,2,!1,e.toLowerCase(),null,!1)})),[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach((function(e){gt[e]=new vt(e,2,!1,e,null,!1)})),\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach((function(e){gt[e]=new vt(e,3,!1,e.toLowerCase(),null,!1)})),[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach((function(e){gt[e]=new vt(e,3,!0,e,null,!1)})),[\"capture\",\"download\"].forEach((function(e){gt[e]=new vt(e,4,!1,e,null,!1)})),[\"cols\",\"rows\",\"size\",\"span\"].forEach((function(e){gt[e]=new vt(e,6,!1,e,null,!1)})),[\"rowSpan\",\"start\"].forEach((function(e){gt[e]=new vt(e,5,!1,e.toLowerCase(),null,!1)}));var yt=/[\\-:]([a-z])/g;function bt(e){return e[1].toUpperCase()}function xt(e,t,n,r){var i=gt.hasOwnProperty(t)?gt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&(\"o\"===t[0]||\"O\"===t[0])&&(\"n\"===t[1]||\"N\"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case\"function\":case\"symbol\":return!0;case\"boolean\":return!r&&(null!==n?!n.acceptsBooleans:\"data-\"!==(e=e.toLowerCase().slice(0,5))&&\"aria-\"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!dt.call(mt,e)||!dt.call(pt,e)&&(ht.test(e)?mt[e]=!0:(pt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,\"\"+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&\"\":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?\"\":\"\"+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function _t(e){switch(typeof e){case\"boolean\":case\"number\":case\"object\":case\"string\":case\"undefined\":return e;default:return\"\"}}function wt(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Et(e,t){var n=null==t.defaultValue?\"\":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=_t(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:\"checkbox\"===t.type||\"radio\"===t.type?null!=t.checked:null!=t.value}}function Mt(e,t){null!=(t=t.checked)&&xt(e,\"checked\",t,!1)}function St(e,t){Mt(e,t);var n=_t(t.value),r=t.type;if(null!=n)\"number\"===r?(0===n&&\"\"===e.value||e.value!=n)&&(e.value=\"\"+n):e.value!==\"\"+n&&(e.value=\"\"+n);else if(\"submit\"===r||\"reset\"===r)return void e.removeAttribute(\"value\");t.hasOwnProperty(\"value\")?Ct(e,t.type,n):t.hasOwnProperty(\"defaultValue\")&&Ct(e,t.type,_t(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Tt(e,t,n){if(t.hasOwnProperty(\"value\")||t.hasOwnProperty(\"defaultValue\")){var r=t.type;if(!(\"submit\"!==r&&\"reset\"!==r||void 0!==t.value&&null!==t.value))return;t=\"\"+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}\"\"!==(n=e.name)&&(e.name=\"\"),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,\"\"!==n&&(e.name=n)}function Ct(e,t,n){\"number\"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=\"\"+e._wrapperState.initialValue:e.defaultValue!==\"\"+n&&(e.defaultValue=\"\"+n))}\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach((function(e){var t=e.replace(yt,bt);gt[t]=new vt(t,1,!1,e,null,!1)})),\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach((function(e){var t=e.replace(yt,bt);gt[t]=new vt(t,1,!1,e,\"http://www.w3.org/1999/xlink\",!1)})),[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach((function(e){var t=e.replace(yt,bt);gt[t]=new vt(t,1,!1,e,\"http://www.w3.org/XML/1998/namespace\",!1)})),[\"tabIndex\",\"crossOrigin\"].forEach((function(e){gt[e]=new vt(e,1,!1,e.toLowerCase(),null,!1)})),gt.xlinkHref=new vt(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0),[\"src\",\"href\",\"action\",\"formAction\"].forEach((function(e){gt[e]=new vt(e,1,!1,e.toLowerCase(),null,!0)}));var Pt={change:{phasedRegistrationNames:{bubbled:\"onChange\",captured:\"onChangeCapture\"},dependencies:\"blur change click focus input keydown keyup selectionchange\".split(\" \")}};function At(e,t,n){return(e=le.getPooled(Pt.change,e,t,n)).type=\"change\",Oe(n),W(e),e}var kt=null,Ot=null;function Lt(e){k(e)}function Rt(e){if(We(F(e)))return e}function Nt(e,t){if(\"change\"===e)return t}var It=!1;function Dt(){kt&&(kt.detachEvent(\"onpropertychange\",zt),Ot=kt=null)}function zt(e){if(\"value\"===e.propertyName&&Rt(Ot))if(e=At(Ot,e,Ue(e)),ze)k(e);else{ze=!0;try{Re(Lt,e)}finally{ze=!1,Fe()}}}function Ft(e,t,n){\"focus\"===e?(Dt(),Ot=n,(kt=t).attachEvent(\"onpropertychange\",zt)):\"blur\"===e&&Dt()}function Bt(e){if(\"selectionchange\"===e||\"keyup\"===e||\"keydown\"===e)return Rt(Ot)}function jt(e,t){if(\"click\"===e)return Rt(t)}function Ut(e,t){if(\"input\"===e||\"change\"===e)return Rt(t)}q&&(It=He(\"input\")&&(!document.documentMode||9<document.documentMode));var Ht={eventTypes:Pt,_isInputEventSupported:It,extractEvents:function(e,t,n,r){var i=t?F(t):window,a=void 0,o=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if(\"select\"===s||\"input\"===s&&\"file\"===i.type?a=Nt:je(i)?It?a=Ut:(a=Bt,o=Ft):(s=i.nodeName)&&\"input\"===s.toLowerCase()&&(\"checkbox\"===i.type||\"radio\"===i.type)&&(a=jt),a&&(a=a(e,t)))return At(a,n,r);o&&o(e,i,t),\"blur\"===e&&(e=i._wrapperState)&&e.controlled&&\"number\"===i.type&&Ct(i,\"number\",i.value)}},Gt=le.extend({view:null,detail:null}),Vt={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Wt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Vt[e])&&!!t[e]}function qt(){return Wt}var Xt=0,Yt=0,Qt=!1,Zt=!1,Jt=Gt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:qt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if(\"movementX\"in e)return e.movementX;var t=Xt;return Xt=e.screenX,Qt?\"mousemove\"===e.type?e.screenX-t:0:(Qt=!0,0)},movementY:function(e){if(\"movementY\"in e)return e.movementY;var t=Yt;return Yt=e.screenY,Zt?\"mousemove\"===e.type?e.screenY-t:0:(Zt=!0,0)}}),$t=Jt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Kt={mouseEnter:{registrationName:\"onMouseEnter\",dependencies:[\"mouseout\",\"mouseover\"]},mouseLeave:{registrationName:\"onMouseLeave\",dependencies:[\"mouseout\",\"mouseover\"]},pointerEnter:{registrationName:\"onPointerEnter\",dependencies:[\"pointerout\",\"pointerover\"]},pointerLeave:{registrationName:\"onPointerLeave\",dependencies:[\"pointerout\",\"pointerover\"]}},en={eventTypes:Kt,extractEvents:function(e,t,n,r){var i=\"mouseover\"===e||\"pointerover\"===e,a=\"mouseout\"===e||\"pointerout\"===e;if(i&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,t=(t=n.relatedTarget||n.toElement)?D(t):null):a=null,a===t)return null;var o=void 0,s=void 0,u=void 0,l=void 0;\"mouseout\"===e||\"mouseover\"===e?(o=Jt,s=Kt.mouseLeave,u=Kt.mouseEnter,l=\"mouse\"):\"pointerout\"!==e&&\"pointerover\"!==e||(o=$t,s=Kt.pointerLeave,u=Kt.pointerEnter,l=\"pointer\");var c=null==a?i:F(a);if(i=null==t?i:F(t),(e=o.getPooled(s,a,n,r)).type=l+\"leave\",e.target=c,e.relatedTarget=i,(n=o.getPooled(u,t,n,r)).type=l+\"enter\",n.target=i,n.relatedTarget=c,r=t,a&&r)e:{for(i=r,l=0,o=t=a;o;o=j(o))l++;for(o=0,u=i;u;u=j(u))o++;for(;0<l-o;)t=j(t),l--;for(;0<o-l;)i=j(i),o--;for(;l--;){if(t===i||t===i.alternate)break e;t=j(t),i=j(i)}t=null}else t=null;for(i=t,t=[];a&&a!==i&&(null===(l=a.alternate)||l!==i);)t.push(a),a=j(a);for(a=[];r&&r!==i&&(null===(l=r.alternate)||l!==i);)a.push(r),r=j(r);for(r=0;r<t.length;r++)G(t[r],\"bubbled\",e);for(r=a.length;0<r--;)G(a[r],\"captured\",n);return[e,n]}};function tn(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var nn=Object.prototype.hasOwnProperty;function rn(e,t){if(tn(e,t))return!0;if(\"object\"!=typeof e||null===e||\"object\"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!nn.call(t,n[r])||!tn(e[n[r]],t[n[r]]))return!1;return!0}function an(e,t){return{responder:e,props:t}}function on(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function sn(e){if(2!==on(e))throw o(Error(188))}function un(e){if(!(e=function(e){var t=e.alternate;if(!t){if(3===(t=on(e)))throw o(Error(188));return 1===t?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return sn(i),e;if(a===r)return sn(i),t;a=a.sibling}throw o(Error(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw o(Error(189))}}if(n.alternate!==r)throw o(Error(190))}if(3!==n.tag)throw o(Error(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}new Map,new Map,new Set,new Map;var ln=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),cn=le.extend({clipboardData:function(e){return\"clipboardData\"in e?e.clipboardData:window.clipboardData}}),fn=Gt.extend({relatedTarget:null});function hn(e){var t=e.keyCode;return\"charCode\"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}for(var dn={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},pn={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},mn=Gt.extend({key:function(e){if(e.key){var t=dn[e.key]||e.key;if(\"Unidentified\"!==t)return t}return\"keypress\"===e.type?13===(e=hn(e))?\"Enter\":String.fromCharCode(e):\"keydown\"===e.type||\"keyup\"===e.type?pn[e.keyCode]||\"Unidentified\":\"\"},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:qt,charCode:function(e){return\"keypress\"===e.type?hn(e):0},keyCode:function(e){return\"keydown\"===e.type||\"keyup\"===e.type?e.keyCode:0},which:function(e){return\"keypress\"===e.type?hn(e):\"keydown\"===e.type||\"keyup\"===e.type?e.keyCode:0}}),vn=Jt.extend({dataTransfer:null}),gn=Gt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:qt}),yn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),bn=Jt.extend({deltaX:function(e){return\"deltaX\"in e?e.deltaX:\"wheelDeltaX\"in e?-e.wheelDeltaX:0},deltaY:function(e){return\"deltaY\"in e?e.deltaY:\"wheelDeltaY\"in e?-e.wheelDeltaY:\"wheelDelta\"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),xn=[[\"blur\",\"blur\",0],[\"cancel\",\"cancel\",0],[\"click\",\"click\",0],[\"close\",\"close\",0],[\"contextmenu\",\"contextMenu\",0],[\"copy\",\"copy\",0],[\"cut\",\"cut\",0],[\"auxclick\",\"auxClick\",0],[\"dblclick\",\"doubleClick\",0],[\"dragend\",\"dragEnd\",0],[\"dragstart\",\"dragStart\",0],[\"drop\",\"drop\",0],[\"focus\",\"focus\",0],[\"input\",\"input\",0],[\"invalid\",\"invalid\",0],[\"keydown\",\"keyDown\",0],[\"keypress\",\"keyPress\",0],[\"keyup\",\"keyUp\",0],[\"mousedown\",\"mouseDown\",0],[\"mouseup\",\"mouseUp\",0],[\"paste\",\"paste\",0],[\"pause\",\"pause\",0],[\"play\",\"play\",0],[\"pointercancel\",\"pointerCancel\",0],[\"pointerdown\",\"pointerDown\",0],[\"pointerup\",\"pointerUp\",0],[\"ratechange\",\"rateChange\",0],[\"reset\",\"reset\",0],[\"seeked\",\"seeked\",0],[\"submit\",\"submit\",0],[\"touchcancel\",\"touchCancel\",0],[\"touchend\",\"touchEnd\",0],[\"touchstart\",\"touchStart\",0],[\"volumechange\",\"volumeChange\",0],[\"drag\",\"drag\",1],[\"dragenter\",\"dragEnter\",1],[\"dragexit\",\"dragExit\",1],[\"dragleave\",\"dragLeave\",1],[\"dragover\",\"dragOver\",1],[\"mousemove\",\"mouseMove\",1],[\"mouseout\",\"mouseOut\",1],[\"mouseover\",\"mouseOver\",1],[\"pointermove\",\"pointerMove\",1],[\"pointerout\",\"pointerOut\",1],[\"pointerover\",\"pointerOver\",1],[\"scroll\",\"scroll\",1],[\"toggle\",\"toggle\",1],[\"touchmove\",\"touchMove\",1],[\"wheel\",\"wheel\",1],[\"abort\",\"abort\",2],[$,\"animationEnd\",2],[K,\"animationIteration\",2],[ee,\"animationStart\",2],[\"canplay\",\"canPlay\",2],[\"canplaythrough\",\"canPlayThrough\",2],[\"durationchange\",\"durationChange\",2],[\"emptied\",\"emptied\",2],[\"encrypted\",\"encrypted\",2],[\"ended\",\"ended\",2],[\"error\",\"error\",2],[\"gotpointercapture\",\"gotPointerCapture\",2],[\"load\",\"load\",2],[\"loadeddata\",\"loadedData\",2],[\"loadedmetadata\",\"loadedMetadata\",2],[\"loadstart\",\"loadStart\",2],[\"lostpointercapture\",\"lostPointerCapture\",2],[\"playing\",\"playing\",2],[\"progress\",\"progress\",2],[\"seeking\",\"seeking\",2],[\"stalled\",\"stalled\",2],[\"suspend\",\"suspend\",2],[\"timeupdate\",\"timeUpdate\",2],[te,\"transitionEnd\",2],[\"waiting\",\"waiting\",2]],_n={},wn={},En=0;En<xn.length;En++){var Mn=xn[En],Sn=Mn[0],Tn=Mn[1],Cn=Mn[2],Pn=\"on\"+(Tn[0].toUpperCase()+Tn.slice(1)),An={phasedRegistrationNames:{bubbled:Pn,captured:Pn+\"Capture\"},dependencies:[Sn],eventPriority:Cn};_n[Tn]=An,wn[Sn]=An}var kn={eventTypes:_n,getEventPriority:function(e){return void 0!==(e=wn[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var i=wn[e];if(!i)return null;switch(e){case\"keypress\":if(0===hn(n))return null;case\"keydown\":case\"keyup\":e=mn;break;case\"blur\":case\"focus\":e=fn;break;case\"click\":if(2===n.button)return null;case\"auxclick\":case\"dblclick\":case\"mousedown\":case\"mousemove\":case\"mouseup\":case\"mouseout\":case\"mouseover\":case\"contextmenu\":e=Jt;break;case\"drag\":case\"dragend\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"dragstart\":case\"drop\":e=vn;break;case\"touchcancel\":case\"touchend\":case\"touchmove\":case\"touchstart\":e=gn;break;case $:case K:case ee:e=ln;break;case te:e=yn;break;case\"scroll\":e=Gt;break;case\"wheel\":e=bn;break;case\"copy\":case\"cut\":case\"paste\":e=cn;break;case\"gotpointercapture\":case\"lostpointercapture\":case\"pointercancel\":case\"pointerdown\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"pointerup\":e=$t;break;default:e=le}return W(t=e.getPooled(i,t,n,r)),t}},On=kn.getEventPriority,Ln=[];function Rn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=D(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Ue(e.nativeEvent);r=e.topLevelType;for(var a=e.nativeEvent,o=null,s=0;s<f.length;s++){var u=f[s];u&&(u=u.extractEvents(r,t,a,i))&&(o=T(o,u))}k(o)}}var Nn=!0;function In(e,t){Dn(t,e,!1)}function Dn(e,t,n){switch(On(t)){case 0:var r=zn.bind(null,t,1);break;case 1:r=Fn.bind(null,t,1);break;default:r=Bn.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function zn(e,t,n){ze||Ie();var r=Bn,i=ze;ze=!0;try{Ne(r,e,t,n)}finally{(ze=i)||Fe()}}function Fn(e,t,n){Bn(e,t,n)}function Bn(e,t,n){if(Nn){if(null===(t=D(t=Ue(n)))||\"number\"!=typeof t.tag||2===on(t)||(t=null),Ln.length){var r=Ln.pop();r.topLevelType=e,r.nativeEvent=n,r.targetInst=t,e=r}else e={topLevelType:e,nativeEvent:n,targetInst:t,ancestors:[]};try{if(n=e,ze)Rn(n);else{ze=!0;try{De(Rn,n,void 0)}finally{ze=!1,Fe()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Ln.length&&Ln.push(e)}}}var jn=new(\"function\"==typeof WeakMap?WeakMap:Map);function Un(e){var t=jn.get(e);return void 0===t&&(t=new Set,jn.set(e,t)),t}function Hn(e){if(void 0===(e=e||(\"undefined\"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Gn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vn(e,t){var n,r=Gn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gn(r)}}function Wn(){for(var e=window,t=Hn();t instanceof e.HTMLIFrameElement;){try{var n=\"string\"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Hn((e=t.contentWindow).document)}return t}function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(\"input\"===t&&(\"text\"===e.type||\"search\"===e.type||\"tel\"===e.type||\"url\"===e.type||\"password\"===e.type)||\"textarea\"===t||\"true\"===e.contentEditable)}var Xn=q&&\"documentMode\"in document&&11>=document.documentMode,Yn={select:{phasedRegistrationNames:{bubbled:\"onSelect\",captured:\"onSelectCapture\"},dependencies:\"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange\".split(\" \")}},Qn=null,Zn=null,Jn=null,$n=!1;function Kn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return $n||null==Qn||Qn!==Hn(n)?null:(\"selectionStart\"in(n=Qn)&&qn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Jn&&rn(Jn,n)?null:(Jn=n,(e=le.getPooled(Yn.select,Zn,e,t)).type=\"select\",e.target=Qn,W(e),e))}var er={eventTypes:Yn,extractEvents:function(e,t,n,r){var i,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!a)){e:{a=Un(a),i=p.onSelect;for(var o=0;o<i.length;o++)if(!a.has(i[o])){a=!1;break e}a=!0}i=!a}if(i)return null;switch(a=t?F(t):window,e){case\"focus\":(je(a)||\"true\"===a.contentEditable)&&(Qn=a,Zn=t,Jn=null);break;case\"blur\":Jn=Zn=Qn=null;break;case\"mousedown\":$n=!0;break;case\"contextmenu\":case\"mouseup\":case\"dragend\":return $n=!1,Kn(n,r);case\"selectionchange\":if(Xn)break;case\"keydown\":case\"keyup\":return Kn(n,r)}return null}};function tr(e,t){return e=i({children:void 0},t),(t=function(e){var t=\"\";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function nr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[\"$\"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(\"$\"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=\"\"+_t(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function rr(e,t){if(null!=t.dangerouslySetInnerHTML)throw o(Error(91));return i({},t,{value:void 0,defaultValue:void 0,children:\"\"+e._wrapperState.initialValue})}function ir(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw o(Error(92));if(Array.isArray(t)){if(!(1>=t.length))throw o(Error(93));t=t[0]}n=t}null==n&&(n=\"\")}e._wrapperState={initialValue:_t(n)}}function ar(e,t){var n=_t(t.value),r=_t(t.defaultValue);null!=n&&((n=\"\"+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=\"\"+r)}function or(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}O.injectEventPluginOrder(\"ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin\".split(\" \")),w=B,E=z,M=F,O.injectEventPluginsByName({SimpleEventPlugin:kn,EnterLeaveEventPlugin:en,ChangeEventPlugin:Ht,SelectEventPlugin:er,BeforeInputEventPlugin:Te});var sr={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};function ur(e){switch(e){case\"svg\":return\"http://www.w3.org/2000/svg\";case\"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function lr(e,t){return null==e||\"http://www.w3.org/1999/xhtml\"===e?ur(t):\"http://www.w3.org/2000/svg\"===e&&\"foreignObject\"===t?\"http://www.w3.org/1999/xhtml\":e}var cr=void 0,fr=function(e){return\"undefined\"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==sr.svg||\"innerHTML\"in e)e.innerHTML=t;else{for((cr=cr||document.createElement(\"div\")).innerHTML=\"<svg>\"+t+\"</svg>\",t=cr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function hr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var dr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pr=[\"Webkit\",\"ms\",\"Moz\",\"O\"];function mr(e,t,n){return null==t||\"boolean\"==typeof t||\"\"===t?\"\":n||\"number\"!=typeof t||0===t||dr.hasOwnProperty(e)&&dr[e]?(\"\"+t).trim():t+\"px\"}function vr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf(\"--\"),i=mr(n,t[n],r);\"float\"===n&&(n=\"cssFloat\"),r?e.setProperty(n,i):e[n]=i}}Object.keys(dr).forEach((function(e){pr.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dr[t]=dr[e]}))}));var gr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yr(e,t){if(t){if(gr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw o(Error(137),e,\"\");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw o(Error(60));if(!(\"object\"==typeof t.dangerouslySetInnerHTML&&\"__html\"in t.dangerouslySetInnerHTML))throw o(Error(61))}if(null!=t.style&&\"object\"!=typeof t.style)throw o(Error(62),\"\")}}function br(e,t){if(-1===e.indexOf(\"-\"))return\"string\"==typeof t.is;switch(e){case\"annotation-xml\":case\"color-profile\":case\"font-face\":case\"font-face-src\":case\"font-face-uri\":case\"font-face-format\":case\"font-face-name\":case\"missing-glyph\":return!1;default:return!0}}function xr(e,t){var n=Un(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=p[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.has(i)){switch(i){case\"scroll\":Dn(e,\"scroll\",!0);break;case\"focus\":case\"blur\":Dn(e,\"focus\",!0),Dn(e,\"blur\",!0),n.add(\"blur\"),n.add(\"focus\");break;case\"cancel\":case\"close\":He(i)&&Dn(e,i,!0);break;case\"invalid\":case\"submit\":case\"reset\":break;default:-1===ne.indexOf(i)&&In(i,e)}n.add(i)}}}function _r(){}var wr=null,Er=null;function Mr(e,t){switch(e){case\"button\":case\"input\":case\"select\":case\"textarea\":return!!t.autoFocus}return!1}function Sr(e,t){return\"textarea\"===e||\"option\"===e||\"noscript\"===e||\"string\"==typeof t.children||\"number\"==typeof t.children||\"object\"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Tr=\"function\"==typeof setTimeout?setTimeout:void 0,Cr=\"function\"==typeof clearTimeout?clearTimeout:void 0;function Pr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}new Set;var Ar=[],kr=-1;function Or(e){0>kr||(e.current=Ar[kr],Ar[kr]=null,kr--)}function Lr(e,t){Ar[++kr]=e.current,e.current=t}var Rr={},Nr={current:Rr},Ir={current:!1},Dr=Rr;function zr(e,t){var n=e.type.contextTypes;if(!n)return Rr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Fr(e){return null!=(e=e.childContextTypes)}function Br(e){Or(Ir),Or(Nr)}function jr(e){Or(Ir),Or(Nr)}function Ur(e,t,n){if(Nr.current!==Rr)throw o(Error(168));Lr(Nr,t),Lr(Ir,n)}function Hr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,\"function\"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw o(Error(108),ct(t)||\"Unknown\",a);return i({},n,r)}function Gr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Rr,Dr=Nr.current,Lr(Nr,t),Lr(Ir,Ir.current),!0}function Vr(e,t,n){var r=e.stateNode;if(!r)throw o(Error(169));n?(t=Hr(e,t,Dr),r.__reactInternalMemoizedMergedChildContext=t,Or(Ir),Or(Nr),Lr(Nr,t)):Or(Ir),Lr(Ir,n)}var Wr=a.unstable_runWithPriority,qr=a.unstable_scheduleCallback,Xr=a.unstable_cancelCallback,Yr=a.unstable_shouldYield,Qr=a.unstable_requestPaint,Zr=a.unstable_now,Jr=a.unstable_getCurrentPriorityLevel,$r=a.unstable_ImmediatePriority,Kr=a.unstable_UserBlockingPriority,ei=a.unstable_NormalPriority,ti=a.unstable_LowPriority,ni=a.unstable_IdlePriority,ri={},ii=void 0!==Qr?Qr:function(){},ai=null,oi=null,si=!1,ui=Zr(),li=1e4>ui?Zr:function(){return Zr()-ui};function ci(){switch(Jr()){case $r:return 99;case Kr:return 98;case ei:return 97;case ti:return 96;case ni:return 95;default:throw o(Error(332))}}function fi(e){switch(e){case 99:return $r;case 98:return Kr;case 97:return ei;case 96:return ti;case 95:return ni;default:throw o(Error(332))}}function hi(e,t){return e=fi(e),Wr(e,t)}function di(e,t,n){return e=fi(e),qr(e,t,n)}function pi(e){return null===ai?(ai=[e],oi=qr($r,vi)):ai.push(e),ri}function mi(){null!==oi&&Xr(oi),vi()}function vi(){if(!si&&null!==ai){si=!0;var e=0;try{var t=ai;hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ai=null}catch(t){throw null!==ai&&(ai=ai.slice(e+1)),qr($r,mi),t}finally{si=!1}}}function gi(e,t){return 1073741823===t?99:1===t?95:0>=(e=10*(1073741821-t)-10*(1073741821-e))?99:250>=e?98:5250>=e?97:95}function yi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var bi={current:null},xi=null,_i=null,wi=null;function Ei(){wi=_i=xi=null}function Mi(e,t){var n=e.type._context;Lr(bi,n._currentValue),n._currentValue=t}function Si(e){var t=bi.current;Or(bi),e.type._context._currentValue=t}function Ti(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Ci(e,t){xi=e,wi=_i=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(co=!0),e.firstContext=null)}function Pi(e,t){if(wi!==e&&!1!==t&&0!==t)if(\"number\"==typeof t&&1073741823!==t||(wi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===_i){if(null===xi)throw o(Error(308));_i=t,xi.dependencies={expirationTime:0,firstContext:t,responders:null}}else _i=_i.next=t;return e._currentValue}var Ai=!1;function ki(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Oi(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Li(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Ri(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Ni(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=ki(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=ki(e.memoizedState),i=n.updateQueue=ki(n.memoizedState)):r=e.updateQueue=Oi(i):null===i&&(i=n.updateQueue=Oi(r));null===i||r===i?Ri(r,t):null===r.lastUpdate||null===i.lastUpdate?(Ri(r,t),Ri(i,t)):(Ri(r,t),i.lastUpdate=t)}function Ii(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=ki(e.memoizedState):Di(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Di(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Oi(t)),t}function zi(e,t,n,r,a,o){switch(n.tag){case 1:return\"function\"==typeof(e=n.payload)?e.call(o,r,a):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(a=\"function\"==typeof(e=n.payload)?e.call(o,r,a):e))break;return i({},r,a);case 2:Ai=!0}return r}function Fi(e,t,n,r,i){Ai=!1;for(var a=(t=Di(e,t)).baseState,o=null,s=0,u=t.firstUpdate,l=a;null!==u;){var c=u.expirationTime;c<i?(null===o&&(o=u,a=l),s<c&&(s=c)):(Hs(c,u.suspenseConfig),l=zi(e,0,u,l,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(c=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<i?(null===c&&(c=u,null===o&&(a=l)),s<f&&(s=f)):(l=zi(e,0,u,l,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===o&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===c&&(a=l),t.baseState=a,t.firstUpdate=o,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=l}function Bi(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ji(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ji(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ji(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if(\"function\"!=typeof n)throw o(Error(191),n);n.call(r)}e=e.nextEffect}}var Ui=qe.ReactCurrentBatchConfig,Hi=(new r.Component).refs;function Gi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Vi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===on(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=As(),i=Ui.suspense;(i=Li(r=ks(r,e,i),i)).payload=t,null!=n&&(i.callback=n),Ni(e,i),Ls(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=As(),i=Ui.suspense;(i=Li(r=ks(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),Ni(e,i),Ls(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=As(),r=Ui.suspense;(r=Li(n=ks(n,e,r),r)).tag=2,null!=t&&(r.callback=t),Ni(e,r),Ls(e,n)}};function Wi(e,t,n,r,i,a,o){return\"function\"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!rn(n,r)||!rn(i,a))}function qi(e,t,n){var r=!1,i=Rr,a=t.contextType;return\"object\"==typeof a&&null!==a?a=Pi(a):(i=Fr(t)?Dr:Nr.current,a=(r=null!=(r=t.contextTypes))?zr(e,i):Rr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Xi(e,t,n,r){e=t.state,\"function\"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),\"function\"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vi.enqueueReplaceState(t,t.state,null)}function Yi(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Hi;var a=t.contextType;\"object\"==typeof a&&null!==a?i.context=Pi(a):(a=Fr(t)?Dr:Nr.current,i.context=zr(e,a)),null!==(a=e.updateQueue)&&(Fi(e,a,n,i,r),i.state=e.memoizedState),\"function\"==typeof(a=t.getDerivedStateFromProps)&&(Gi(e,t,a,n),i.state=e.memoizedState),\"function\"==typeof t.getDerivedStateFromProps||\"function\"==typeof i.getSnapshotBeforeUpdate||\"function\"!=typeof i.UNSAFE_componentWillMount&&\"function\"!=typeof i.componentWillMount||(t=i.state,\"function\"==typeof i.componentWillMount&&i.componentWillMount(),\"function\"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vi.enqueueReplaceState(i,i.state,null),null!==(a=e.updateQueue)&&(Fi(e,a,n,i,r),i.state=e.memoizedState)),\"function\"==typeof i.componentDidMount&&(e.effectTag|=4)}var Qi=Array.isArray;function Zi(e,t,n){if(null!==(e=n.ref)&&\"function\"!=typeof e&&\"object\"!=typeof e){if(n._owner){n=n._owner;var r=void 0;if(n){if(1!==n.tag)throw o(Error(309));r=n.stateNode}if(!r)throw o(Error(147),e);var i=\"\"+e;return null!==t&&null!==t.ref&&\"function\"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Hi&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if(\"string\"!=typeof e)throw o(Error(284));if(!n._owner)throw o(Error(290),e)}return e}function Ji(e,t){if(\"textarea\"!==e.type)throw o(Error(31),\"[object Object]\"===Object.prototype.toString.call(t)?\"object with keys {\"+Object.keys(t).join(\", \")+\"}\":t,\"\")}function $i(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=au(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=uu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Zi(e,t,n),r.return=e,r):((r=ou(n.type,n.key,n.props,null,e.mode,r)).ref=Zi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=lu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=su(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if(\"string\"==typeof t||\"number\"==typeof t)return(t=uu(\"\"+t,e.mode,n)).return=e,t;if(\"object\"==typeof t&&null!==t){switch(t.$$typeof){case Qe:return(n=ou(t.type,t.key,t.props,null,e.mode,n)).ref=Zi(e,null,t),n.return=e,n;case Ze:return(t=lu(t,e.mode,n)).return=e,t}if(Qi(t)||lt(t))return(t=su(t,e.mode,n,null)).return=e,t;Ji(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if(\"string\"==typeof n||\"number\"==typeof n)return null!==i?null:u(e,t,\"\"+n,r);if(\"object\"==typeof n&&null!==n){switch(n.$$typeof){case Qe:return n.key===i?n.type===Je?f(e,t,n.props.children,r,i):l(e,t,n,r):null;case Ze:return n.key===i?c(e,t,n,r):null}if(Qi(n)||lt(n))return null!==i?null:f(e,t,n,r,null);Ji(e,n)}return null}function p(e,t,n,r,i){if(\"string\"==typeof r||\"number\"==typeof r)return u(t,e=e.get(n)||null,\"\"+r,i);if(\"object\"==typeof r&&null!==r){switch(r.$$typeof){case Qe:return e=e.get(null===r.key?n:r.key)||null,r.type===Je?f(t,e,r.props.children,i,r.key):l(t,e,r,i);case Ze:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Qi(r)||lt(r))return f(t,e=e.get(n)||null,r,i,null);Ji(t,r)}return null}function m(i,o,s,u){for(var l=null,c=null,f=o,m=o=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=d(i,f,s[m],u);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,m),null===c?l=g:c.sibling=g,c=g,f=v}if(m===s.length)return n(i,f),l;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],u))&&(o=a(f,o,m),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(i,f);m<s.length;m++)null!==(v=p(f,i,m,s[m],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),o=a(v,o,m),null===c?l=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),l}function v(i,s,u,l){var c=lt(u);if(\"function\"!=typeof c)throw o(Error(150));if(null==(u=c.call(u)))throw o(Error(151));for(var f=c=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=d(i,m,y.value,l);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,v),null===f?c=b:f.sibling=b,f=b,m=g}if(y.done)return n(i,m),c;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=h(i,y.value,l))&&(s=a(y,s,v),null===f?c=y:f.sibling=y,f=y);return c}for(m=r(i,m);!y.done;v++,y=u.next())null!==(y=p(m,i,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===f?c=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,a,u){var l=\"object\"==typeof a&&null!==a&&a.type===Je&&null===a.key;l&&(a=a.props.children);var c=\"object\"==typeof a&&null!==a;if(c)switch(a.$$typeof){case Qe:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){if(7===l.tag?a.type===Je:l.elementType===a.type){n(e,l.sibling),(r=i(l,a.type===Je?a.props.children:a.props)).ref=Zi(e,l,a),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}a.type===Je?((r=su(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=ou(a.type,a.key,a.props,null,e.mode,u)).ref=Zi(e,r,a),u.return=e,e=u)}return s(e);case Ze:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=lu(a,e.mode,u)).return=e,e=r}return s(e)}if(\"string\"==typeof a||\"number\"==typeof a)return a=\"\"+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=uu(a,e.mode,u)).return=e,e=r),s(e);if(Qi(a))return m(e,r,a,u);if(lt(a))return v(e,r,a,u);if(c&&Ji(e,a),void 0===a&&!l)switch(e.tag){case 1:case 0:throw e=e.type,o(Error(152),e.displayName||e.name||\"Component\")}return n(e,r)}}var Ki=$i(!0),ea=$i(!1),ta={},na={current:ta},ra={current:ta},ia={current:ta};function aa(e){if(e===ta)throw o(Error(174));return e}function oa(e,t){Lr(ia,t),Lr(ra,e),Lr(na,ta);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lr(null,\"\");break;default:t=lr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Or(na),Lr(na,t)}function sa(e){Or(na),Or(ra),Or(ia)}function ua(e){aa(ia.current);var t=aa(na.current),n=lr(t,e.type);t!==n&&(Lr(ra,e),Lr(na,n))}function la(e){ra.current===e&&(Or(na),Or(ra))}var ca=1,fa=1,ha=2,da={current:0};function pa(e){for(var t=e;null!==t;){if(13===t.tag){if(null!==t.memoizedState)return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ma=0,va=2,ga=4,ya=8,ba=16,xa=32,_a=64,wa=128,Ea=qe.ReactCurrentDispatcher,Ma=0,Sa=null,Ta=null,Ca=null,Pa=null,Aa=null,ka=null,Oa=0,La=null,Ra=0,Na=!1,Ia=null,Da=0;function za(){throw o(Error(321))}function Fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function Ba(e,t,n,r,i,a){if(Ma=a,Sa=t,Ca=null!==e?e.memoizedState:null,Ea.current=null===Ca?$a:Ka,t=n(r,i),Na){do{Na=!1,Da+=1,Ca=null!==e?e.memoizedState:null,ka=Pa,La=Aa=Ta=null,Ea.current=Ka,t=n(r,i)}while(Na);Ia=null,Da=0}if(Ea.current=Ja,(e=Sa).memoizedState=Pa,e.expirationTime=Oa,e.updateQueue=La,e.effectTag|=Ra,e=null!==Ta&&null!==Ta.next,Ma=0,ka=Aa=Pa=Ca=Ta=Sa=null,Oa=0,La=null,Ra=0,e)throw o(Error(300));return t}function ja(){Ea.current=Ja,Ma=0,ka=Aa=Pa=Ca=Ta=Sa=null,Oa=0,La=null,Ra=0,Na=!1,Ia=null,Da=0}function Ua(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Aa?Pa=Aa=e:Aa=Aa.next=e,Aa}function Ha(){if(null!==ka)ka=(Aa=ka).next,Ca=null!==(Ta=Ca)?Ta.next:null;else{if(null===Ca)throw o(Error(310));var e={memoizedState:(Ta=Ca).memoizedState,baseState:Ta.baseState,queue:Ta.queue,baseUpdate:Ta.baseUpdate,next:null};Aa=null===Aa?Pa=e:Aa.next=e,Ca=Ta.next}return Aa}function Ga(e,t){return\"function\"==typeof t?t(e):t}function Va(e){var t=Ha(),n=t.queue;if(null===n)throw o(Error(311));if(n.lastRenderedReducer=e,0<Da){var r=n.dispatch;if(null!==Ia){var i=Ia.get(n);if(void 0!==i){Ia.delete(n);var a=t.memoizedState;do{a=e(a,i.action),i=i.next}while(null!==i);return tn(a,t.memoizedState)||(co=!0),t.memoizedState=a,t.baseUpdate===n.last&&(t.baseState=a),n.lastRenderedState=a,[a,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(a=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=i=null,l=r,c=!1;do{var f=l.expirationTime;f<Ma?(c||(c=!0,u=s,i=a),f>Oa&&(Oa=f)):(Hs(f,l.suspenseConfig),a=l.eagerReducer===e?l.eagerState:e(a,l.action)),s=l,l=l.next}while(null!==l&&l!==r);c||(u=s,i=a),tn(a,t.memoizedState)||(co=!0),t.memoizedState=a,t.baseUpdate=u,t.baseState=i,n.lastRenderedState=a}return[t.memoizedState,n.dispatch]}function Wa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===La?(La={lastEffect:null}).lastEffect=e.next=e:null===(t=La.lastEffect)?La.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,La.lastEffect=e),e}function qa(e,t,n,r){var i=Ua();Ra|=e,i.memoizedState=Wa(t,n,void 0,void 0===r?null:r)}function Xa(e,t,n,r){var i=Ha();r=void 0===r?null:r;var a=void 0;if(null!==Ta){var o=Ta.memoizedState;if(a=o.destroy,null!==r&&Fa(r,o.deps))return void Wa(ma,n,a,r)}Ra|=e,i.memoizedState=Wa(t,n,a,r)}function Ya(e,t){return\"function\"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qa(){}function Za(e,t,n){if(!(25>Da))throw o(Error(301));var r=e.alternate;if(e===Sa||null!==r&&r===Sa)if(Na=!0,e={expirationTime:Ma,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===Ia&&(Ia=new Map),void 0===(n=Ia.get(t)))Ia.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var i=As(),a=Ui.suspense;a={expirationTime:i=ks(i,e,a),suspenseConfig:a,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)a.next=a;else{var u=s.next;null!==u&&(a.next=u),s.next=a}if(t.last=a,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var l=t.lastRenderedState,c=r(l,n);if(a.eagerReducer=r,a.eagerState=c,tn(c,l))return}catch(e){}Ls(e,i)}}var Ja={readContext:Pi,useCallback:za,useContext:za,useEffect:za,useImperativeHandle:za,useLayoutEffect:za,useMemo:za,useReducer:za,useRef:za,useState:za,useDebugValue:za,useResponder:za},$a={readContext:Pi,useCallback:function(e,t){return Ua().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:function(e,t){return qa(516,wa|_a,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,qa(4,ga|xa,Ya.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qa(4,ga|xa,e,t)},useMemo:function(e,t){var n=Ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Za.bind(null,Sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ua().memoizedState=e},useState:function(e){var t=Ua();return\"function\"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:e}).dispatch=Za.bind(null,Sa,e),[t.memoizedState,e]},useDebugValue:Qa,useResponder:an},Ka={readContext:Pi,useCallback:function(e,t){var n=Ha();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Pi,useEffect:function(e,t){return Xa(516,wa|_a,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Xa(4,ga|xa,Ya.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xa(4,ga|xa,e,t)},useMemo:function(e,t){var n=Ha();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:Va,useRef:function(){return Ha().memoizedState},useState:function(e){return Va(Ga)},useDebugValue:Qa,useResponder:an},eo=null,to=null,no=!1;function ro(e,t){var n=ru(5,null,null,0);n.elementType=\"DELETED\",n.type=\"DELETED\",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=\"\"===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ao(e){if(no){var t=to;if(t){var n=t;if(!io(e,t)){if(!(t=Pr(n.nextSibling))||!io(e,t))return e.effectTag|=2,no=!1,void(eo=e);ro(eo,n)}eo=e,to=Pr(t.firstChild)}else e.effectTag|=2,no=!1,eo=e}}function oo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;eo=e}function so(e){if(e!==eo)return!1;if(!no)return oo(e),no=!0,!1;var t=e.type;if(5!==e.tag||\"head\"!==t&&\"body\"!==t&&!Sr(t,e.memoizedProps))for(t=to;t;)ro(e,t),t=Pr(t.nextSibling);return oo(e),to=eo?Pr(e.stateNode.nextSibling):null,!0}function uo(){to=eo=null,no=!1}var lo=qe.ReactCurrentOwner,co=!1;function fo(e,t,n,r){t.child=null===e?ea(t,null,n,r):Ki(t,e.child,n,r)}function ho(e,t,n,r,i){n=n.render;var a=t.ref;return Ci(t,i),r=Ba(e,t,n,r,a,i),null===e||co?(t.effectTag|=1,fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),So(e,t,i))}function po(e,t,n,r,i,a){if(null===e){var o=n.type;return\"function\"!=typeof o||iu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ou(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,mo(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:rn)(i,r)&&e.ref===t.ref)?So(e,t,a):(t.effectTag|=1,(e=au(o,r)).ref=t.ref,e.return=t,t.child=e)}function mo(e,t,n,r,i,a){return null!==e&&rn(e.memoizedProps,r)&&e.ref===t.ref&&(co=!1,i<a)?So(e,t,a):go(e,t,n,r,a)}function vo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function go(e,t,n,r,i){var a=Fr(n)?Dr:Nr.current;return a=zr(t,a),Ci(t,i),n=Ba(e,t,n,r,a,i),null===e||co?(t.effectTag|=1,fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),So(e,t,i))}function yo(e,t,n,r,i){if(Fr(n)){var a=!0;Gr(t)}else a=!1;if(Ci(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),qi(t,n,r),Yi(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;\"object\"==typeof l&&null!==l?l=Pi(l):l=zr(t,l=Fr(n)?Dr:Nr.current);var c=n.getDerivedStateFromProps,f=\"function\"==typeof c||\"function\"==typeof o.getSnapshotBeforeUpdate;f||\"function\"!=typeof o.UNSAFE_componentWillReceiveProps&&\"function\"!=typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Xi(t,o,r,l),Ai=!1;var h=t.memoizedState;u=o.state=h;var d=t.updateQueue;null!==d&&(Fi(t,d,r,o,i),u=t.memoizedState),s!==r||h!==u||Ir.current||Ai?(\"function\"==typeof c&&(Gi(t,n,c,r),u=t.memoizedState),(s=Ai||Wi(t,n,s,r,h,u,l))?(f||\"function\"!=typeof o.UNSAFE_componentWillMount&&\"function\"!=typeof o.componentWillMount||(\"function\"==typeof o.componentWillMount&&o.componentWillMount(),\"function\"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),\"function\"==typeof o.componentDidMount&&(t.effectTag|=4)):(\"function\"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):(\"function\"==typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,s=t.memoizedProps,o.props=t.type===t.elementType?s:yi(t.type,s),u=o.context,\"object\"==typeof(l=n.contextType)&&null!==l?l=Pi(l):l=zr(t,l=Fr(n)?Dr:Nr.current),(f=\"function\"==typeof(c=n.getDerivedStateFromProps)||\"function\"==typeof o.getSnapshotBeforeUpdate)||\"function\"!=typeof o.UNSAFE_componentWillReceiveProps&&\"function\"!=typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Xi(t,o,r,l),Ai=!1,u=t.memoizedState,h=o.state=u,null!==(d=t.updateQueue)&&(Fi(t,d,r,o,i),h=t.memoizedState),s!==r||u!==h||Ir.current||Ai?(\"function\"==typeof c&&(Gi(t,n,c,r),h=t.memoizedState),(c=Ai||Wi(t,n,s,r,u,h,l))?(f||\"function\"!=typeof o.UNSAFE_componentWillUpdate&&\"function\"!=typeof o.componentWillUpdate||(\"function\"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,l),\"function\"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,l)),\"function\"==typeof o.componentDidUpdate&&(t.effectTag|=4),\"function\"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):(\"function\"!=typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),\"function\"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=c):(\"function\"!=typeof o.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),\"function\"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return bo(e,t,n,r,a,i)}function bo(e,t,n,r,i,a){vo(e,t);var o=0!=(64&t.effectTag);if(!r&&!o)return i&&Vr(t,n,!1),So(e,t,a);r=t.stateNode,lo.current=t;var s=o&&\"function\"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=Ki(t,e.child,null,a),t.child=Ki(t,null,s,a)):fo(e,t,s,a),t.memoizedState=r.state,i&&Vr(t,n,!0),t.child}function xo(e){var t=e.stateNode;t.pendingContext?Ur(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ur(0,t.context,!1),oa(e,t.containerInfo)}var _o={};function wo(e,t,n){var r,i=t.mode,a=t.pendingProps,o=da.current,s=null,u=!1;if((r=0!=(64&t.effectTag))||(r=0!=(o&ha)&&(null===e||null!==e.memoizedState)),r?(s=_o,u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(o|=fa),Lr(da,o&=ca),null===e)if(u){if(a=a.fallback,(e=su(null,i,0,null)).return=t,0==(2&t.mode))for(u=null!==t.memoizedState?t.child.child:t.child,e.child=u;null!==u;)u.return=e,u=u.sibling;(n=su(a,i,n,null)).return=t,e.sibling=n,i=e}else i=n=ea(t,null,a.children,n);else{if(null!==e.memoizedState)if(i=(o=e.child).sibling,u){if(a=a.fallback,(n=au(o,o.pendingProps)).return=t,0==(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==o.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;(a=au(i,a,i.expirationTime)).return=t,n.sibling=a,i=n,n.childExpirationTime=0,n=a}else i=n=Ki(t,o.child,a.children,n);else if(o=e.child,u){if(u=a.fallback,(a=su(null,i,0,null)).return=t,a.child=o,null!==o&&(o.return=a),0==(2&t.mode))for(o=null!==t.memoizedState?t.child.child:t.child,a.child=o;null!==o;)o.return=a,o=o.sibling;(n=su(u,i,n,null)).return=t,a.sibling=n,n.effectTag|=2,i=a,a.childExpirationTime=0}else n=i=Ki(t,o,a.children,n);t.stateNode=e.stateNode}return t.memoizedState=s,t.child=i,n}function Eo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i)}function Mo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(fo(e,t,r.children,n),0!=((r=da.current)&ha))r=r&ca|ha,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var o=e.alternate;null!==o&&o.expirationTime<n&&(o.expirationTime=n),Ti(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=ca}if(Lr(da,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case\"forwards\":for(n=t.child,i=null;null!==n;)null!==(r=n.alternate)&&null===pa(r)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Eo(t,!1,i,n,a);break;case\"backwards\":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(r=i.alternate)&&null===pa(r)){t.child=i;break}r=i.sibling,i.sibling=n,n=i,i=r}Eo(t,!0,n,null,a);break;case\"together\":Eo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function So(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw o(Error(153));if(null!==t.child){for(n=au(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=au(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function To(e){e.effectTag|=4}var Co=void 0,Po=void 0,Ao=void 0,ko=void 0;function Oo(e,t){switch(e.tailMode){case\"hidden\":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case\"collapsed\":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Lo(e){switch(e.tag){case 1:Fr(e.type)&&Br();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:if(sa(),jr(),0!=(64&(t=e.effectTag)))throw o(Error(285));return e.effectTag=-2049&t|64,e;case 5:return la(e),null;case 13:return Or(da),2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 19:return Or(da),null;case 4:return sa(),null;case 10:return Si(e),null;default:return null}}function Ro(e,t){return{value:e,source:t,stack:ft(t)}}Co=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(20===n.tag)e.appendChild(n.stateNode.instance);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Ao=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s=t.stateNode;switch(aa(na.current),e=null,n){case\"input\":o=wt(s,o),r=wt(s,r),e=[];break;case\"option\":o=tr(s,o),r=tr(s,r),e=[];break;case\"select\":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case\"textarea\":o=rr(s,o),r=rr(s,r),e=[];break;default:\"function\"!=typeof o.onClick&&\"function\"==typeof r.onClick&&(s.onclick=_r)}yr(n,r),s=n=void 0;var u=null;for(n in o)if(!r.hasOwnProperty(n)&&o.hasOwnProperty(n)&&null!=o[n])if(\"style\"===n){var l=o[n];for(s in l)l.hasOwnProperty(s)&&(u||(u={}),u[s]=\"\")}else\"dangerouslySetInnerHTML\"!==n&&\"children\"!==n&&\"suppressContentEditableWarning\"!==n&&\"suppressHydrationWarning\"!==n&&\"autoFocus\"!==n&&(d.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var c=r[n];if(l=null!=o?o[n]:void 0,r.hasOwnProperty(n)&&c!==l&&(null!=c||null!=l))if(\"style\"===n)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(u||(u={}),u[s]=\"\");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(u||(u={}),u[s]=c[s])}else u||(e||(e=[]),e.push(n,u)),u=c;else\"dangerouslySetInnerHTML\"===n?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(n,\"\"+c)):\"children\"===n?l===c||\"string\"!=typeof c&&\"number\"!=typeof c||(e=e||[]).push(n,\"\"+c):\"suppressContentEditableWarning\"!==n&&\"suppressHydrationWarning\"!==n&&(d.hasOwnProperty(n)?(null!=c&&xr(a,n),e||l===c||(e=[])):(e=e||[]).push(n,c))}u&&(e=e||[]).push(\"style\",u),a=e,(t.updateQueue=a)&&To(t)}},ko=function(e,t,n,r){n!==r&&To(t)};var No=\"function\"==typeof WeakSet?WeakSet:Set;function Io(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ft(n)),null!==n&&ct(n.type),t=t.value,null!==e&&1===e.tag&&ct(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function Do(e){var t=e.ref;if(null!==t)if(\"function\"==typeof t)try{t(null)}catch(t){Zs(e,t)}else t.current=null}function zo(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==ma){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==ma&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function Fo(e,t){switch(\"function\"==typeof tu&&tu(e),e.tag){case 0:case 11:case 14:case 15:var n=e.updateQueue;if(null!==n&&null!==(n=n.lastEffect)){var r=n.next;hi(97<t?97:t,(function(){var t=r;do{var n=t.destroy;if(void 0!==n){var i=e;try{n()}catch(e){Zs(i,e)}}t=t.next}while(t!==r)}))}break;case 1:Do(e),\"function\"==typeof(t=e.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Zs(e,t)}}(e,t);break;case 5:Do(e);break;case 4:Ho(e,t)}}function Bo(e,t){for(var n=e;;)if(Fo(n,t),null!==n.child&&4!==n.tag)n.child.return=n,n=n.child;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function jo(e){return 5===e.tag||3===e.tag||4===e.tag}function Uo(e){e:{for(var t=e.return;null!==t;){if(jo(t)){var n=t;break e}t=t.return}throw o(Error(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw o(Error(161))}16&n.effectTag&&(hr(t,\"\"),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||jo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){var a=5===i.tag||6===i.tag;if(a||20===i.tag){var s=a?i.stateNode:i.stateNode.instance;if(n)if(r){var u=s;s=n,8===(a=t).nodeType?a.parentNode.insertBefore(u,s):a.insertBefore(u,s)}else t.insertBefore(s,n);else r?(8===(u=t).nodeType?(a=u.parentNode).insertBefore(s,u):(a=u).appendChild(s),null!=(u=u._reactRootContainer)||null!==a.onclick||(a.onclick=_r)):t.appendChild(s)}else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Ho(e,t){for(var n=e,r=!1,i=void 0,a=void 0;;){if(!r){r=n.return;e:for(;;){if(null===r)throw o(Error(160));switch(i=r.stateNode,r.tag){case 5:a=!1;break e;case 3:case 4:i=i.containerInfo,a=!0;break e}r=r.return}r=!0}if(5===n.tag||6===n.tag)if(Bo(n,t),a){var s=i,u=n.stateNode;8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)}else i.removeChild(n.stateNode);else if(20===n.tag)u=n.stateNode.instance,Bo(n,t),a?8===(s=i).nodeType?s.parentNode.removeChild(u):s.removeChild(u):i.removeChild(u);else if(4===n.tag){if(null!==n.child){i=n.stateNode.containerInfo,a=!0,n.child.return=n,n=n.child;continue}}else if(Fo(n,t),null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;4===(n=n.return).tag&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Go(e,t){switch(t.tag){case 0:case 11:case 14:case 15:zo(ga,ya,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[I]=r,\"input\"===e&&\"radio\"===r.type&&null!=r.name&&Mt(n,r),br(e,i),t=br(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];\"style\"===s?vr(n,u):\"dangerouslySetInnerHTML\"===s?fr(n,u):\"children\"===s?hr(n,u):xt(n,s,u,t)}switch(e){case\"input\":St(n,r);break;case\"textarea\":ar(n,r);break;case\"select\":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?nr(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?nr(n,!!r.multiple,r.defaultValue,!0):nr(n,!!r.multiple,r.multiple?[]:\"\",!1))}}}break;case 6:if(null===t.stateNode)throw o(Error(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,ms=li()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?\"function\"==typeof(a=a.style).setProperty?a.setProperty(\"display\",\"none\",\"important\"):a.display=\"none\":(a=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty(\"display\")?i.display:null,a.style.display=mr(\"display\",i));else if(6===e.tag)e.stateNode.nodeValue=r?\"\":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}Vo(t);break;case 19:Vo(t);break;case 17:case 20:break;default:throw o(Error(163))}}function Vo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new No),t.forEach((function(t){var r=$s.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Wo=\"function\"==typeof WeakMap?WeakMap:Map;function qo(e,t,n){(n=Li(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ys||(ys=!0,bs=r),Io(e,t)},n}function Xo(e,t,n){(n=Li(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if(\"function\"==typeof r){var i=t.value;n.payload=function(){return Io(e,t),r(i)}}var a=e.stateNode;return null!==a&&\"function\"==typeof a.componentDidCatch&&(n.callback=function(){\"function\"!=typeof r&&(null===xs?xs=new Set([this]):xs.add(this),Io(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:\"\"})}),n}var Yo=Math.ceil,Qo=qe.ReactCurrentDispatcher,Zo=qe.ReactCurrentOwner,Jo=0,$o=8,Ko=16,es=32,ts=0,ns=1,rs=2,is=3,as=4,os=Jo,ss=null,us=null,ls=0,cs=ts,fs=1073741823,hs=1073741823,ds=null,ps=!1,ms=0,vs=500,gs=null,ys=!1,bs=null,xs=null,_s=!1,ws=null,Es=90,Ms=0,Ss=null,Ts=0,Cs=null,Ps=0;function As(){return(os&(Ko|es))!==Jo?1073741821-(li()/10|0):0!==Ps?Ps:Ps=1073741821-(li()/10|0)}function ks(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=ci();if(0==(4&t))return 99===r?1073741823:1073741822;if((os&Ko)!==Jo)return ls;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=1;break;default:throw o(Error(326))}return null!==ss&&e===ls&&--e,e}var Os=0;function Ls(e,t){if(50<Ts)throw Ts=0,Cs=null,o(Error(185));if(null!==(e=Rs(e,t))){e.pingTime=0;var n=ci();if(1073741823===t)if((os&$o)!==Jo&&(os&(Ko|es))===Jo)for(var r=Us(e,1073741823,!0);null!==r;)r=r(!0);else Ns(e,99,1073741823),os===Jo&&mi();else Ns(e,n,t);(4&os)===Jo||98!==n&&99!==n||(null===Ss?Ss=new Map([[e,t]]):(void 0===(n=Ss.get(e))||n>t)&&Ss.set(e,t))}}function Rs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(t>i.firstPendingTime&&(i.firstPendingTime=t),0===(e=i.lastPendingTime)||t<e)&&(i.lastPendingTime=t),i}function Ns(e,t,n){if(e.callbackExpirationTime<n){var r=e.callbackNode;null!==r&&r!==ri&&Xr(r),e.callbackExpirationTime=n,1073741823===n?e.callbackNode=pi(Is.bind(null,e,Us.bind(null,e,n))):(r=null,1!==n&&(r={timeout:10*(1073741821-n)-li()}),e.callbackNode=di(t,Is.bind(null,e,Us.bind(null,e,n)),r))}}function Is(e,t,n){var r=e.callbackNode,i=null;try{return null!==(i=t(n))?Is.bind(null,e,i):null}finally{null===i&&r===e.callbackNode&&(e.callbackNode=null,e.callbackExpirationTime=0)}}function Ds(){(os&(1|Ko|es))===Jo&&(function(){if(null!==Ss){var e=Ss;Ss=null,e.forEach((function(e,t){pi(Us.bind(null,t,e))})),mi()}}(),Xs())}function zs(e,t){var n=os;os|=1;try{return e(t)}finally{(os=n)===Jo&&mi()}}function Fs(e,t,n,r){var i=os;os|=4;try{return hi(98,e.bind(null,t,n,r))}finally{(os=i)===Jo&&mi()}}function Bs(e,t){var n=os;os&=-2,os|=$o;try{return e(t)}finally{(os=n)===Jo&&mi()}}function js(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Cr(n)),null!==us)for(n=us.return;null!==n;){var r=n;switch(r.tag){case 1:var i=r.type.childContextTypes;null!=i&&Br();break;case 3:sa(),jr();break;case 5:la(r);break;case 4:sa();break;case 13:case 19:Or(da);break;case 10:Si(r)}n=n.return}ss=e,us=au(e.current,null),ls=t,cs=ts,hs=fs=1073741823,ds=null,ps=!1}function Us(e,t,n){if((os&(Ko|es))!==Jo)throw o(Error(327));if(e.firstPendingTime<t)return null;if(n&&e.finishedExpirationTime===t)return Ws.bind(null,e);if(Xs(),e!==ss||t!==ls)js(e,t);else if(cs===is)if(ps)js(e,t);else{var r=e.lastPendingTime;if(r<t)return Us.bind(null,e,r)}if(null!==us){r=os,os|=Ko;var i=Qo.current;if(null===i&&(i=Ja),Qo.current=Ja,n){if(1073741823!==t){var a=As();if(a<t)return os=r,Ei(),Qo.current=i,Us.bind(null,e,a)}}else Ps=0;for(;;)try{if(n)for(;null!==us;)us=Gs(us);else for(;null!==us&&!Yr();)us=Gs(us);break}catch(n){if(Ei(),ja(),null===(a=us)||null===a.return)throw js(e,t),os=r,n;e:{var s=e,u=a.return,l=a,c=n,f=ls;if(l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==c&&\"object\"==typeof c&&\"function\"==typeof c.then){var h=c,d=0!=(da.current&fa);c=u;do{var p;if((p=13===c.tag)&&(null!==c.memoizedState?p=!1:p=void 0!==(p=c.memoizedProps).fallback&&(!0!==p.unstable_avoidThisFallback||!d)),p){if(null===(u=c.updateQueue)?((u=new Set).add(h),c.updateQueue=u):u.add(h),0==(2&c.mode)){c.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:((f=Li(1073741823,null)).tag=2,Ni(l,f))),l.expirationTime=1073741823;break e}l=s,s=f,null===(d=l.pingCache)?(d=l.pingCache=new Wo,u=new Set,d.set(h,u)):void 0===(u=d.get(h))&&(u=new Set,d.set(h,u)),u.has(s)||(u.add(s),l=Js.bind(null,l,h,s),h.then(l,l)),c.effectTag|=2048,c.expirationTime=f;break e}c=c.return}while(null!==c);c=Error((ct(l.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\"+ft(l))}cs!==as&&(cs=ns),c=Ro(c,l),l=u;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=f,Ii(l,f=qo(l,c,f));break e;case 1:if(h=c,s=l.type,u=l.stateNode,0==(64&l.effectTag)&&(\"function\"==typeof s.getDerivedStateFromError||null!==u&&\"function\"==typeof u.componentDidCatch&&(null===xs||!xs.has(u)))){l.effectTag|=2048,l.expirationTime=f,Ii(l,f=Xo(l,h,f));break e}}l=l.return}while(null!==l)}us=Vs(a)}if(os=r,Ei(),Qo.current=i,null!==us)return Us.bind(null,e,t)}if(e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,function(e,t){var n=e.firstBatch;return!!(null!==n&&n._defer&&n._expirationTime>=t)&&(di(97,(function(){return n._onComplete(),null})),!0)}(e,t))return null;switch(ss=null,cs){case ts:throw o(Error(328));case ns:return(r=e.lastPendingTime)<t?Us.bind(null,e,r):n?Ws.bind(null,e):(js(e,t),pi(Us.bind(null,e,t)),null);case rs:return 1073741823===fs&&!n&&10<(n=ms+vs-li())?ps?(js(e,t),Us.bind(null,e,t)):(r=e.lastPendingTime)<t?Us.bind(null,e,r):(e.timeoutHandle=Tr(Ws.bind(null,e),n),null):Ws.bind(null,e);case is:if(!n){if(ps)return js(e,t),Us.bind(null,e,t);if((n=e.lastPendingTime)<t)return Us.bind(null,e,n);if(1073741823!==hs?n=10*(1073741821-hs)-li():1073741823===fs?n=0:(n=10*(1073741821-fs)-5e3,0>(n=(r=li())-n)&&(n=0),(t=10*(1073741821-t)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Yo(n/1960))-n)&&(n=t)),10<n)return e.timeoutHandle=Tr(Ws.bind(null,e),n),null}return Ws.bind(null,e);case as:return!n&&1073741823!==fs&&null!==ds&&(r=fs,0>=(t=0|(i=ds).busyMinDurationMs)?t=0:(n=0|i.busyDelayMs,t=(r=li()-(10*(1073741821-r)-(0|i.timeoutMs||5e3)))<=n?0:n+t-r),10<t)?(e.timeoutHandle=Tr(Ws.bind(null,e),t),null):Ws.bind(null,e);default:throw o(Error(329))}}function Hs(e,t){e<fs&&1<e&&(fs=e),null!==t&&e<hs&&1<e&&(hs=e,ds=t)}function Gs(e){var t=Ks(e.alternate,e,ls);return e.memoizedProps=e.pendingProps,null===t&&(t=Vs(e)),Zo.current=null,t}function Vs(e){us=e;do{var t=us.alternate;if(e=us.return,0==(1024&us.effectTag)){e:{var n=t,r=ls,a=(t=us).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Fr(t.type)&&Br();break;case 3:sa(),jr(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==n&&null!==n.child||(so(t),t.effectTag&=-3),Po(t);break;case 5:la(t),r=aa(ia.current);var s=t.type;if(null!==n&&null!=t.stateNode)Ao(n,t,s,a,r),n.ref!==t.ref&&(t.effectTag|=128);else if(a){var u=aa(na.current);if(so(t)){a=void 0,s=(n=t).stateNode;var l=n.type,c=n.memoizedProps;switch(s[N]=n,s[I]=c,l){case\"iframe\":case\"object\":case\"embed\":In(\"load\",s);break;case\"video\":case\"audio\":for(var f=0;f<ne.length;f++)In(ne[f],s);break;case\"source\":In(\"error\",s);break;case\"img\":case\"image\":case\"link\":In(\"error\",s),In(\"load\",s);break;case\"form\":In(\"reset\",s),In(\"submit\",s);break;case\"details\":In(\"toggle\",s);break;case\"input\":Et(s,c),In(\"invalid\",s),xr(r,\"onChange\");break;case\"select\":s._wrapperState={wasMultiple:!!c.multiple},In(\"invalid\",s),xr(r,\"onChange\");break;case\"textarea\":ir(s,c),In(\"invalid\",s),xr(r,\"onChange\")}for(a in yr(l,c),f=null,c)c.hasOwnProperty(a)&&(u=c[a],\"children\"===a?\"string\"==typeof u?s.textContent!==u&&(f=[\"children\",u]):\"number\"==typeof u&&s.textContent!==\"\"+u&&(f=[\"children\",\"\"+u]):d.hasOwnProperty(a)&&null!=u&&xr(r,a));switch(l){case\"input\":Ve(s),Tt(s,c,!0);break;case\"textarea\":Ve(s),or(s);break;case\"select\":case\"option\":break;default:\"function\"==typeof c.onClick&&(s.onclick=_r)}r=f,n.updateQueue=r,null!==r&&To(t)}else{c=s,n=a,l=t,f=9===r.nodeType?r:r.ownerDocument,u===sr.html&&(u=ur(c)),u===sr.html?\"script\"===c?((c=f.createElement(\"div\")).innerHTML=\"<script><\\/script>\",f=c.removeChild(c.firstChild)):\"string\"==typeof n.is?f=f.createElement(c,{is:n.is}):(f=f.createElement(c),\"select\"===c&&(c=f,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):f=f.createElementNS(u,c),(c=f)[N]=l,c[I]=n,Co(n=c,t,!1,!1),l=n;var h=r,p=br(s,a);switch(s){case\"iframe\":case\"object\":case\"embed\":In(\"load\",l),r=a;break;case\"video\":case\"audio\":for(r=0;r<ne.length;r++)In(ne[r],l);r=a;break;case\"source\":In(\"error\",l),r=a;break;case\"img\":case\"image\":case\"link\":In(\"error\",l),In(\"load\",l),r=a;break;case\"form\":In(\"reset\",l),In(\"submit\",l),r=a;break;case\"details\":In(\"toggle\",l),r=a;break;case\"input\":Et(l,a),r=wt(l,a),In(\"invalid\",l),xr(h,\"onChange\");break;case\"option\":r=tr(l,a);break;case\"select\":l._wrapperState={wasMultiple:!!a.multiple},r=i({},a,{value:void 0}),In(\"invalid\",l),xr(h,\"onChange\");break;case\"textarea\":ir(l,a),r=rr(l,a),In(\"invalid\",l),xr(h,\"onChange\");break;default:r=a}yr(s,r),c=void 0,f=s,u=l;var m=r;for(c in m)if(m.hasOwnProperty(c)){var v=m[c];\"style\"===c?vr(u,v):\"dangerouslySetInnerHTML\"===c?null!=(v=v?v.__html:void 0)&&fr(u,v):\"children\"===c?\"string\"==typeof v?(\"textarea\"!==f||\"\"!==v)&&hr(u,v):\"number\"==typeof v&&hr(u,\"\"+v):\"suppressContentEditableWarning\"!==c&&\"suppressHydrationWarning\"!==c&&\"autoFocus\"!==c&&(d.hasOwnProperty(c)?null!=v&&xr(h,c):null!=v&&xt(u,c,v,p))}switch(s){case\"input\":Ve(l),Tt(l,a,!1);break;case\"textarea\":Ve(l),or(l);break;case\"option\":null!=a.value&&l.setAttribute(\"value\",\"\"+_t(a.value));break;case\"select\":r=l,l=a,r.multiple=!!l.multiple,null!=(c=l.value)?nr(r,!!l.multiple,c,!1):null!=l.defaultValue&&nr(r,!!l.multiple,l.defaultValue,!0);break;default:\"function\"==typeof r.onClick&&(l.onclick=_r)}Mr(s,a)&&To(t),t.stateNode=n}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw o(Error(166));break;case 6:if(n&&null!=t.stateNode)ko(n,t,n.memoizedProps,a);else{if(\"string\"!=typeof a&&null===t.stateNode)throw o(Error(166));n=aa(ia.current),aa(na.current),so(t)?(r=t.stateNode,n=t.memoizedProps,r[N]=t,r.nodeValue!==n&&To(t)):(r=t,(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[N]=t,r.stateNode=n)}break;case 11:break;case 13:if(Or(da),a=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}r=null!==a,a=!1,null===n?so(t):(a=null!==(s=n.memoizedState),r||null===s||null!==(s=n.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=s,s.nextEffect=l):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),r&&!a&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(da.current&fa)?cs===ts&&(cs=rs):cs!==ts&&cs!==rs||(cs=is)),(r||a)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:sa(),Po(t);break;case 10:Si(t);break;case 9:case 14:break;case 17:Fr(t.type)&&Br();break;case 18:break;case 19:if(Or(da),null===(a=t.memoizedState))break;if(s=0!=(64&t.effectTag),null===(l=a.rendering)){if(s)Oo(a,!1);else if(cs!==ts||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(l=pa(n))){for(t.effectTag|=64,Oo(a,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),t.firstEffect=t.lastEffect=null,n=t.child;null!==n;)s=r,(a=n).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(l=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=l.childExpirationTime,a.expirationTime=l.expirationTime,a.child=l.child,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,s=l.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;Lr(da,da.current&ca|ha),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=pa(l))){if(t.effectTag|=64,s=!0,Oo(a,!0),null===a.tail&&\"hidden\"===a.tailMode){null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),null!==(t=t.lastEffect=a.lastEffect)&&(t.nextEffect=null);break}}else li()>a.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,Oo(a,!1),t.expirationTime=t.childExpirationTime=r-1);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=a.last)?r.sibling=l:t.child=l,a.last=l)}if(null!==a.tail){0===a.tailExpiration&&(a.tailExpiration=li()+500),r=a.tail,a.rendering=r,a.tail=r.sibling,a.lastEffect=t.lastEffect,r.sibling=null,n=da.current,Lr(da,n=s?n&ca|ha:n&ca),t=r;break e}break;case 20:break;default:throw o(Error(156))}t=null}if(r=us,1===ls||1!==r.childExpirationTime){for(n=0,a=r.child;null!==a;)(s=a.expirationTime)>n&&(n=s),(l=a.childExpirationTime)>n&&(n=l),a=a.sibling;r.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(1024&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=us.firstEffect),null!==us.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=us.firstEffect),e.lastEffect=us.lastEffect),1<us.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=us:e.firstEffect=us,e.lastEffect=us))}else{if(null!==(t=Lo(us)))return t.effectTag&=1023,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=1024)}if(null!==(t=us.sibling))return t;us=e}while(null!==us);return cs===ts&&(cs=as),null}function Ws(e){var t=ci();return hi(99,qs.bind(null,e,t)),null!==ws&&di(97,(function(){return Xs(),null})),null}function qs(e,t){if(Xs(),(os&(Ko|es))!==Jo)throw o(Error(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw o(Error(177));e.callbackNode=null,e.callbackExpirationTime=0;var i=n.expirationTime,a=n.childExpirationTime;if(i=a>i?a:i,e.firstPendingTime=i,i<e.lastPendingTime&&(e.lastPendingTime=i),e===ss&&(us=ss=null,ls=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){a=os,os|=es,Zo.current=null,wr=Nn;var s=Wn();if(qn(s)){if(\"selectionStart\"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{u.nodeType,f.nodeType}catch(e){u=null;break e}var h=0,d=-1,p=-1,m=0,v=0,g=s,y=null;t:for(;;){for(var b;g!==u||0!==c&&3!==g.nodeType||(d=h+c),g!==f||0!==l&&3!==g.nodeType||(p=h+l),3===g.nodeType&&(h+=g.nodeValue.length),null!==(b=g.firstChild);)y=g,g=b;for(;;){if(g===s)break t;if(y===u&&++m===c&&(d=h),y===f&&++v===l&&(p=h),null!==(b=g.nextSibling))break;y=(g=y).parentNode}g=b}u=-1===d||-1===p?null:{start:d,end:p}}else u=null}u=u||{start:0,end:0}}else u=null;Er={focusedElem:s,selectionRange:u},Nn=!1,gs=i;do{try{for(;null!==gs;){if(0!=(256&gs.effectTag)){var x=gs.alternate;switch((s=gs).tag){case 0:case 11:case 15:zo(va,ma,s);break;case 1:if(256&s.effectTag&&null!==x){var _=x.memoizedProps,w=x.memoizedState,E=s.stateNode,M=E.getSnapshotBeforeUpdate(s.elementType===s.type?_:yi(s.type,_),w);E.__reactInternalSnapshotBeforeUpdate=M}break;case 3:case 5:case 6:case 4:case 17:break;default:throw o(Error(163))}}gs=gs.nextEffect}}catch(e){if(null===gs)throw o(Error(330));Zs(gs,e),gs=gs.nextEffect}}while(null!==gs);gs=i;do{try{for(x=t;null!==gs;){var S=gs.effectTag;if(16&S&&hr(gs.stateNode,\"\"),128&S){var T=gs.alternate;if(null!==T){var C=T.ref;null!==C&&(\"function\"==typeof C?C(null):C.current=null)}}switch(14&S){case 2:Uo(gs),gs.effectTag&=-3;break;case 6:Uo(gs),gs.effectTag&=-3,Go(gs.alternate,gs);break;case 4:Go(gs.alternate,gs);break;case 8:Ho(_=gs,x),_.return=null,_.child=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null;var P=_.alternate;null!==P&&(P.return=null,P.child=null,P.memoizedState=null,P.updateQueue=null,P.dependencies=null)}gs=gs.nextEffect}}catch(e){if(null===gs)throw o(Error(330));Zs(gs,e),gs=gs.nextEffect}}while(null!==gs);if(C=Er,T=Wn(),S=C.focusedElem,x=C.selectionRange,T!==S&&S&&S.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):\"contains\"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(S.ownerDocument.documentElement,S)){null!==x&&qn(S)&&(T=x.start,void 0===(C=x.end)&&(C=T),\"selectionStart\"in S?(S.selectionStart=T,S.selectionEnd=Math.min(C,S.value.length)):(C=(T=S.ownerDocument||document)&&T.defaultView||window).getSelection&&(C=C.getSelection(),_=S.textContent.length,P=Math.min(x.start,_),x=void 0===x.end?P:Math.min(x.end,_),!C.extend&&P>x&&(_=x,x=P,P=_),_=Vn(S,P),w=Vn(S,x),_&&w&&(1!==C.rangeCount||C.anchorNode!==_.node||C.anchorOffset!==_.offset||C.focusNode!==w.node||C.focusOffset!==w.offset)&&((T=T.createRange()).setStart(_.node,_.offset),C.removeAllRanges(),P>x?(C.addRange(T),C.extend(w.node,w.offset)):(T.setEnd(w.node,w.offset),C.addRange(T))))),T=[];for(C=S;C=C.parentNode;)1===C.nodeType&&T.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(\"function\"==typeof S.focus&&S.focus(),S=0;S<T.length;S++)(C=T[S]).element.scrollLeft=C.left,C.element.scrollTop=C.top}Er=null,Nn=!!wr,wr=null,e.current=n,gs=i;do{try{for(S=r;null!==gs;){var A=gs.effectTag;if(36&A){var k=gs.alternate;switch(C=S,(T=gs).tag){case 0:case 11:case 15:zo(ba,xa,T);break;case 1:var O=T.stateNode;if(4&T.effectTag)if(null===k)O.componentDidMount();else{var L=T.elementType===T.type?k.memoizedProps:yi(T.type,k.memoizedProps);O.componentDidUpdate(L,k.memoizedState,O.__reactInternalSnapshotBeforeUpdate)}var R=T.updateQueue;null!==R&&Bi(0,R,O);break;case 3:var N=T.updateQueue;if(null!==N){if(P=null,null!==T.child)switch(T.child.tag){case 5:P=T.child.stateNode;break;case 1:P=T.child.stateNode}Bi(0,N,P)}break;case 5:var I=T.stateNode;null===k&&4&T.effectTag&&(C=I,Mr(T.type,T.memoizedProps)&&C.focus());break;case 6:case 4:case 12:break;case 13:case 19:case 17:case 20:break;default:throw o(Error(163))}}if(128&A){var D=gs.ref;if(null!==D){var z=gs.stateNode;switch(gs.tag){case 5:var F=z;break;default:F=z}\"function\"==typeof D?D(F):D.current=F}}512&A&&(_s=!0),gs=gs.nextEffect}}catch(e){if(null===gs)throw o(Error(330));Zs(gs,e),gs=gs.nextEffect}}while(null!==gs);gs=null,ii(),os=a}else e.current=n;if(_s)_s=!1,ws=e,Ms=r,Es=t;else for(gs=i;null!==gs;)t=gs.nextEffect,gs.nextEffect=null,gs=t;if(0!==(t=e.firstPendingTime)?Ns(e,A=gi(A=As(),t),t):xs=null,\"function\"==typeof eu&&eu(n.stateNode,r),1073741823===t?e===Cs?Ts++:(Ts=0,Cs=e):Ts=0,ys)throw ys=!1,e=bs,bs=null,e;return(os&$o)!==Jo?null:(mi(),null)}function Xs(){if(null===ws)return!1;var e=ws,t=Ms,n=Es;return ws=null,Ms=0,Es=90,hi(97<n?97:n,Ys.bind(null,e,t))}function Ys(e){if((os&(Ko|es))!==Jo)throw o(Error(331));var t=os;for(os|=es,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:zo(wa,ma,n),zo(ma,_a,n)}}catch(t){if(null===e)throw o(Error(330));Zs(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return os=t,mi(),!0}function Qs(e,t,n){Ni(e,t=qo(e,t=Ro(n,t),1073741823)),null!==(e=Rs(e,1073741823))&&Ns(e,99,1073741823)}function Zs(e,t){if(3===e.tag)Qs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Qs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if(\"function\"==typeof n.type.getDerivedStateFromError||\"function\"==typeof r.componentDidCatch&&(null===xs||!xs.has(r))){Ni(n,e=Xo(n,e=Ro(t,e),1073741823)),null!==(n=Rs(n,1073741823))&&Ns(n,99,1073741823);break}}n=n.return}}function Js(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ss===e&&ls===n?cs===is||cs===rs&&1073741823===fs&&li()-ms<vs?js(e,ls):ps=!0:e.lastPendingTime<n||(0!==(t=e.pingTime)&&t<n||(e.pingTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),Ns(e,t=gi(t=As(),n),n)))}function $s(e,t){var n=e.stateNode;null!==n&&n.delete(t),n=gi(n=As(),t=ks(n,e,null)),null!==(e=Rs(e,t))&&Ns(e,n,t)}var Ks=void 0;Ks=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||Ir.current)co=!0;else if(r<n){switch(co=!1,t.tag){case 3:xo(t),uo();break;case 5:if(ua(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Fr(t.type)&&Gr(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:Mi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?wo(e,t,n):(Lr(da,da.current&ca),null!==(t=So(e,t,n))?t.sibling:null);Lr(da,da.current&ca);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Mo(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),Lr(da,da.current),!r)return null}return So(e,t,n)}}else co=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=zr(t,Nr.current),Ci(t,n),i=Ba(null,t,r,e,i,n),t.effectTag|=1,\"object\"==typeof i&&null!==i&&\"function\"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,ja(),Fr(r)){var a=!0;Gr(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;\"function\"==typeof s&&Gi(t,r,s,e),i.updater=Vi,t.stateNode=i,i._reactInternalFiber=t,Yi(t,r,e,n),t=bo(null,t,r,!0,a,n)}else t.tag=0,fo(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)})),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=i,a=t.tag=function(e){if(\"function\"==typeof e)return iu(e)?1:0;if(null!=e){if((e=e.$$typeof)===rt)return 11;if(e===ot)return 14}return 2}(i),e=yi(i,e),a){case 0:t=go(null,t,i,e,n);break;case 1:t=yo(null,t,i,e,n);break;case 11:t=ho(null,t,i,e,n);break;case 14:t=po(null,t,i,yi(i.type,e),r,n);break;default:throw o(Error(306),i,\"\")}return t;case 0:return r=t.type,i=t.pendingProps,go(e,t,r,i=t.elementType===r?i:yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,yo(e,t,r,i=t.elementType===r?i:yi(r,i),n);case 3:if(xo(t),null===(r=t.updateQueue))throw o(Error(282));return i=null!==(i=t.memoizedState)?i.element:null,Fi(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(uo(),t=So(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(to=Pr(t.stateNode.containerInfo.firstChild),eo=t,i=no=!0),i?(t.effectTag|=2,t.child=ea(t,null,r,n)):(fo(e,t,r,n),uo()),t=t.child),t;case 5:return ua(t),null===e&&ao(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Sr(r,i)?s=null:null!==a&&Sr(r,a)&&(t.effectTag|=16),vo(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(fo(e,t,s,n),t=t.child),t;case 6:return null===e&&ao(t),null;case 13:return wo(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ki(t,null,r,n):fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ho(e,t,r,i=t.elementType===r?i:yi(r,i),n);case 7:return fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,Mi(t,a=i.value),null!==s){var u=s.value;if(0===(a=tn(u,a)?0:0|(\"function\"==typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!Ir.current){t=So(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&a)){1===u.tag&&((c=Li(n,null)).tag=2,Ni(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),Ti(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,Ci(t,n),r=r(i=Pi(i,a.unstable_observedBits)),t.effectTag|=1,fo(e,t,r,n),t.child;case 14:return a=yi(i=t.type,t.pendingProps),po(e,t,i,a=yi(i.type,a),r,n);case 15:return mo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Fr(r)?(e=!0,Gr(t)):e=!1,Ci(t,n),qi(t,r,i),Yi(t,r,i,n),bo(null,t,r,!0,e,n);case 19:return Mo(e,t,n)}throw o(Error(156))};var eu=null,tu=null;function nu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ru(e,t,n,r){return new nu(e,t,n,r)}function iu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function au(e,t){var n=e.alternate;return null===n?((n=ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ou(e,t,n,r,i,a){var s=2;if(r=e,\"function\"==typeof e)iu(e)&&(s=1);else if(\"string\"==typeof e)s=5;else e:switch(e){case Je:return su(n.children,i,a,t);case nt:s=8,i|=7;break;case $e:s=8,i|=1;break;case Ke:return(e=ru(12,n,t,8|i)).elementType=Ke,e.type=Ke,e.expirationTime=a,e;case it:return(e=ru(13,n,t,i)).type=it,e.elementType=it,e.expirationTime=a,e;case at:return(e=ru(19,n,t,i)).elementType=at,e.expirationTime=a,e;default:if(\"object\"==typeof e&&null!==e)switch(e.$$typeof){case et:s=10;break e;case tt:s=9;break e;case rt:s=11;break e;case ot:s=14;break e;case st:s=16,r=null;break e}throw o(Error(130),null==e?e:typeof e,\"\")}return(t=ru(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function su(e,t,n,r){return(e=ru(7,e,r,t)).expirationTime=n,e}function uu(e,t,n){return(e=ru(6,e,null,t)).expirationTime=n,e}function lu(e,t,n){return(t=ru(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function fu(e,t,n){return e=new cu(e,t,n),t=ru(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e}function hu(e,t,n,r,i,a){var s=t.current;e:if(n){t:{if(2!==on(n=n._reactInternalFiber)||1!==n.tag)throw o(Error(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Fr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw o(Error(171))}if(1===n.tag){var l=n.type;if(Fr(l)){n=Hr(n,l,u);break e}}n=u}else n=Rr;return null===t.context?t.context=n:t.pendingContext=n,t=a,(i=Li(r,i)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Ni(s,i),Ls(s,r),r}function du(e,t,n,r){var i=t.current,a=As(),o=Ui.suspense;return hu(e,t,n,i=ks(a,i,o),o,r)}function pu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function mu(e){var t=1073741821-25*(1+((1073741821-As()+500)/25|0));t<=Os&&--t,this._expirationTime=Os=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function vu(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function gu(e,t,n){this._internalRoot=fu(e,t,n)}function yu(e,t){this._internalRoot=fu(e,2,t)}function bu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||\" react-mount-point-unstable \"!==e.nodeValue))}function xu(e,t,n,r,i){var a=n._reactRootContainer,o=void 0;if(a){if(o=a._internalRoot,\"function\"==typeof i){var s=i;i=function(){var e=pu(o);s.call(e)}}du(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute(\"data-reactroot\"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new gu(e,0,t)}(n,r),o=a._internalRoot,\"function\"==typeof i){var u=i;i=function(){var e=pu(o);u.call(e)}}Bs((function(){du(t,o,e,i)}))}return pu(o)}function _u(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!bu(t))throw o(Error(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ze,key:null==r?null:\"\"+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ce=function(e,t,n){switch(t){case\"input\":if(St(e,n),t=n.name,\"radio\"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+t)+'][type=\"radio\"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=B(r);if(!i)throw o(Error(90));We(r),St(r,i)}}}break;case\"textarea\":ar(e,n);break;case\"select\":null!=(t=n.value)&&nr(e,!!n.multiple,t,!1)}},mu.prototype.render=function(e){if(!this._defer)throw o(Error(250));this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new vu;return hu(e,t,null,n,null,r._onCommit),r},mu.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},mu.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(!this._defer||null===t)throw o(Error(251));if(this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;if(null===r)throw o(Error(251));r._next=i._next,this._next=t,e.firstBatch=this}if(this._defer=!1,t=n,(os&(Ko|es))!==Jo)throw o(Error(253));pi(Us.bind(null,e,t)),mi(),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},mu.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},vu.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},vu.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];if(\"function\"!=typeof n)throw o(Error(191),n);n()}}},yu.prototype.render=gu.prototype.render=function(e,t){var n=this._internalRoot,r=new vu;return null!==(t=void 0===t?null:t)&&r.then(t),du(e,n,null,r._onCommit),r},yu.prototype.unmount=gu.prototype.unmount=function(e){var t=this._internalRoot,n=new vu;return null!==(e=void 0===e?null:e)&&n.then(e),du(null,t,null,n._onCommit),n},yu.prototype.createBatch=function(){var e=new mu(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Re=zs,Ne=Fs,Ie=Ds,De=function(e,t){var n=os;os|=2;try{return e(t)}finally{(os=n)===Jo&&mi()}};var wu,Eu,Mu={createPortal:_u,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var t=e._reactInternalFiber;if(void 0===t){if(\"function\"==typeof e.render)throw o(Error(188));throw o(Error(268),Object.keys(e))}e=null===(e=un(t))?null:e.stateNode}return e},hydrate:function(e,t,n){if(!bu(t))throw o(Error(200));return xu(null,e,t,!0,n)},render:function(e,t,n){if(!bu(t))throw o(Error(200));return xu(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!bu(n))throw o(Error(200));if(null==e||void 0===e._reactInternalFiber)throw o(Error(38));return xu(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!bu(e))throw o(Error(40));return!!e._reactRootContainer&&(Bs((function(){xu(null,null,e,!1,(function(){e._reactRootContainer=null}))})),!0)},unstable_createPortal:function(){return _u.apply(void 0,arguments)},unstable_batchedUpdates:zs,unstable_interactiveUpdates:function(e,t,n,r){return Ds(),Fs(e,t,n,r)},unstable_discreteUpdates:Fs,unstable_flushDiscreteUpdates:Ds,flushSync:function(e,t){if((os&(Ko|es))!==Jo)throw o(Error(187));var n=os;os|=1;try{return hi(99,e.bind(null,t))}finally{os=n,mi()}},unstable_createRoot:function(e,t){if(!bu(e))throw o(Error(299),\"unstable_createRoot\");return new yu(e,null!=t&&!0===t.hydrate)},unstable_createSyncRoot:function(e,t){if(!bu(e))throw o(Error(299),\"unstable_createRoot\");return new gu(e,1,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=os;os|=1;try{hi(99,e)}finally{(os=t)===Jo&&mi()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[z,F,B,O.injectEventPluginsByName,h,W,function(e){C(e,V)},Oe,Le,Bn,k,Xs,{current:!1}]}};Eu=(wu={findFiberByHostInstance:D,bundleType:0,version:\"16.9.0\",rendererPackageName:\"react-dom\"}).findFiberByHostInstance,function(e){if(\"undefined\"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);eu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},tu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(i({},wu,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=un(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Eu?Eu(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var Su={default:Mu},Tu=Su&&Mu||Su;e.exports=Tu.default||Tu},function(e,t,n){\"use strict\";e.exports=n(107)},function(e,t,n){\"use strict\";\n/** @license React v0.15.0\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */Object.defineProperty(t,\"__esModule\",{value:!0});var r=void 0,i=void 0,a=void 0,o=void 0,s=void 0;if(t.unstable_now=void 0,t.unstable_forceFrameRate=void 0,\"undefined\"==typeof window||\"function\"!=typeof MessageChannel){var u=null,l=null,c=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(c,0),e}};t.unstable_now=function(){return Date.now()},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(c,0))},i=function(e,t){l=setTimeout(e,t)},a=function(){clearTimeout(l)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,d=window.setTimeout,p=window.clearTimeout,m=window.requestAnimationFrame,v=window.cancelAnimationFrame;\"undefined\"!=typeof console&&(\"function\"!=typeof m&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"),\"function\"!=typeof v&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\")),t.unstable_now=\"object\"==typeof f&&\"function\"==typeof f.now?function(){return f.now()}:function(){return h.now()};var g=!1,y=null,b=-1,x=-1,_=33.33,w=-1,E=-1,M=0,S=!1;o=function(){return t.unstable_now()>=M},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\"):0<e?(_=Math.floor(1e3/e),S=!0):(_=33.33,S=!1)};var T=function(){if(null!==y){var e=t.unstable_now(),n=0<M-e;try{y(n,e)||(y=null)}catch(e){throw P.postMessage(null),e}}},C=new MessageChannel,P=C.port2;C.port1.onmessage=T;var A=function(e){if(null===y)E=w=-1,g=!1;else{g=!0,m((function(e){p(b),A(e)}));var n=function(){M=t.unstable_now()+_/2,T(),b=d(n,3*_)};if(b=d(n,3*_),-1!==w&&.1<e-w){var r=e-w;!S&&-1!==E&&r<_&&E<_&&(8.33>(_=r<E?E:r)&&(_=8.33)),E=r}w=e,M=e+_,P.postMessage(null)}};r=function(e){y=e,g||(g=!0,m((function(e){A(e)})))},i=function(e,n){x=d((function(){e(t.unstable_now())}),n)},a=function(){p(x),x=-1}}var k=null,O=null,L=null,R=3,N=!1,I=!1,D=!1;function z(e,t){var n=e.next;if(n===e)k=null;else{e===k&&(k=n);var r=e.previous;r.next=n,n.previous=r}e.next=e.previous=null,n=e.callback,r=R;var i=L;R=e.priorityLevel,L=e;try{var a=e.expirationTime<=t;switch(R){case 1:var o=n(a);break;case 2:case 3:case 4:o=n(a);break;case 5:o=n(a)}}catch(e){throw e}finally{R=r,L=i}if(\"function\"==typeof o)if(t=e.expirationTime,e.callback=o,null===k)k=e.next=e.previous=e;else{o=null,a=k;do{if(t<=a.expirationTime){o=a;break}a=a.next}while(a!==k);null===o?o=k:o===k&&(k=e),(t=o.previous).next=o.previous=e,e.next=o,e.previous=t}}function F(e){if(null!==O&&O.startTime<=e)do{var t=O,n=t.next;if(t===n)O=null;else{O=n;var r=t.previous;r.next=n,n.previous=r}t.next=t.previous=null,H(t,t.expirationTime)}while(null!==O&&O.startTime<=e)}function B(e){D=!1,F(e),I||(null!==k?(I=!0,r(j)):null!==O&&i(B,O.startTime-e))}function j(e,n){I=!1,D&&(D=!1,a()),F(n),N=!0;try{if(e){if(null!==k)do{z(k,n),F(n=t.unstable_now())}while(null!==k&&!o())}else for(;null!==k&&k.expirationTime<=n;)z(k,n),F(n=t.unstable_now());return null!==k||(null!==O&&i(B,O.startTime-n),!1)}finally{N=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}function H(e,t){if(null===k)k=e.next=e.previous=e;else{var n=null,r=k;do{if(t<r.expirationTime){n=r;break}r=r.next}while(r!==k);null===n?n=k:n===k&&(k=e),(t=n.previous).next=n.previous=e,e.next=n,e.previous=t}}var G=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();if(\"object\"==typeof o&&null!==o){var u=o.delay;u=\"number\"==typeof u&&0<u?s+u:s,o=\"number\"==typeof o.timeout?o.timeout:U(e)}else o=U(e),u=s;if(e={callback:n,priorityLevel:e,startTime:u,expirationTime:o=u+o,next:null,previous:null},u>s){if(o=u,null===O)O=e.next=e.previous=e;else{n=null;var l=O;do{if(o<l.startTime){n=l;break}l=l.next}while(l!==O);null===n?n=O:n===O&&(O=e),(o=n.previous).next=n.previous=e,e.next=n,e.previous=o}null===k&&O===e&&(D?a():D=!0,i(B,u-s))}else H(e,o),I||N||(I=!0,r(j));return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(e===t)e===k?k=null:e===O&&(O=null);else{e===k?k=t:e===O&&(O=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_shouldYield=function(){var e=t.unstable_now();return F(e),null!==L&&null!==k&&k.startTime<=e&&k.expirationTime<L.expirationTime||o()},t.unstable_requestPaint=G,t.unstable_continueExecution=function(){I||N||(I=!0,r(j))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return k}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(109)),o=l(n(114)),s=l(n(300)),u=l(n(58));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={menu:\"visualization\"},e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillMount\",value:function(){var e=this;u.default.on(\"selectMenu\",(function(t){e.setState({menu:t})}))}},{key:\"selectMainView\",value:function(){var e=void 0;switch(this.state.menu){case\"visualization\":e=this.vis;break;case\"feature\":e=this.feature}return e}},{key:\"render\",value:function(){return console.log(this.state.menu),i.default.createElement(\"div\",null,i.default.createElement(a.default,null),i.default.createElement(\"div\",{className:\"maincontainer\",id:\"visualization\",style:{display:\"visualization\"===this.state.menu?\"block\":\"none\"}},i.default.createElement(o.default,null)),i.default.createElement(\"div\",{className:\"maincontainer\",id:\"featureExtraction\",style:{display:\"feature\"===this.state.menu?\"block\":\"none\"}},i.default.createElement(s.default,null)))}}]),t}(i.default.Component);t.default=c},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(110)),o=s(n(58));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.menu=\"Visualization\",e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillMount\",value:function(){var e=this;o.default.on(\"selectMenu\",(function(t){e.menu=t}))}},{key:\"componentDidMount\",value:function(){$(\"ul[id*=mainMenuList] li\").click((function(){a.selectMenu($(this).attr(\"value\"))}))}},{key:\"render\",value:function(){return i.default.createElement(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-primary\",id:\"appHeader\"},i.default.createElement(\"a\",{className:\"navbar-brand\",href:\"#\"},\"TimeTubes\"),i.default.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarColor01\",\"aria-controls\":\"navbarColor01\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"},i.default.createElement(\"span\",{className:\"navbar-toggler-icon\"})),i.default.createElement(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarColor01\"},i.default.createElement(\"ul\",{className:\"navbar-nav mr-auto\",id:\"mainMenuList\"},i.default.createElement(\"li\",{className:\"nav-item mainMenu\",value:\"about\"},i.default.createElement(\"label\",{className:\"nav-link menuLabel\"},\"About\")),i.default.createElement(\"li\",{className:\"nav-item mainMenu\",value:\"visualization\"},i.default.createElement(\"label\",{className:\"nav-link menuLabel\"},\"Visualization\")),i.default.createElement(\"li\",{className:\"nav-item mainMenu\",value:\"feature\"},i.default.createElement(\"label\",{className:\"nav-link menuLabel\"},\"Feature Extraction\")),i.default.createElement(\"li\",{className:\"nav-item mainMenu\",value:\"original\"},i.default.createElement(\"label\",{className:\"nav-link menuLabel\"},\"Original Data\")),i.default.createElement(\"li\",{className:\"nav-item mainMenu\",value:\"contact\"},i.default.createElement(\"label\",{className:\"nav-link menuLabel\"},\"Contact\")))))}}]),t}(i.default.Component);t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.selectMenu=function(e){a.default.dispatch({type:\"SELECT_MENU\",menu:e})};var r,i=n(11),a=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){e.exports.Dispatcher=n(112)},function(e,t,n){\"use strict\";t.__esModule=!0;var r=n(113),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t=\"ID_\"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||r(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||r(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||r(!1):(this._callbacks[n]||r(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&r(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=i},function(e,t,n){\"use strict\";var r=function(e){};e.exports=function(e,t,n,i,a,o,s,u){if(r(t),!e){var l;if(void 0===t)l=new Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var c=[n,i,a,o,s,u],f=0;(l=new Error(t.replace(/%s/g,(function(){return c[f++]})))).name=\"Invariant Violation\"}throw l.framesToPop=1,l}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(0)),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(18)),u(n(115))),o=u(n(116)),s=(u(n(60)),u(n(99)),u(n(4)));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={data:s.default.getAllData(),width:$(window).width(),heightTT:$(window).height()/2,heightSP:$(window).height()/2},e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillMount\",value:function(){var e=this;s.default.on(\"upload\",(function(){e.setState({data:s.default.getAllData(),width:$(window).width()/s.default.getDataNum()})}))}},{key:\"collapseSidebar\",value:function(){$(\"#Controllers\").toggle(\"slow\")}},{key:\"collapseFeature\",value:function(){$(\"#Feature\").toggle(\"slow\")}},{key:\"render\",value:function(){var e=this.state.data,t=this.state.width,n=this.state.heightTT,r=this.state.heightSP,u=s.default.getDataNum();if(u>0){t=u<=3?$(window).innerWidth()/u:Math.ceil($(window).innerWidth()/3);var l=$(window).innerHeight()-$(\"#appHeader\").outerHeight()-$(\"#tubeControllers\").outerHeight();n=Math.ceil(.6*l)+100,r=l-n}var c=e.map((function(e){return i.default.createElement(o.default,{key:e.id,id:e.id,data:e.data,width:t,heightTT:n,heightSP:r})}));return i.default.createElement(\"div\",{className:\"contents\",id:\"mainVisArea\"},i.default.createElement(a.default,null),i.default.createElement(\"div\",{id:\"dataColumns\",className:\"container\",style:{display:\"inline-block\",minWidth:\"100%\",padding:\"unset\",overflowX:\"scroll\",overflowY:\"hidden\"}},i.default.createElement(\"div\",{style:{margin:\"unset\"}},c)))}}]),t}(i.default.Component);t.default=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(0)),a=l(n(18)),o=l(n(59)),s=c(n(13)),u=c(n(4));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={data:u.default.getAllData(),fileType:\"csv\",grid:!0,label:!0,axis:!0,plot:!0,clip:!0,shade:!0,lock:!1,multiOptions:!1},e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillMount\",value:function(){var e=this;u.default.on(\"upload\",(function(){e.setState({data:u.default.getAllData()}),document.getElementsByClassName(\"TimeTubes\").length>1&&e.setState({multiOptions:!0}),$(\"#fileInputPanel\").css(\"visibility\",\"hidden\")}))}},{key:\"changeFileType\",value:function(){var e=$(\"input[name=fileType]:checked\").val();this.setState({fileType:e})}},{key:\"resetCamera\",value:function(){this.getSelectedIDs().forEach((function(e){a.resetCamera(e)}))}},{key:\"switchCamera\",value:function(){this.getSelectedIDs().forEach((function(e){a.switchCamera(e)}))}},{key:\"uploadFile\",value:function(){var e=document.querySelector(\"input[type=file]\").files;o.uploadData(e)}},{key:\"searchTime\",value:function(){var e=document.getElementById(\"searchTimeForm\").value;this.getSelectedIDs().forEach((function(t){a.searchTime(t,Number(e))}))}},{key:\"switchGridDisplay\",value:function(){var e=!this.state.grid;this.setState({grid:e}),this.getSelectedIDs().forEach((function(t){a.switchGridDisplay(t,e)}))}},{key:\"switchLabelDisplay\",value:function(){var e=!this.state.label;this.setState({label:e}),this.getSelectedIDs().forEach((function(t){a.switchLabelDisplay(t,e)}))}},{key:\"switchAxisDisplay\",value:function(){var e=!this.state.axis;this.setState({axis:e}),this.getSelectedIDs().forEach((function(t){a.switchAxisDisplay(t,e)}))}},{key:\"switchPlotDisplay\",value:function(){var e=!this.state.plot;this.setState({plot:e}),this.getSelectedIDs().forEach((function(t){a.switchPlotDisplay(t,e)}))}},{key:\"changeBackground\",value:function(){var e=document.getElementById(\"backgroundList\"),t=e.selectedIndex,n=e.options[t].value;this.getSelectedIDs().forEach((function(e){a.changeBackground(e,n)}))}},{key:\"clipTube\",value:function(){var e=!this.state.clip;this.setState({clip:e}),this.getSelectedIDs().forEach((function(t){a.clipTube(t,e)}))}},{key:\"switchShade\",value:function(){var e=!this.state.shade;this.setState({shade:e}),this.getSelectedIDs().forEach((function(t){a.switchShade(t,e)}))}},{key:\"timeFitting\",value:function(){if(this.state.multiOptions){var e=s.default.getActiveId(),t=s.default.getFocused(e),n=u.default.getData(e);a.timeFitting(t+n.data.spatial[0].z)}}},{key:\"mergeTubes\",value:function(){if(this.state.multiOptions){var e=this.getSelectedIDs();o.mergeData(e)}}},{key:\"lockControl\",value:function(){if(this.state.multiOptions){var e=!this.state.lock;this.setState({lock:e});var t=this.getSelectedIDs();a.lockControl(t,e)}}},{key:\"clickClose\",value:function(){var e=document.getElementById(\"closeFilePanel\").innerText;$(\"#fileMainArea\").slideToggle(),e.match(\"Close\")?document.getElementById(\"closeFilePanel\").innerText=\"Open the file input panel\":document.getElementById(\"closeFilePanel\").innerText=\"Close the file input panel\"}},{key:\"clickSub\",value:function(){var e=Number($(\"#initialLineVal\").text());e>0&&$(\"#initialLineVal\").text(e-1)}},{key:\"clickAdd\",value:function(){var e=Number($(\"#initialLineVal\").text());$(\"#initialLineVal\").text(e+1)}},{key:\"getSelectedIDs\",value:function(){var e=s.default.getCheckedList(),t=[];return e.forEach((function(e,n){e&&t.push(n)})),t}},{key:\"basicMenu\",value:function(){return i.default.createElement(\"ul\",{className:\"navbar-nav\",id:\"basicMenu\"},i.default.createElement(\"li\",{className:\"nav-item dropdown\"},i.default.createElement(\"label\",{className:\"nav-link menuLabel\",href:\"#\",id:\"controllersFileDropdown\",role:\"button\",onClick:this.showFileInputPanel.bind(this)},\"File\"),i.default.createElement(\"div\",{className:\"input-group input-group-sm dropdownonTubeMenu\",style:{visibility:\"hidden\",position:\"absolute\",top:\"2rem\",width:\"auto\",zIndex:\"100\"},id:\"fileInputPanel\"},this.fileInputPanel())),i.default.createElement(\"li\",{className:\"nav-item\"},i.default.createElement(\"label\",{className:\"nav-link dropdown-toggle menuLabel\",href:\"#\",id:\"controllersSettingDropdown\",role:\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",style:{fontSize:\"1rem\"}},\"\"),i.default.createElement(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"navbarDropdown\"})))}},{key:\"showFileInputPanel\",value:function(){var e=$(\"#fileInputPanel\").css(\"visibility\"),t=$(\"#controllersFileDropdown\").position();switch(e){case\"visible\":$(\"#fileInputPanel\").css(\"visibility\",\"hidden\");break;case\"hidden\":$(\"#fileInputPanel\").css(\"left\",t.left),$(\"#fileInputPanel\").css(\"visibility\",\"visible\")}}},{key:\"fileInputPanel\",value:function(){return i.default.createElement(\"div\",{id:\"inputFile\",className:\"controllersElem\"},i.default.createElement(\"h6\",null,\"File type\"),i.default.createElement(\"form\",{id:\"fileType\",style:{minWidth:\"200px\"},onChange:this.changeFileType.bind(this)},i.default.createElement(\"div\",{className:\"form-check form-check-inline\"},i.default.createElement(\"input\",{type:\"radio\",name:\"fileType\",value:\"csv\",checked:\"csv\"===this.state.fileType}),i.default.createElement(\"label\",{className:\"form-check-label\",htmlFor:\"inlineCheckbox1\"},\"csv\")),i.default.createElement(\"div\",{className:\"form-check form-check-inline\"},i.default.createElement(\"input\",{type:\"radio\",name:\"fileType\",value:\"tsv\",checked:\"tsv\"===this.state.fileType}),i.default.createElement(\"label\",{className:\"form-check-label\",htmlFor:\"inlineCheckbox1\"},\"tsv\")),i.default.createElement(\"div\",{className:\"form-check form-check-inline\"},i.default.createElement(\"input\",{type:\"radio\",name:\"fileType\",value:\"space\",checked:\"space\"===this.state.fileType}),i.default.createElement(\"label\",{className:\"form-check-label\",htmlFor:\"inlineCheckbox1\"},\"space\"))),i.default.createElement(\"h6\",null,\"Initial line of the data (exclude headers)\"),i.default.createElement(\"div\",{className:\"form-row\",id:\"initialLineField\",style:{display:\"flex\",justifyContent:\"center\"}},i.default.createElement(\"button\",{type:\"button\",id:\"sub\",className:\"sub btn btn-primary  btn-sm\",style:{textAlign:\"center\"},onClick:this.clickSub.bind(this)},\"-\"),i.default.createElement(\"label\",{id:\"initialLineVal\",style:{textAlign:\"center\",width:\"30px\"}},\"2\"),i.default.createElement(\"button\",{type:\"button\",id:\"add\",className:\"add btn btn-primary btn-sm\",style:{textAlign:\"center\"},onClick:this.clickAdd.bind(this)},\"+\")),i.default.createElement(\"h6\",null,\"Select files\"),i.default.createElement(\"div\",{className:\"custom-file\"},i.default.createElement(\"input\",{type:\"file\",className:\"custom-file-input\",id:\"uploadFileForm\",onChange:this.uploadFile.bind(this),multiple:!0}),i.default.createElement(\"label\",{className:\"custom-file-label\",htmlFor:\"customFile\"})))}},{key:\"displayMenu\",value:function(){return i.default.createElement(\"ul\",{className:\"navbar-nav\",id:\"displayMenu\"},i.default.createElement(\"li\",{className:\"nav-item\"},i.default.createElement(\"label\",{className:\"nav-link menuLabel\",id:\"resetCameraBtn\",onClick:this.resetCamera.bind(this)},\"Reset\")),i.default.createElement(\"li\",{className:\"nav-item\"},i.default.createElement(\"label\",{className:\"nav-link menuLabel\",id:\"switchCameraBtn\",onClick:this.switchCamera.bind(this)},\"Switch camera\")),i.default.createElement(\"div\",{className:\"form-check form-check-inline menuItem\"},i.default.createElement(\"input\",{className:\"form-check-input menuCheck\",type:\"checkbox\",id:\"checkboxGrid\",value:\"option1\",checked:this.state.grid,onChange:this.switchGridDisplay.bind(this)}),i.default.createElement(\"label\",{className:\"nav-link menuLabel\",htmlFor:\"inlineCheckbox1\",onClick:this.switchGridDisplay.bind(this)},\"Grid\")),i.default.createElement(\"div\",{className:\"form-check form-check-inline menuItem\"},i.default.createElement(\"input\",{className:\"form-check-input menuCheck\",type:\"checkbox\",id:\"checkboxLabel\",value:\"option1\",checked:this.state.label,onChange:this.switchLabelDisplay.bind(this)}),i.default.createElement(\"label\",{className:\"nav-link menuLabel\",htmlFor:\"inlineCheckbox1\",onClick:this.switchLabelDisplay.bind(this)},\"Label\")),i.default.createElement(\"div\",{className:\"form-check form-check-inline menuItem\"},i.default.createElement(\"input\",{className:\"form-check-input menuCheck\",type:\"checkbox\",id:\"checkboxAxis\",value:\"option1\",checked:this.state.axis,onChange:this.switchAxisDisplay.bind(this)}),i.default.createElement(\"label\",{className:\"nav-link menuLabel\",htmlFor:\"inlineCheckbox1\",onClick:this.switchAxisDisplay.bind(this)},\"Axis\")),i.default.createElement(\"div\",{className:\"form-check form-check-inline menuItem\"},i.default.createElement(\"input\",{className:\"form-check-input menuCheck\",type:\"checkbox\",id:\"checkboxPlot\",value:\"option1\",checked:this.state.plot,onChange:this.switchPlotDisplay.bind(this)}),i.default.createElement(\"label\",{className:\"nav-link menuLabel\",htmlFor:\"inlineCheckbox1\",onClick:this.switchPlotDisplay.bind(this)},\"Plot\")),i.default.createElement(\"div\",{className:\"form-check form-check-inline menuItem\"},i.default.createElement(\"select\",{className:\"form-control\",id:\"backgroundList\",onChange:this.changeBackground.bind(this),style:{fontSize:\"0.8rem\",height:\"1rem\"}},i.default.createElement(\"option\",{value:\"0x000000\"},\"Black\"),i.default.createElement(\"option\",{value:\"0x3f3f3f\"},\"Gray 75\"),i.default.createElement(\"option\",{value:\"0x7f7f7f\"},\"Gray 50\"),i.default.createElement(\"option\",{value:\"0xbfbfbf\"},\"Gray 25\"),i.default.createElement(\"option\",{value:\"0xffffff\"},\"White\"),i.default.createElement(\"option\",{value:\"0x191970\"},\"Navy\"))))}},{key:\"tubeMenu\",value:function(){return i.default.createElement(\"ul\",{className:\"navbar-nav\",id:\"tubeMenu\"},i.default.createElement(\"div\",{className:\"form-check form-check-inline menuItem\"},i.default.createElement(\"input\",{className:\"form-check-input menuCheck\",type:\"checkbox\",id:\"checkboxClip\",value:\"option1\",checked:this.state.clip,onChange:this.clipTube.bind(this)}),i.default.createElement(\"label\",{className:\"nav-link menuLabel\",htmlFor:\"inlineCheckbox1\",onClick:this.clipTube.bind(this)},\"Clip\")),i.default.createElement(\"div\",{className:\"form-check form-check-inline menuItem\"},i.default.createElement(\"input\",{className:\"form-check-input menuCheck\",type:\"checkbox\",id:\"checkboxShade\",value:\"option1\",checked:this.state.shade,onChange:this.switchShade.bind(this)}),i.default.createElement(\"label\",{className:\"nav-link menuLabel\",htmlFor:\"inlineCheckbox1\",onClick:this.switchShade.bind(this)},\"Shade\")),i.default.createElement(\"li\",{className:\"nav-item dropdown\"},i.default.createElement(\"label\",{className:\"nav-link dropdown-toggle menuLabel\",href:\"#\",id:\"navbarDropdown\",role:\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"},\"Average\"),i.default.createElement(\"div\",{className:\"dropdown-menu controllersElem\",\"aria-labelledby\":\"navbarDropdown\"})),i.default.createElement(\"li\",{className:\"nav-item\"},i.default.createElement(\"label\",{className:\"nav-link menuLabel\"},\"Select All\")))}},{key:\"multiTubesMenu\",value:function(){return i.default.createElement(\"ul\",{className:\"navbar-nav\",id:\"multiTubesMenu\"},i.default.createElement(\"div\",{className:\"form-check form-check-inline menuItem\"},i.default.createElement(\"input\",{className:\"form-check-input menuCheck\",type:\"checkbox\",id:\"checkboxLock\",value:\"option1\",checked:this.state.lock,onChange:this.lockControl.bind(this),disabled:!this.state.multiOptions}),i.default.createElement(\"label\",{className:\"nav-link menuLabel\",htmlFor:\"inlineCheckbox1\",onClick:this.lockControl.bind(this)},\"Lock\")),i.default.createElement(\"li\",{className:\"nav-item\"},i.default.createElement(\"label\",{className:\"nav-link menuLabel\",onClick:this.timeFitting.bind(this)},\"Time Fitting\")),i.default.createElement(\"li\",{className:\"nav-item dropdown\"},i.default.createElement(\"label\",{className:\"nav-link dropdown-toggle menuLabel\",href:\"#\",id:\"navbarDropdown\",role:\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"},\"Fusion\"),i.default.createElement(\"div\",{className:\"dropdown-menu controllersElem\",\"aria-labelledby\":\"navbarDropdown\"},i.default.createElement(\"label\",{className:\"dropdown-item menuLabel\",id:\"mergeBtn\",onClick:this.mergeTubes.bind(this)},\"All\"))))}},{key:\"render\",value:function(){return i.default.createElement(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-primary\",id:\"tubeControllers\"},i.default.createElement(\"div\",{className:\"collapse navbar-collapse\",id:\"TimeTubesMenu\"},this.basicMenu(),this.displayMenu(),this.tubeMenu(),this.multiTubesMenu()))}}]),t}(i.default.Component);t.default=f},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=s(n(117)),o=s(n(99));s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.id=e.id,n.data=e.data,n.fileName=n.data.name,n.state={width:e.width,heightTT:e.heightTT,heightSP:e.heightSP},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"render\",value:function(){return i.default.createElement(\"div\",{className:\"dataColumn\",id:\"dataColumn_\"+this.id,style:{padding:\"unset\",display:\"table-cell\"}},i.default.createElement(a.default,{id:this.id,data:this.data,width:this.props.width,height:this.props.heightTT}),i.default.createElement(o.default,{id:this.id,data:this.data,width:this.props.width,height:this.props.heightSP}))}}]),t}(i.default.Component);t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=s(n(60)),o=s(n(97));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.id=e.id,n.data=e.data,n.fileName=n.data.name,n.state={width:e.width,height:e.height},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"render\",value:function(){return i.default.createElement(\"div\",{className:\"TimeTubesHolder\",id:\"TimeTubesHolder_\"+this.id},i.default.createElement(a.default,{id:this.id,data:this.data,width:this.props.width,height:this.props.height-100}),i.default.createElement(\"div\",{id:this.divID,className:\"timeSelector\"},i.default.createElement(o.default,{id:this.id,divID:\"timeSelector_\"+this.id,width:this.props.width})))}}]),t}(i.default.Component);t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(0)),a=c(n(20)),o=(c(n(8)),n(119)),s=c(n(18)),u=f(n(13)),l=f(n(4));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.id=l.default.getTailID(),e.state={fileName:l.default.getFileName(e.id),currentVal:l.default.getValues(-1,0),checked:!0},e.tubeNum=u.default.getTubeNum(),e.opacityDistSet=u.default.getOpacityDistSet(),e.opacityCurves=u.default.getOpacityCurves(),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillMount\",value:function(){var e=this;l.default.on(\"upload\",(function(t){-1===e.id&&e.setState({id:t,fileName:l.default.getFileName(t),currentVal:l.default.getValues(0,0),checked:!1})})),l.default.on(\"updateDetail\",(function(t,n){e.id===t&&e.setState({currentVal:l.default.getValues(t,n)})})),u.default.on(\"updateChecked\",(function(t){e.id===t&&e.setState({checked:!e.state.checked})}))}},{key:\"componentDidMount\",value:function(){this.setFarSlider(),this.setColormapValueSlider(),this.setColormapHueSlider(),this.setOpacityCurve(),this.setOpacityEllipse()}},{key:\"setFarSlider\",value:function(){var e=this.id,t=$(\"#farSliderVal_\"+e);$(\"#farSlider_\"+e).slider({range:\"min\",value:0,min:1,max:100,slide:function(n,r){t.css(\"display\",\"initial\"),t.val(r.value);var i=$(\"#farSlider_\"+e).slider(\"option\",\"min\"),a=$(\"#farSlider_\"+e).slider(\"option\",\"max\")-i,o=$(\"#farSlider_\"+e).width()*(r.value-i)/a-10;t.css(\"left\",o+\"px\"),s.changeFar(e,r.value)},stop:function(){t.css(\"display\",\"none\")}}),$(\"#farSliderVal_\"+e).val($(\"#farSlider_\"+e).slider(\"value\"))}},{key:\"setColormapValueSlider\",value:function(){var e=this.id,t=$(\"#colorValue_\"+e),n=$(\"#colorValueMin_\"+e),r=$(\"#colorValueMax_\"+e);t.slider({range:!0,min:0,max:100,values:[0,100],orientation:\"vertical\",slide:function(i,a){n.css(\"display\",\"initial\"),r.css(\"display\",\"initial\"),n.val(a.values[0]),r.val(a.values[1]);var o=t.slider(\"option\",\"min\"),u=t.slider(\"option\",\"max\")-o,c=150*(a.values[0]-o)/u-10,f=140-150*(a.values[1]-o)/u;n.css(\"bottom\",c+\"px\"),r.css(\"top\",f+\"px\");var h=l.default.getData(e),d=h.data.meta.max.V-h.data.meta.min.V;s.updateMinMaxV(e,a.values[0]/100*d+h.data.meta.min.V,a.values[1]/100*d+h.data.meta.min.V)},stop:function(){n.css(\"display\",\"none\"),r.css(\"display\",\"none\")}}),n.val(t.slider(\"values\",0)),r.val(t.slider(\"values\",1))}},{key:\"setColormapHueSlider\",value:function(){var e=this.id,t=$(\"#colorHue_\"+e),n=$(\"#colorHueMin_\"+e),r=$(\"#colorHueMax_\"+e);t.slider({range:!0,min:0,max:100,values:[0,100],slide:function(t,i){n.css(\"display\",\"initial\"),r.css(\"display\",\"initial\"),n.val(i.values[0]),r.val(i.values[1]);var a=150*i.values[0]/100-8,o=142-150*i.values[1]/100;n.css(\"left\",a+\"px\"),r.css(\"right\",o+\"px\");var u=l.default.getData(e),c=u.data.meta.max.H-u.data.meta.min.H;s.updateMinMaxH(e,i.values[0]/100*c+u.data.meta.min.H,i.values[1]/100*c+u.data.meta.min.H)},stop:function(){n.css(\"display\",\"none\"),r.css(\"display\",\"none\")}}),n.val(t.slider(\"values\",0)),r.val(t.slider(\"values\",1))}},{key:\"setOpacityCurve\",value:function(){var e=10,t=10,n=10,r=150-n-10,i=150-e-t,o=a.select(\"#opacityCurve_\"+this.id).append(\"svg\").attr(\"width\",150).attr(\"height\",150).attr(\"id\",\"opacityCurveArea_\"+this.id);o.append(\"rect\").attr(\"width\",r).attr(\"height\",i).style(\"fill\",\"none\").style(\"stroke\",\"lightgray\").attr(\"transform\",\"translate(\"+n+\",\"+e+\")\");for(var s=r/(this.tubeNum-1),u=1;u<this.tubeNum;u++)o.append(\"line\").attr(\"x1\",s*u).attr(\"y1\",0).attr(\"x2\",s*u).attr(\"y2\",r).style(\"stroke\",\"lightgray\").attr(\"transform\",\"translate(\"+n+\",\"+e+\")\"),o.append(\"line\").attr(\"x1\",0).attr(\"y1\",s*u).attr(\"x2\",i).attr(\"y2\",s*u).style(\"stroke\",\"lightgray\").attr(\"transform\",\"translate(\"+n+\",\"+e+\")\");this.xScaleOpacity=a.scaleLinear().domain([0,1]).range([n,150-n]),this.yScaleOpacity=a.scaleLinear().domain([0,1]).range([150-e,t]),o.append(\"g\").attr(\"class\",\"axisLabel opacityCurveXAxis\").append(\"text\").attr(\"x\",75).attr(\"y\",150-t/2+5).style(\"fill\",\"black\").style(\"text-anchor\",\"middle\").style(\"font-size\",\"xx-small\").text(\"Radial size of the tube\"),o.append(\"g\").append(\"text\").attr(\"class\",\"axisLabel opacityCurveYAxis\").attr(\"transform\",\"rotate(-90)\").attr(\"x\",-75).attr(\"y\",n/2+2).style(\"fill\",\"black\").style(\"font-size\",\"xx-small\").style(\"text-anchor\",\"middle\").text(\"Opacity\"),o.append(\"path\").datum(this.opacityDistSet.Default).style(\"fill\",\"none\").style(\"stroke\",\"lightcoral\").style(\"stroke-width\",3).attr(\"id\",\"opacityCurvePath_\"+this.id).attr(\"d\",a.line().x(function(e){return this.xScaleOpacity(e[0])}.bind(this)).y(function(e){return this.yScaleOpacity(e[1])}.bind(this)).curve(a.curveBasis))}},{key:\"setOpacityEllipse\",value:function(){var e=10,t=10,n=150-t-10,r=150-e-10,i=a.select(\"#opacityEllipse_\"+this.id).append(\"svg\").attr(\"width\",150).attr(\"height\",150).attr(\"id\",\"opacityEllipseArea_\"+this.id);i.append(\"rect\").attr(\"width\",n).attr(\"height\",r).style(\"fill\",\"none\").style(\"stroke\",\"lightgray\").attr(\"transform\",\"translate(\"+t+\",\"+e+\")\");for(var o=Math.ceil(t+n/2),s=Math.ceil(e+r/2),u=this.opacityCurves.Default.getSpacedPoints(this.tubeNum),l=1;l<=this.tubeNum;l++){var c=1-(1-u[l-1].y)/(1-u[l].y);i.append(\"ellipse\").attr(\"cx\",o).attr(\"cy\",s).attr(\"rx\",50*l/this.tubeNum).attr(\"ry\",30*l/this.tubeNum).attr(\"id\",\"opacityEllipseEllipse_\"+this.id+\"-\"+l).style(\"fill\",\"orange\").style(\"opacity\",c)}}},{key:\"onChangeCheckbox\",value:function(e){s.updateChecked(e)}},{key:\"zoomOutTimeTubes\",value:function(){s.zoomOutTimeTubes(this.id)}},{key:\"resetZoomTimeTubes\",value:function(){s.resetZoomTimeTubes(this.id)}},{key:\"zoomInTimeTubes\",value:function(){s.zoomInTimeTubes(this.id)}},{key:\"showPopoverFar\",value:function(){var e=$(\"#changeFar_\"+this.id).css(\"visibility\"),t=$(\"#farPopoverBtn_\"+this.id).position();switch(e){case\"visible\":$(\"#changeFar_\"+this.id).css(\"visibility\",\"hidden\");break;case\"hidden\":$(\"#changeFar_\"+this.id).css(\"left\",t.left),$(\"#changeFar_\"+this.id).css(\"visibility\",\"visible\")}}},{key:\"showPopoverPlotColor\",value:function(){var e=$(\"#changePlotColor_\"+this.id).css(\"visibility\"),t=$(\"#plotColorPopoverBtn_\"+this.id).position();switch(e){case\"visible\":$(\"#changePlotColor_\"+this.id).css(\"visibility\",\"hidden\");break;case\"hidden\":$(\"#changePlotColor_\"+this.id).css(\"left\",t.left),$(\"#changePlotColor_\"+this.id).css(\"visibility\",\"visible\")}}},{key:\"showPopoverOpacity\",value:function(){var e=$(\"#changeOpacity_\"+this.id).css(\"visibility\"),t=$(\"#opacityPopoverBtn_\"+this.id).position();switch(e){case\"visible\":$(\"#changeOpacity_\"+this.id).css(\"visibility\",\"hidden\");break;case\"hidden\":$(\"#changeOpacity_\"+this.id).css(\"left\",t.left),$(\"#changeOpacity_\"+this.id).css(\"visibility\",\"visible\")}}},{key:\"showPopoverColormap\",value:function(){var e=$(\"#changeColormap_\"+this.id).css(\"visibility\"),t=$(\"#colormapPopoverBtn_\"+this.id).position();switch(e){case\"visible\":$(\"#changeColormap_\"+this.id).css(\"visibility\",\"hidden\");break;case\"hidden\":$(\"#changeColormap_\"+this.id).css(\"left\",t.left),$(\"#changeColormap_\"+this.id).css(\"visibility\",\"visible\")}}},{key:\"showPopoverSearch\",value:function(){var e=$(\"#searchTime_\"+this.id).css(\"visibility\"),t=$(\"#searchPopoverBtn_\"+this.id).position();switch(e){case\"visible\":$(\"#searchTime_\"+this.id).css(\"visibility\",\"hidden\");break;case\"hidden\":$(\"#searchTime_\"+this.id).css(\"left\",t.left),$(\"#searchTime_\"+this.id).css(\"visibility\",\"visible\")}}},{key:\"searchTime\",value:function(){var e=this.id,t=$(\"#searchTimeInput_\"+e).val();isNaN(t)||\"\"==t||s.searchTime(e,Number(t))}},{key:\"changePlotColor\",value:function(e,t){s.changePlotColor(this.id,e.hex)}},{key:\"changeOpacityDistribution\",value:function(){var e=document.getElementById(\"opacityList_\"+this.id),t=e.selectedIndex,n=e.options[t].value;this.drawOpacityCurve(n),this.drawOpacityEllipse(n),s.updateOpacity(this.id,n)}},{key:\"drawOpacityCurve\",value:function(e){a.select(\"#opacityCurvePath_\"+this.id).remove(),a.select(\"#opacityCurveArea_\"+this.id).append(\"path\").datum(this.opacityDistSet[e]).style(\"fill\",\"none\").style(\"stroke\",\"lightcoral\").style(\"stroke-width\",3).attr(\"id\",\"opacityCurvePath_\"+this.id).attr(\"d\",a.line().x(function(e){return this.xScaleOpacity(e[0])}.bind(this)).y(function(e){return this.yScaleOpacity(e[1])}.bind(this)).curve(a.curveBasis))}},{key:\"drawOpacityEllipse\",value:function(e){var t=1;if(\"Flat\"===e)for(var n=1;n<=this.tubeNum;n++)a.select(\"#opacityEllipseEllipse_\"+this.id+\"-\"+n).style(\"opacity\",t);else for(var r=this.opacityCurves[e].getSpacedPoints(this.tubeNum),i=1;i<=this.tubeNum;i++)t=1-(1-r[i-1].y)/(1-r[i].y),a.select(\"#opacityEllipseEllipse_\"+this.id+\"-\"+i).style(\"opacity\",t)}},{key:\"render\",value:function(){for(var e=this,t=this.state.currentVal,n=0;n<t.keys.length;n++){var r=void 0;r=\"JD\"===t.keys[n]||\"V-J\"===t.keys[n]?t.vals[n].toFixed(3):\"Flx(V)\"===t.keys[n]?t.vals[n].toExponential(2):t.vals[n].toFixed(4),t.keys[n]+\": \"+r+\"\\n\"}var a=t.keys.map((function(n,r){var a=void 0;return a=\"JD\"===n||\"V-J\"===n?t.vals[r].toFixed(3):\"Flx(V)\"===n?t.vals[r].toExponential(2):t.vals[r].toFixed(4),i.default.createElement(\"tr\",{key:n+\"_\"+e.id,className:\"detailTableRow\"},i.default.createElement(\"td\",{className:\"detailTableData detailTableVari\"},n),i.default.createElement(\"td\",{className:\"detailTableData\"},a))}));return i.default.createElement(\"div\",{id:\"onViewportControllers_\"+this.id},i.default.createElement(\"div\",{id:\"fileSelector_\"+this.id,className:\"controllersOnView\",style:{position:\"absolute\",color:\"white\",top:\"0px\",left:\"0px\",zIndex:\"10\",fontSize:\"0.8rem\",marginLeft:\"1.5rem\"}},i.default.createElement(\"input\",{type:\"checkbox\",id:\"selectView_\"+this.id,name:\"selectView\",key:this.id,value:this.id,checked:this.state.checked,onChange:this.onChangeCheckbox.bind(this,this.id)}),i.default.createElement(\"label\",{id:\"fileName_\"+this.id,style:{paddingLeft:\"0.5rem\",paddingRight:\"0.5rem\"}},this.state.fileName)),i.default.createElement(\"div\",{id:\"zoomControllers_\"+this.id,className:\"controllersOnView\",style:{position:\"absolute\",top:\"0px\",right:\"0px\",zIndex:\"20\",fontSize:\"0.8rem\"}},i.default.createElement(\"button\",{type:\"button\",className:\"btn btn-sm btn-primary\",id:\"zoomOutBtn_\"+this.id,onClick:this.zoomOutTimeTubes.bind(this)},\"-\"),i.default.createElement(\"button\",{type:\"button\",className:\"btn btn-sm btn-primary\",id:\"resetZoomBtn_\"+this.id,onClick:this.resetZoomTimeTubes.bind(this)},\"\"),i.default.createElement(\"button\",{type:\"button\",className:\"btn btn-sm btn-primary\",id:\"zoomInBtn_\"+this.id,onClick:this.zoomInTimeTubes.bind(this)},\"+\")),i.default.createElement(\"div\",{id:\"eachTubeControllers_\"+this.id,className:\"controllersOnView\",style:{position:\"absolute\",bottom:\"0px\",left:\"0px\",zIndex:\"30\",fontSize:\"0.8rem\"}},i.default.createElement(\"button\",{type:\"button\",className:\"btn btn-sm btn-primary\",id:\"colormapPopoverBtn_\"+this.id,onClick:this.showPopoverColormap.bind(this)},\"Colormap\"),i.default.createElement(\"button\",{type:\"button\",className:\"btn btn-sm btn-primary\",id:\"farPopoverBtn_\"+this.id,onClick:this.showPopoverFar.bind(this)},\"Far\"),i.default.createElement(\"button\",{type:\"button\",className:\"btn btn-sm btn-primary\",id:\"plotColorPopoverBtn_\"+this.id,onClick:this.showPopoverPlotColor.bind(this)},\"Plot Color\"),i.default.createElement(\"button\",{type:\"button\",className:\"btn btn-sm btn-primary\",id:\"opacityPopoverBtn_\"+this.id,onClick:this.showPopoverOpacity.bind(this)},\"Opacity\"),i.default.createElement(\"button\",{type:\"button\",className:\"btn btn-sm btn-primary\",id:\"searchPopoverBtn_\"+this.id,onClick:this.showPopoverSearch.bind(this)},\"Search\")),i.default.createElement(\"div\",{className:\"input-group input-group-sm popover-controller\",id:\"changeColormap_\"+this.id,style:{visibility:\"hidden\",position:\"absolute\",bottom:\"1.7rem\",width:\"auto\",zIndex:\"31\"}},i.default.createElement(\"div\",{id:\"colorFilter_\"+this.id},i.default.createElement(\"div\",{id:\"colorValue_\"+this.id,style:{float:\"left\",height:\"150px\"}},i.default.createElement(\"output\",{id:\"colorValueMax_\"+this.id,style:{marginLeft:\"1.3rem\"}}),i.default.createElement(\"output\",{id:\"colorValueMin_\"+this.id,style:{marginLeft:\"1.3rem\"}})),i.default.createElement(\"div\",{id:\"colorMap_\"+this.id,style:{float:\"left\",marginLeft:\"10px\"}},i.default.createElement(\"label\",{htmlFor:\"file_photo\"},i.default.createElement(\"img\",{src:\"img/1_256.png\",style:{width:\"150px\",height:\"150px\"}}))),i.default.createElement(\"div\",{style:{clear:\"both\"}}),i.default.createElement(\"div\",{id:\"colorHue_\"+this.id,style:{width:\"150px\",marginTop:\"5px\",marginLeft:\"20px\"}},i.default.createElement(\"output\",{id:\"colorHueMax_\"+this.id,style:{bottom:\"1.3rem\"}}),i.default.createElement(\"output\",{id:\"colorHueMin_\"+this.id,style:{bottom:\"1.3rem\"}})))),i.default.createElement(\"div\",{className:\"input-group input-group-sm popover-controller\",id:\"changeFar_\"+this.id,style:{visibility:\"hidden\",position:\"absolute\",bottom:\"1.7rem\",width:\"auto\",zIndex:\"32\"}},i.default.createElement(\"div\",{id:\"farSliderArea_\"+this.id},i.default.createElement(\"label\",{id:\"idLabel_\"+this.id,style:{float:\"left\",width:\"2rem\"}},\"far\"),i.default.createElement(\"div\",{id:\"farSlider_\"+this.id,style:{float:\"left\",width:\"8rem\",marginBottom:\".5rem\",marginTop:\".5rem\"}},i.default.createElement(\"output\",{id:\"farSliderVal_\"+this.id,style:{position:\"absolute\",display:\"none\",top:\"-30px\",backgroundColor:\"#fff\",opacity:\"0.8\",borderRadius:\"3px\",color:\"#777\",padding:\"2px\"}})))),i.default.createElement(\"div\",{className:\"input-group input-group-sm popover-controller\",id:\"changePlotColor_\"+this.id,style:{visibility:\"hidden\",position:\"absolute\",bottom:\"1.7rem\",width:\"auto\",zIndex:\"33\"}},i.default.createElement(o.SketchPicker,{presetColors:u.default.getPresetColors(),color:u.default.getPlotColor(this.id),onChange:this.changePlotColor.bind(this)})),i.default.createElement(\"div\",{className:\"input-group input-group-sm popover-controller\",id:\"changeOpacity_\"+this.id,style:{visibility:\"hidden\",position:\"absolute\",bottom:\"1.7rem\",width:\"auto\",zIndex:\"34\",display:\"block\"}},i.default.createElement(\"select\",{className:\"form-control\",id:\"opacityList_\"+this.id,onChange:this.changeOpacityDistribution.bind(this),style:{fontSize:\"0.8rem\",width:\"150px\"}},i.default.createElement(\"option\",{value:\"Default\"},\"Default\"),i.default.createElement(\"option\",{value:\"Flat\"},\"Flat\"),i.default.createElement(\"option\",{value:\"Linear\"},\"Linear\"),i.default.createElement(\"option\",{value:\"Valley\"},\"Valley shaped\")),i.default.createElement(\"div\",{className:\"currentOpacity\",style:{display:\"flex\"}},i.default.createElement(\"div\",{id:\"opacityCurve_\"+this.id}),i.default.createElement(\"div\",{id:\"opacityEllipse_\"+this.id}))),i.default.createElement(\"div\",{className:\"input-group input-group-sm popover-controller\",id:\"searchTime_\"+this.id,style:{visibility:\"hidden\",position:\"absolute\",bottom:\"1.7rem\",width:\"10rem\",zIndex:\"35\"}},i.default.createElement(\"input\",{type:\"text\",className:\"form-control custom-input\",id:\"searchTimeInput_\"+this.id,placeholder:\"Input JD\"}),i.default.createElement(\"button\",{className:\"btn btn-primary btn-sm\",type:\"button\",id:\"searchTimeBtn_\"+this.id,onClick:this.searchTime.bind(this)},\"Search\")),i.default.createElement(\"div\",{id:\"detailValueArea\",className:\"controllersOnView\",style:{position:\"absolute\",color:\"white\",right:\"0px\",bottom:\"0px\",whiteSpace:\"pre-line\",zIndex:\"11\",fontSize:\"0.8rem\"}},i.default.createElement(\"table\",{className:\"detailTable\"},i.default.createElement(\"tbody\",{className:\"detailTableBody\"},a))))}}]),t}(i.default.Component);t.default=h},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CustomPicker=t.TwitterPicker=t.SwatchesPicker=t.SliderPicker=t.SketchPicker=t.PhotoshopPicker=t.MaterialPicker=t.HuePicker=t.GithubPicker=t.CompactPicker=t.ChromePicker=t.default=t.CirclePicker=t.BlockPicker=t.AlphaPicker=void 0;var r=n(120);Object.defineProperty(t,\"AlphaPicker\",{enumerable:!0,get:function(){return y(r).default}});var i=n(250);Object.defineProperty(t,\"BlockPicker\",{enumerable:!0,get:function(){return y(i).default}});var a=n(252);Object.defineProperty(t,\"CirclePicker\",{enumerable:!0,get:function(){return y(a).default}});var o=n(254);Object.defineProperty(t,\"ChromePicker\",{enumerable:!0,get:function(){return y(o).default}});var s=n(259);Object.defineProperty(t,\"CompactPicker\",{enumerable:!0,get:function(){return y(s).default}});var u=n(262);Object.defineProperty(t,\"GithubPicker\",{enumerable:!0,get:function(){return y(u).default}});var l=n(264);Object.defineProperty(t,\"HuePicker\",{enumerable:!0,get:function(){return y(l).default}});var c=n(266);Object.defineProperty(t,\"MaterialPicker\",{enumerable:!0,get:function(){return y(c).default}});var f=n(267);Object.defineProperty(t,\"PhotoshopPicker\",{enumerable:!0,get:function(){return y(f).default}});var h=n(273);Object.defineProperty(t,\"SketchPicker\",{enumerable:!0,get:function(){return y(h).default}});var d=n(276);Object.defineProperty(t,\"SliderPicker\",{enumerable:!0,get:function(){return y(d).default}});var p=n(280);Object.defineProperty(t,\"SwatchesPicker\",{enumerable:!0,get:function(){return y(p).default}});var m=n(284);Object.defineProperty(t,\"TwitterPicker\",{enumerable:!0,get:function(){return y(m).default}});var v=n(93);Object.defineProperty(t,\"CustomPicker\",{enumerable:!0,get:function(){return y(v).default}});var g=y(o);function y(e){return e&&e.__esModule?e:{default:e}}t.default=g.default},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.AlphaPicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(0)),a=u(n(1)),o=n(2),s=u(n(249));function u(e){return e&&e.__esModule?e:{default:e}}var l=t.AlphaPicker=function(e){var t=e.rgb,n=e.hsl,s=e.width,u=e.height,l=e.onChange,c=e.direction,f=e.style,h=e.renderers,d=e.pointer,p=e.className,m=void 0===p?\"\":p,v=(0,a.default)({default:{picker:{position:\"relative\",width:s,height:u},alpha:{radius:\"2px\",style:f}}});return i.default.createElement(\"div\",{style:v.picker,className:\"alpha-picker \"+m},i.default.createElement(o.Alpha,r({},v.alpha,{rgb:t,hsl:n,pointer:d,renderers:h,onChange:l,direction:c})))};l.defaultProps={width:\"316px\",height:\"16px\",direction:\"horizontal\",pointer:s.default},t.default=(0,o.ColorWrap)(l)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.flattenNames=void 0;var r=s(n(122)),i=s(n(38)),a=s(n(67)),o=s(n(14));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,o.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,a.default)(t)?(0,i.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+\"-\"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=u},function(e,t,n){var r=n(15),i=n(5),a=n(12),o=\"[object String]\";e.exports=function(e){return\"string\"==typeof e||!i(e)&&a(e)&&r(e)==o}},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(22),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(15),i=n(12),a=\"[object Arguments]\";e.exports=function(e){return i(e)&&r(e)==a}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(15),i=n(43),a=n(12),o={};o[\"[object Float32Array]\"]=o[\"[object Float64Array]\"]=o[\"[object Int8Array]\"]=o[\"[object Int16Array]\"]=o[\"[object Int32Array]\"]=o[\"[object Uint8Array]\"]=o[\"[object Uint8ClampedArray]\"]=o[\"[object Uint16Array]\"]=o[\"[object Uint32Array]\"]=!0,o[\"[object Arguments]\"]=o[\"[object Array]\"]=o[\"[object ArrayBuffer]\"]=o[\"[object Boolean]\"]=o[\"[object DataView]\"]=o[\"[object Date]\"]=o[\"[object Error]\"]=o[\"[object Function]\"]=o[\"[object Map]\"]=o[\"[object Number]\"]=o[\"[object Object]\"]=o[\"[object RegExp]\"]=o[\"[object Set]\"]=o[\"[object String]\"]=o[\"[object WeakMap]\"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},function(e,t,n){var r=n(46),i=n(132),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&\"constructor\"!=n&&t.push(n);return t}},function(e,t,n){var r=n(65)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(134),i=n(178),a=n(28),o=n(5),s=n(188);e.exports=function(e){return\"function\"==typeof e?e:null==e?a:\"object\"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(135),i=n(177),a=n(78);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(29),i=n(70),a=1,o=2;e.exports=function(e,t,n,s){var u=n.length,l=u,c=!s;if(null==e)return!l;for(e=Object(e);u--;){var f=n[u];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++u<l;){var h=(f=n[u])[0],d=e[h],p=f[1];if(c&&f[2]){if(void 0===d&&!(h in e))return!1}else{var m=new r;if(s)var v=s(d,p,h,e,t,m);if(!(void 0===v?i(p,d,a|o,s,m):v))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(31),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(31);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(31);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(31);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(30);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(30),i=n(49),a=n(50),o=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<o-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(47),i=n(147),a=n(7),o=n(69),s=/^\\[object .+?Constructor\\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,h=RegExp(\"^\"+c.call(f).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:s).test(o(e))}},function(e,t,n){var r,i=n(148),a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||\"\"))?\"Symbol(src)_1.\"+r:\"\";e.exports=function(e){return!!a&&a in e}},function(e,t,n){var r=n(9)[\"__core-js_shared__\"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(151),i=n(30),a=n(49);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},function(e,t,n){var r=n(152),i=n(153),a=n(154),o=n(155),s=n(156);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(32);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(32),i=\"__lodash_hash_undefined__\",a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(32),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(32),i=\"__lodash_hash_undefined__\";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}},function(e,t,n){var r=n(33);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==e:null===e}},function(e,t,n){var r=n(33);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(33);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(33);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(29),i=n(71),a=n(168),o=n(171),s=n(34),u=n(5),l=n(27),c=n(42),f=1,h=\"[object Arguments]\",d=\"[object Array]\",p=\"[object Object]\",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,y){var b=u(e),x=u(t),_=b?d:s(e),w=x?d:s(t),E=(_=_==h?p:_)==p,M=(w=w==h?p:w)==p,S=_==w;if(S&&l(e)){if(!l(t))return!1;b=!0,E=!1}if(S&&!E)return y||(y=new r),b||c(e)?i(e,t,n,v,g,y):a(e,t,_,n,v,g,y);if(!(n&f)){var T=E&&m.call(e,\"__wrapped__\"),C=M&&m.call(t,\"__wrapped__\");if(T||C){var P=T?e.value():e,A=C?t.value():t;return y||(y=new r),g(P,A,n,v,y)}}return!!S&&(y||(y=new r),o(e,t,n,v,g,y))}},function(e,t,n){var r=n(50),i=n(164),a=n(165);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},function(e,t){var n=\"__lodash_hash_undefined__\";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(22),i=n(72),a=n(24),o=n(71),s=n(169),u=n(170),l=1,c=2,f=\"[object Boolean]\",h=\"[object Date]\",d=\"[object Error]\",p=\"[object Map]\",m=\"[object Number]\",v=\"[object RegExp]\",g=\"[object Set]\",y=\"[object String]\",b=\"[object Symbol]\",x=\"[object ArrayBuffer]\",_=\"[object DataView]\",w=r?r.prototype:void 0,E=w?w.valueOf:void 0;e.exports=function(e,t,n,r,w,M,S){switch(n){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!M(new i(e),new i(t)));case f:case h:case m:return a(+e,+t);case d:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+\"\";case p:var T=s;case g:var C=r&l;if(T||(T=u),e.size!=t.size&&!C)return!1;var P=S.get(e);if(P)return P==t;r|=c,S.set(e,t);var A=o(T(e),T(t),r,w,M,S);return S.delete(e),A;case b:if(E)return E.call(e)==E.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(73),i=1,a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,u){var l=n&i,c=r(e),f=c.length;if(f!=r(t).length&&!l)return!1;for(var h=f;h--;){var d=c[h];if(!(l?d in t:a.call(t,d)))return!1}var p=u.get(e);if(p&&u.get(t))return p==t;var m=!0;u.set(e,t),u.set(t,e);for(var v=l;++h<f;){var g=e[d=c[h]],y=t[d];if(o)var b=l?o(y,g,d,t,e,u):o(g,y,d,e,t,u);if(!(void 0===b?g===y||s(g,y,n,o,u):b)){m=!1;break}v||(v=\"constructor\"==d)}if(m&&!v){var x=e.constructor,_=t.constructor;x!=_&&\"constructor\"in e&&\"constructor\"in t&&!(\"function\"==typeof x&&x instanceof x&&\"function\"==typeof _&&_ instanceof _)&&(m=!1)}return u.delete(e),u.delete(t),m}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},function(e,t,n){var r=n(16)(n(9),\"DataView\");e.exports=r},function(e,t,n){var r=n(16)(n(9),\"Promise\");e.exports=r},function(e,t,n){var r=n(16)(n(9),\"Set\");e.exports=r},function(e,t,n){var r=n(16)(n(9),\"WeakMap\");e.exports=r},function(e,t,n){var r=n(77),i=n(23);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},function(e,t,n){var r=n(70),i=n(179),a=n(185),o=n(52),s=n(77),u=n(78),l=n(36),c=1,f=2;e.exports=function(e,t){return o(e)&&s(t)?u(l(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,c|f)}}},function(e,t,n){var r=n(79);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){var r=n(181),i=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,a=/\\\\(\\\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(\"\"),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,\"$1\"):n||e)})),t}));e.exports=o},function(e,t,n){var r=n(182),i=500;e.exports=function(e){var t=r(e,(function(e){return n.size===i&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(50),i=\"Expected a function\";function a(e,t){if(\"function\"!=typeof e||null!=t&&\"function\"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},function(e,t,n){var r=n(184);e.exports=function(e){return null==e?\"\":r(e)}},function(e,t,n){var r=n(22),i=n(68),a=n(5),o=n(35),s=1/0,u=r?r.prototype:void 0,l=u?u.toString:void 0;e.exports=function e(t){if(\"string\"==typeof t)return t;if(a(t))return i(t,e)+\"\";if(o(t))return l?l.call(t):\"\";var n=t+\"\";return\"0\"==n&&1/t==-s?\"-0\":n}},function(e,t,n){var r=n(186),i=n(187);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(80),i=n(39),a=n(5),o=n(41),s=n(43),u=n(36);e.exports=function(e,t,n){for(var l=-1,c=(t=r(t,e)).length,f=!1;++l<c;){var h=u(t[l]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++l!=c?f:!!(c=null==e?0:e.length)&&s(c)&&o(h,c)&&(a(e)||i(e))}},function(e,t,n){var r=n(189),i=n(190),a=n(52),o=n(36);e.exports=function(e){return a(e)?r(o(e)):i(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(79);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(81),i=n(19);e.exports=function(e,t){var n=-1,a=i(e)?Array(e.length):[];return r(e,(function(e,r,i){a[++n]=t(e,r,i)})),a}},function(e,t,n){var r=n(19);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==i(s[o],o,s););return n}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.mergeClasses=void 0;var r=o(n(38)),i=o(n(194)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function o(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,i.default)(e.default)||{};return t.map((function(t){var i=e[t];return i&&(0,r.default)(i,(function(e,t){n[t]||(n[t]={}),n[t]=a({},n[t],i[t])})),t})),n};t.default=s},function(e,t,n){var r=n(195),i=1,a=4;e.exports=function(e){return r(e,i|a)}},function(e,t,n){var r=n(29),i=n(82),a=n(83),o=n(196),s=n(197),u=n(85),l=n(86),c=n(200),f=n(201),h=n(73),d=n(202),p=n(34),m=n(203),v=n(204),g=n(89),y=n(5),b=n(27),x=n(209),_=n(7),w=n(211),E=n(23),M=1,S=2,T=4,C=\"[object Arguments]\",P=\"[object Function]\",A=\"[object GeneratorFunction]\",k=\"[object Object]\",O={};O[C]=O[\"[object Array]\"]=O[\"[object ArrayBuffer]\"]=O[\"[object DataView]\"]=O[\"[object Boolean]\"]=O[\"[object Date]\"]=O[\"[object Float32Array]\"]=O[\"[object Float64Array]\"]=O[\"[object Int8Array]\"]=O[\"[object Int16Array]\"]=O[\"[object Int32Array]\"]=O[\"[object Map]\"]=O[\"[object Number]\"]=O[k]=O[\"[object RegExp]\"]=O[\"[object Set]\"]=O[\"[object String]\"]=O[\"[object Symbol]\"]=O[\"[object Uint8Array]\"]=O[\"[object Uint8ClampedArray]\"]=O[\"[object Uint16Array]\"]=O[\"[object Uint32Array]\"]=!0,O[\"[object Error]\"]=O[P]=O[\"[object WeakMap]\"]=!1,e.exports=function e(t,n,L,R,N,I){var D,z=n&M,F=n&S,B=n&T;if(L&&(D=N?L(t,R,N,I):L(t)),void 0!==D)return D;if(!_(t))return t;var j=y(t);if(j){if(D=m(t),!z)return l(t,D)}else{var U=p(t),H=U==P||U==A;if(b(t))return u(t,z);if(U==k||U==C||H&&!N){if(D=F||H?{}:g(t),!z)return F?f(t,s(D,t)):c(t,o(D,t))}else{if(!O[U])return N?t:{};D=v(t,U,z)}}I||(I=new r);var G=I.get(t);if(G)return G;if(I.set(t,D),w(t))return t.forEach((function(r){D.add(e(r,n,L,r,t,I))})),D;if(x(t))return t.forEach((function(r,i){D.set(i,e(r,n,L,i,t,I))})),D;var V=B?F?d:h:F?keysIn:E,W=j?void 0:V(t);return i(W||t,(function(r,i){W&&(r=t[i=r]),a(D,i,e(r,n,L,i,t,I))})),D}},function(e,t,n){var r=n(25),i=n(23);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(25),i=n(37);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(7),i=n(46),a=n(199),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=i(e),n=[];for(var s in e)(\"constructor\"!=s||!t&&o.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(25),i=n(51);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(25),i=n(87);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t,n){var r=n(74),i=n(87),a=n(37);e.exports=function(e){return r(e,a,i)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&\"string\"==typeof e[0]&&n.call(e,\"index\")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(54),i=n(205),a=n(206),o=n(207),s=n(88),u=\"[object Boolean]\",l=\"[object Date]\",c=\"[object Map]\",f=\"[object Number]\",h=\"[object RegExp]\",d=\"[object Set]\",p=\"[object String]\",m=\"[object Symbol]\",v=\"[object ArrayBuffer]\",g=\"[object DataView]\",y=\"[object Float32Array]\",b=\"[object Float64Array]\",x=\"[object Int8Array]\",_=\"[object Int16Array]\",w=\"[object Int32Array]\",E=\"[object Uint8Array]\",M=\"[object Uint8ClampedArray]\",S=\"[object Uint16Array]\",T=\"[object Uint32Array]\";e.exports=function(e,t,n){var C=e.constructor;switch(t){case v:return r(e);case u:case l:return new C(+e);case g:return i(e,n);case y:case b:case x:case _:case w:case E:case M:case S:case T:return s(e,n);case c:return new C;case f:case p:return new C(e);case h:return a(e);case d:return new C;case m:return o(e)}}},function(e,t,n){var r=n(54);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(22),i=r?r.prototype:void 0,a=i?i.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},function(e,t,n){var r=n(7),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},function(e,t,n){var r=n(210),i=n(44),a=n(45),o=a&&a.isMap,s=o?i(o):r;e.exports=s},function(e,t,n){var r=n(34),i=n(12),a=\"[object Map]\";e.exports=function(e){return i(e)&&r(e)==a}},function(e,t,n){var r=n(212),i=n(44),a=n(45),o=a&&a.isSet,s=o?i(o):r;e.exports=s},function(e,t,n){var r=n(34),i=n(12),a=\"[object Set]\";e.exports=function(e){return i(e)&&r(e)==a}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.autoprefix=void 0;var r,i=n(38),a=(r=i)&&r.__esModule?r:{default:r},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var s={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(\" \");return{position:\"absolute\",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var n=t[e];return n||{extend:e}}},u=t.autoprefix=function(e){var t={};return(0,a.default)(e,(function(e,n){var r={};(0,a.default)(e,(function(e,t){var n=s[t];n?r=o({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.hover=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(0),o=(r=a)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function l(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"span\";return function(n){function r(){var n,a,l;s(this,r);for(var c=arguments.length,f=Array(c),h=0;h<c;h++)f[h]=arguments[h];return a=l=u(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return o.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},o.default.createElement(e,i({},l.props,l.state)))},u(l,a)}return l(r,n),r}(o.default.Component)};t.default=c},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.active=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(0),o=(r=a)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function u(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function l(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"span\";return function(n){function r(){var n,a,l;s(this,r);for(var c=arguments.length,f=Array(c),h=0;h<c;h++)f[h]=arguments[h];return a=l=u(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(f))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return o.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},o.default.createElement(e,i({},l.props,l.state)))},u(l,a)}return l(r,n),r}(o.default.Component)};t.default=c},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r(\"first-child\"),e===t-1&&r(\"last-child\"),(0===e||e%2==0)&&r(\"even\"),1===Math.abs(e%2)&&r(\"odd\"),r(\"nth-child\",e),n}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Alpha=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=c(a),s=c(n(1)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(218)),l=c(n(55));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var h=t.Alpha=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleChange=function(e){var t=u.calculateChange(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&\"function\"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener(\"mousemove\",r.handleChange),window.addEventListener(\"mouseup\",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener(\"mousemove\",r.handleChange),window.removeEventListener(\"mouseup\",r.handleMouseUp)},f(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:\"componentWillUnmount\",value:function(){this.unbindEventListeners()}},{key:\"render\",value:function(){var e=this,t=this.props.rgb,n=(0,s.default)({default:{alpha:{absolute:\"0px 0px 0px 0px\",borderRadius:this.props.radius},checkboard:{absolute:\"0px 0px 0px 0px\",overflow:\"hidden\",borderRadius:this.props.radius},gradient:{absolute:\"0px 0px 0px 0px\",background:\"linear-gradient(to right, rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 0) 0%,\\n           rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 1) 100%)\",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:\"relative\",height:\"100%\",margin:\"0 3px\"},pointer:{position:\"absolute\",left:100*t.a+\"%\"},slider:{width:\"4px\",borderRadius:\"1px\",height:\"8px\",boxShadow:\"0 0 2px rgba(0, 0, 0, .6)\",background:\"#fff\",marginTop:\"1px\",transform:\"translateX(-2px)\"}},vertical:{gradient:{background:\"linear-gradient(to bottom, rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 0) 0%,\\n           rgba(\"+t.r+\",\"+t.g+\",\"+t.b+\", 1) 100%)\"},pointer:{left:0,top:100*t.a+\"%\"}},overwrite:r({},this.props.style)},{vertical:\"vertical\"===this.props.direction,overwrite:!0});return o.default.createElement(\"div\",{style:n.alpha},o.default.createElement(\"div\",{style:n.checkboard},o.default.createElement(l.default,{renderers:this.props.renderers})),o.default.createElement(\"div\",{style:n.gradient}),o.default.createElement(\"div\",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement(\"div\",{style:n.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement(\"div\",{style:n.slider}))))}}]),t}(a.PureComponent||a.Component);t.default=h},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.calculateChange=function(e,t,n,r,i){var a=i.clientWidth,o=i.clientHeight,s=\"number\"==typeof e.pageX?e.pageX:e.touches[0].pageX,u=\"number\"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=s-(i.getBoundingClientRect().left+window.pageXOffset),c=u-(i.getBoundingClientRect().top+window.pageYOffset);if(\"vertical\"===n){var f=void 0;if(f=c<0?0:c>o?1:Math.round(100*c/o)/100,t.a!==f)return{h:t.h,s:t.s,l:t.l,a:f,source:\"rgb\"}}else{var h=void 0;if(r!==(h=l<0?0:l>a?1:Math.round(100*l/a)/100))return{h:t.h,s:t.s,l:t.l,a:h,source:\"rgb\"}}return null}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r={},i=t.render=function(e,t,n,r){if(\"undefined\"==typeof document&&!r)return null;var i=r?new r:document.createElement(\"canvas\");i.width=2*n,i.height=2*n;var a=i.getContext(\"2d\");return a?(a.fillStyle=e,a.fillRect(0,0,i.width,i.height),a.fillStyle=t,a.fillRect(0,0,n,n),a.translate(n,n),a.fillRect(0,0,n,n),i.toDataURL()):null};t.get=function(e,t,n,a){var o=e+\"-\"+t+\"-\"+n+(a?\"-server\":\"\");if(r[o])return r[o];var s=i(e,t,n,a);return r[o]=s,s}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.EditableInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=s(i),o=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var u=38,l=[u,40],c=function(e){return l.indexOf(e)>-1},f=function(e){return Number(String(e).replace(/%/g,\"\"))},h=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t=f(e.target.value);if(!isNaN(t)&&c(e.keyCode)){var r=n.getArrowOffset(),i=e.keyCode===u?t+r:t-r;n.setUpdatedValue(i,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener(\"mousemove\",n.handleDrag),window.addEventListener(\"mouseup\",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener(\"mousemove\",n.handleDrag),window.removeEventListener(\"mouseup\",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillReceiveProps\",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:\"componentWillUnmount\",value:function(){this.unbindEventListeners()}},{key:\"getValueObjectWithLabel\",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:\"getArrowOffset\",value:function(){return this.props.arrowOffset||1}},{key:\"setUpdatedValue\",value:function(e,t){var n=null!==this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t);var r,i=function(e){return String(e).indexOf(\"%\")>-1}(t.target.value);this.setState({value:i?(r=e,r+\"%\"):e})}},{key:\"render\",value:function(){var e=this,t=(0,o.default)({default:{wrap:{position:\"relative\"}},\"user-override\":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},\"dragLabel-true\":{label:{cursor:\"ew-resize\"}}},{\"user-override\":!0},this.props);return a.default.createElement(\"div\",{style:t.wrap},a.default.createElement(\"input\",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:\"false\"}),this.props.label&&!this.props.hideLabel?a.default.createElement(\"span\",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(i.PureComponent||i.Component);t.default=h},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Hue=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=u(i),o=u(n(1)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(222));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var c=t.Hue=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.handleChange=function(e){var t=s.calculateChange(e,r.props.direction,r.props.hsl,r.container);t&&\"function\"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener(\"mousemove\",r.handleChange),window.addEventListener(\"mouseup\",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},l(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillUnmount\",value:function(){this.unbindEventListeners()}},{key:\"unbindEventListeners\",value:function(){window.removeEventListener(\"mousemove\",this.handleChange),window.removeEventListener(\"mouseup\",this.handleMouseUp)}},{key:\"render\",value:function(){var e=this,t=this.props.direction,n=void 0===t?\"horizontal\":t,r=(0,o.default)({default:{hue:{absolute:\"0px 0px 0px 0px\",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:\"0 2px\",position:\"relative\",height:\"100%\",borderRadius:this.props.radius},pointer:{position:\"absolute\",left:100*this.props.hsl.h/360+\"%\"},slider:{marginTop:\"1px\",width:\"4px\",borderRadius:\"1px\",height:\"8px\",boxShadow:\"0 0 2px rgba(0, 0, 0, .6)\",background:\"#fff\",transform:\"translateX(-2px)\"}},vertical:{pointer:{left:\"0px\",top:-100*this.props.hsl.h/360+100+\"%\"}}},{vertical:\"vertical\"===n});return a.default.createElement(\"div\",{style:r.hue},a.default.createElement(\"div\",{className:\"hue-\"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement(\"style\",null,\"\\n            .hue-horizontal {\\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n            }\\n\\n            .hue-vertical {\\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n            }\\n          \"),a.default.createElement(\"div\",{style:r.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement(\"div\",{style:r.slider}))))}}]),t}(i.PureComponent||i.Component);t.default=c},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.calculateChange=function(e,t,n,r){var i=r.clientWidth,a=r.clientHeight,o=\"number\"==typeof e.pageX?e.pageX:e.touches[0].pageX,s=\"number\"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=o-(r.getBoundingClientRect().left+window.pageXOffset),l=s-(r.getBoundingClientRect().top+window.pageYOffset);if(\"vertical\"===t){var c=void 0;if(l<0)c=359;else if(l>a)c=0;else{c=360*(-100*l/a+100)/100}if(n.h!==c)return{h:c,s:n.s,l:n.l,a:n.a,source:\"rgb\"}}else{var f=void 0;if(u<0)f=0;else if(u>i)f=359;else{f=360*(100*u/i)/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:\"rgb\"}}return null}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Raised=void 0;var r=s(n(0)),i=s(n(3)),a=s(n(1)),o=s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.Raised=function(e){var t=e.zDepth,n=e.radius,i=e.background,s=e.children,u=e.styles,l=void 0===u?{}:u,c=(0,a.default)((0,o.default)({default:{wrap:{position:\"relative\",display:\"inline-block\"},content:{position:\"relative\"},bg:{absolute:\"0px 0px 0px 0px\",boxShadow:\"0 \"+t+\"px \"+4*t+\"px rgba(0,0,0,.24)\",borderRadius:n,background:i}},\"zDepth-0\":{bg:{boxShadow:\"none\"}},\"zDepth-1\":{bg:{boxShadow:\"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)\"}},\"zDepth-2\":{bg:{boxShadow:\"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)\"}},\"zDepth-3\":{bg:{boxShadow:\"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)\"}},\"zDepth-4\":{bg:{boxShadow:\"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)\"}},\"zDepth-5\":{bg:{boxShadow:\"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)\"}},square:{bg:{borderRadius:\"0\"}},circle:{bg:{borderRadius:\"50%\"}}},l),{\"zDepth-1\":1===t});return r.default.createElement(\"div\",{style:c.wrap},r.default.createElement(\"div\",{style:c.bg}),r.default.createElement(\"div\",{style:c.content},s))};u.propTypes={background:i.default.string,zDepth:i.default.oneOf([0,1,2,3,4,5]),radius:i.default.number,styles:i.default.object},u.defaultProps={background:\"#fff\",zDepth:1,radius:2,styles:{}},t.default=u},function(e,t,n){\"use strict\";var r=n(225);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\");throw s.name=\"Invariant Violation\",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){\"use strict\";e.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},function(e,t,n){var r=n(29),i=n(90),a=n(63),o=n(227),s=n(7),u=n(37),l=n(91);e.exports=function e(t,n,c,f,h){t!==n&&a(n,(function(a,u){if(s(a))h||(h=new r),o(t,n,u,c,e,f,h);else{var d=f?f(l(t,u),a,u+\"\",t,n,h):void 0;void 0===d&&(d=a),i(t,u,d)}}),u)}},function(e,t,n){var r=n(90),i=n(85),a=n(88),o=n(86),s=n(89),u=n(39),l=n(5),c=n(228),f=n(27),h=n(47),d=n(7),p=n(67),m=n(42),v=n(91),g=n(229);e.exports=function(e,t,n,y,b,x,_){var w=v(e,n),E=v(t,n),M=_.get(E);if(M)r(e,n,M);else{var S=x?x(w,E,n+\"\",e,t,_):void 0,T=void 0===S;if(T){var C=l(E),P=!C&&f(E),A=!C&&!P&&m(E);S=E,C||P||A?l(w)?S=w:c(w)?S=o(w):P?(T=!1,S=i(E,!0)):A?(T=!1,S=a(E,!0)):S=[]:p(E)||u(E)?(S=w,u(w)?S=g(w):d(w)&&!h(w)||(S=s(E))):T=!1}T&&(_.set(E,S),b(S,E,y,x,_),_.delete(E)),r(e,n,S)}}},function(e,t,n){var r=n(19),i=n(12);e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){var r=n(25),i=n(37);e.exports=function(e){return r(e,i(e))}},function(e,t,n){var r=n(231),i=n(238);e.exports=function(e){return r((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(o=e.length>3&&\"function\"==typeof o?(a--,o):void 0,s&&i(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var u=n[r];u&&e(t,u,r,o)}return t}))}},function(e,t,n){var r=n(28),i=n(232),a=n(234);e.exports=function(e,t){return a(i(e,t,r),e+\"\")}},function(e,t,n){var r=n(233),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),u=Array(s);++o<s;)u[o]=a[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=a[o];return l[t]=n(u),r(e,this,l)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(235),i=n(237)(r);e.exports=i},function(e,t,n){var r=n(236),i=n(84),a=n(28),o=i?function(e,t){return i(e,\"toString\",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=800,r=16,i=Date.now;e.exports=function(e){var t=0,a=0;return function(){var o=i(),s=r-(o-a);if(a=o,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(24),i=n(19),a=n(41),o=n(7);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!(\"number\"==s?i(n)&&a(t,n.length):\"string\"==s&&t in n)&&r(n[t],e)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Saturation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=l(i),o=l(n(1)),s=l(n(240)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(243));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){\"function\"==typeof n.props.onChange&&n.throttle(n.props.onChange,u.calculateChange(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener(\"mousemove\",n.handleChange),window.addEventListener(\"mouseup\",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,s.default)((function(e,t,n){e(t,n)}),50),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillUnmount\",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:\"unbindEventListeners\",value:function(){window.removeEventListener(\"mousemove\",this.handleChange),window.removeEventListener(\"mouseup\",this.handleMouseUp)}},{key:\"render\",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,i=t.black,s=t.pointer,u=t.circle,l=(0,o.default)({default:{color:{absolute:\"0px 0px 0px 0px\",background:\"hsl(\"+this.props.hsl.h+\",100%, 50%)\",borderRadius:this.props.radius},white:{absolute:\"0px 0px 0px 0px\",borderRadius:this.props.radius},black:{absolute:\"0px 0px 0px 0px\",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:\"absolute\",top:-100*this.props.hsv.v+100+\"%\",left:100*this.props.hsv.s+\"%\",cursor:\"default\"},circle:{width:\"4px\",height:\"4px\",boxShadow:\"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\\n            0 0 1px 2px rgba(0,0,0,.4)\",borderRadius:\"50%\",cursor:\"hand\",transform:\"translate(-2px, -2px)\"}},custom:{color:n,white:r,black:i,pointer:s,circle:u}},{custom:!!this.props.style});return a.default.createElement(\"div\",{style:l.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},a.default.createElement(\"style\",null,\"\\n          .saturation-white {\\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\\n          }\\n          .saturation-black {\\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\\n          }\\n        \"),a.default.createElement(\"div\",{style:l.white,className:\"saturation-white\"},a.default.createElement(\"div\",{style:l.black,className:\"saturation-black\"}),a.default.createElement(\"div\",{style:l.pointer},this.props.pointer?a.default.createElement(this.props.pointer,this.props):a.default.createElement(\"div\",{style:l.circle}))))}}]),t}(i.PureComponent||i.Component);t.default=c},function(e,t,n){var r=n(92),i=n(7),a=\"Expected a function\";e.exports=function(e,t,n){var o=!0,s=!0;if(\"function\"!=typeof e)throw new TypeError(a);return i(n)&&(o=\"leading\"in n?!!n.leading:o,s=\"trailing\"in n?!!n.trailing:s),r(e,t,{leading:o,maxWait:t,trailing:s})}},function(e,t,n){var r=n(9);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(7),i=n(35),a=NaN,o=/^\\s+|\\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if(\"number\"==typeof e)return e;if(i(e))return a;if(r(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(o,\"\");var n=u.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?a:+e}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.calculateChange=function(e,t,n){var r=n.getBoundingClientRect(),i=r.width,a=r.height,o=\"number\"==typeof e.pageX?e.pageX:e.touches[0].pageX,s=\"number\"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=o-(n.getBoundingClientRect().left+window.pageXOffset),l=s-(n.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>i?u=i:l<0?l=0:l>a&&(l=a);var c=100*u/i,f=-100*l/a+100;return{h:t.h,s:c,v:f,a:t.a,source:\"rgb\"}}},function(e,t,n){e.exports=n(245)},function(e,t,n){var r=n(82),i=n(81),a=n(66),o=n(5);e.exports=function(e,t){return(o(e)?r:i)(e,a(t))}},function(e,t,n){var r;!function(i){var a=/^\\s+/,o=/\\s+$/,s=0,u=i.round,l=i.min,c=i.max,f=i.random;function h(e,t){if(t=t||{},(e=e||\"\")instanceof h)return e;if(!(this instanceof h))return new h(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,s=null,u=null,f=!1,h=!1;\"string\"==typeof e&&(e=function(e){e=e.replace(a,\"\").replace(o,\"\").toLowerCase();var t,n=!1;if(k[e])e=k[e],n=!0;else if(\"transparent\"==e)return{r:0,g:0,b:0,a:0,format:\"name\"};if(t=G.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=G.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=G.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=G.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=G.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=G.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=G.hex8.exec(e))return{r:I(t[1]),g:I(t[2]),b:I(t[3]),a:B(t[4]),format:n?\"name\":\"hex8\"};if(t=G.hex6.exec(e))return{r:I(t[1]),g:I(t[2]),b:I(t[3]),format:n?\"name\":\"hex\"};if(t=G.hex4.exec(e))return{r:I(t[1]+\"\"+t[1]),g:I(t[2]+\"\"+t[2]),b:I(t[3]+\"\"+t[3]),a:B(t[4]+\"\"+t[4]),format:n?\"name\":\"hex8\"};if(t=G.hex3.exec(e))return{r:I(t[1]+\"\"+t[1]),g:I(t[2]+\"\"+t[2]),b:I(t[3]+\"\"+t[3]),format:n?\"name\":\"hex\"};return!1}(e));\"object\"==typeof e&&(V(e.r)&&V(e.g)&&V(e.b)?(d=e.r,p=e.g,m=e.b,t={r:255*R(d,255),g:255*R(p,255),b:255*R(m,255)},f=!0,h=\"%\"===String(e.r).substr(-1)?\"prgb\":\"rgb\"):V(e.h)&&V(e.s)&&V(e.v)?(r=z(e.s),s=z(e.v),t=function(e,t,n){e=6*R(e,360),t=R(t,100),n=R(n,100);var r=i.floor(e),a=e-r,o=n*(1-t),s=n*(1-a*t),u=n*(1-(1-a)*t),l=r%6;return{r:255*[n,s,o,o,u,n][l],g:255*[u,n,n,s,o,o][l],b:255*[o,o,u,n,n,s][l]}}(e.h,r,s),f=!0,h=\"hsv\"):V(e.h)&&V(e.s)&&V(e.l)&&(r=z(e.s),u=z(e.l),t=function(e,t,n){var r,i,a;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=R(e,360),t=R(t,100),n=R(n,100),0===t)r=i=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;r=o(u,s,e+1/3),i=o(u,s,e),a=o(u,s,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,r,u),f=!0,h=\"hsl\"),e.hasOwnProperty(\"a\")&&(n=e.a));var d,p,m;return n=L(n),{ok:f,format:e.format||h,r:l(255,c(t.r,0)),g:l(255,c(t.g,0)),b:l(255,c(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=u(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=u(this._r)),this._g<1&&(this._g=u(this._g)),this._b<1&&(this._b=u(this._b)),this._ok=n.ok,this._tc_id=s++}function d(e,t,n){e=R(e,255),t=R(t,255),n=R(n,255);var r,i,a=c(e,t,n),o=l(e,t,n),s=(a+o)/2;if(a==o)r=i=0;else{var u=a-o;switch(i=s>.5?u/(2-a-o):u/(a+o),a){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function p(e,t,n){e=R(e,255),t=R(t,255),n=R(n,255);var r,i,a=c(e,t,n),o=l(e,t,n),s=a,u=a-o;if(i=0===a?0:u/a,a==o)r=0;else{switch(a){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function m(e,t,n,r){var i=[D(u(e).toString(16)),D(u(t).toString(16)),D(u(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join(\"\")}function v(e,t,n,r){return[D(F(r)),D(u(e).toString(16)),D(u(t).toString(16)),D(u(n).toString(16))].join(\"\")}function g(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s-=t/100,n.s=N(n.s),h(n)}function y(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.s+=t/100,n.s=N(n.s),h(n)}function b(e){return h(e).desaturate(100)}function x(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l+=t/100,n.l=N(n.l),h(n)}function _(e,t){t=0===t?0:t||10;var n=h(e).toRgb();return n.r=c(0,l(255,n.r-u(-t/100*255))),n.g=c(0,l(255,n.g-u(-t/100*255))),n.b=c(0,l(255,n.b-u(-t/100*255))),h(n)}function w(e,t){t=0===t?0:t||10;var n=h(e).toHsl();return n.l-=t/100,n.l=N(n.l),h(n)}function E(e,t){var n=h(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,h(n)}function M(e){var t=h(e).toHsl();return t.h=(t.h+180)%360,h(t)}function S(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+120)%360,s:t.s,l:t.l}),h({h:(n+240)%360,s:t.s,l:t.l})]}function T(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+90)%360,s:t.s,l:t.l}),h({h:(n+180)%360,s:t.s,l:t.l}),h({h:(n+270)%360,s:t.s,l:t.l})]}function C(e){var t=h(e).toHsl(),n=t.h;return[h(e),h({h:(n+72)%360,s:t.s,l:t.l}),h({h:(n+216)%360,s:t.s,l:t.l})]}function P(e,t,n){t=t||6,n=n||30;var r=h(e).toHsl(),i=360/n,a=[h(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(h(r));return a}function A(e,t){t=t||6;for(var n=h(e).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(h({h:r,s:i,v:a})),a=(a+s)%1;return o}h.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=L(e),this._roundA=u(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.v);return 1==this._a?\"hsv(\"+t+\", \"+n+\"%, \"+r+\"%)\":\"hsva(\"+t+\", \"+n+\"%, \"+r+\"%, \"+this._roundA+\")\"},toHsl:function(){var e=d(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=d(this._r,this._g,this._b),t=u(360*e.h),n=u(100*e.s),r=u(100*e.l);return 1==this._a?\"hsl(\"+t+\", \"+n+\"%, \"+r+\"%)\":\"hsla(\"+t+\", \"+n+\"%, \"+r+\"%, \"+this._roundA+\")\"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return\"#\"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var a=[D(u(e).toString(16)),D(u(t).toString(16)),D(u(n).toString(16)),D(F(r))];if(i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join(\"\")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return\"#\"+this.toHex8(e)},toRgb:function(){return{r:u(this._r),g:u(this._g),b:u(this._b),a:this._a}},toRgbString:function(){return 1==this._a?\"rgb(\"+u(this._r)+\", \"+u(this._g)+\", \"+u(this._b)+\")\":\"rgba(\"+u(this._r)+\", \"+u(this._g)+\", \"+u(this._b)+\", \"+this._roundA+\")\"},toPercentageRgb:function(){return{r:u(100*R(this._r,255))+\"%\",g:u(100*R(this._g,255))+\"%\",b:u(100*R(this._b,255))+\"%\",a:this._a}},toPercentageRgbString:function(){return 1==this._a?\"rgb(\"+u(100*R(this._r,255))+\"%, \"+u(100*R(this._g,255))+\"%, \"+u(100*R(this._b,255))+\"%)\":\"rgba(\"+u(100*R(this._r,255))+\"%, \"+u(100*R(this._g,255))+\"%, \"+u(100*R(this._b,255))+\"%, \"+this._roundA+\")\"},toName:function(){return 0===this._a?\"transparent\":!(this._a<1)&&(O[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t=\"#\"+v(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?\"GradientType = 1, \":\"\";if(e){var i=h(e);n=\"#\"+v(i._r,i._g,i._b,i._a)}return\"progid:DXImageTransform.Microsoft.gradient(\"+r+\"startColorstr=\"+t+\",endColorstr=\"+n+\")\"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||\"hex\"!==e&&\"hex6\"!==e&&\"hex3\"!==e&&\"hex4\"!==e&&\"hex8\"!==e&&\"name\"!==e?(\"rgb\"===e&&(n=this.toRgbString()),\"prgb\"===e&&(n=this.toPercentageRgbString()),\"hex\"!==e&&\"hex6\"!==e||(n=this.toHexString()),\"hex3\"===e&&(n=this.toHexString(!0)),\"hex4\"===e&&(n=this.toHex8String(!0)),\"hex8\"===e&&(n=this.toHex8String()),\"name\"===e&&(n=this.toName()),\"hsl\"===e&&(n=this.toHslString()),\"hsv\"===e&&(n=this.toHsvString()),n||this.toHexString()):\"name\"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return h(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(x,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(w,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(E,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(P,arguments)},complement:function(){return this._applyCombination(M,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(C,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(T,arguments)}},h.fromRatio=function(e,t){if(\"object\"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=\"a\"===r?e[r]:z(e[r]));e=n}return h(e,t)},h.equals=function(e,t){return!(!e||!t)&&h(e).toRgbString()==h(t).toRgbString()},h.random=function(){return h.fromRatio({r:f(),g:f(),b:f()})},h.mix=function(e,t,n){n=0===n?0:n||50;var r=h(e).toRgb(),i=h(t).toRgb(),a=n/100;return h({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},h.readability=function(e,t){var n=h(e),r=h(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},h.isReadable=function(e,t,n){var r,i,a=h.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:\"AA\",size:\"small\"}).level||\"AA\").toUpperCase(),n=(e.size||\"small\").toLowerCase(),\"AA\"!==t&&\"AAA\"!==t&&(t=\"AA\");\"small\"!==n&&\"large\"!==n&&(n=\"small\");return{level:t,size:n}}(n)).level+r.size){case\"AAsmall\":case\"AAAlarge\":i=a>=4.5;break;case\"AAlarge\":i=a>=3;break;case\"AAAsmall\":i=a>=7}return i},h.mostReadable=function(e,t,n){var r,i,a,o,s=null,u=0;i=(n=n||{}).includeFallbackColors,a=n.level,o=n.size;for(var l=0;l<t.length;l++)(r=h.readability(e,t[l]))>u&&(u=r,s=h(t[l]));return h.isReadable(e,s,{level:a,size:o})||!i?s:(n.includeFallbackColors=!1,h.mostReadable(e,[\"#fff\",\"#000\"],n))};var k=h.names={aliceblue:\"f0f8ff\",antiquewhite:\"faebd7\",aqua:\"0ff\",aquamarine:\"7fffd4\",azure:\"f0ffff\",beige:\"f5f5dc\",bisque:\"ffe4c4\",black:\"000\",blanchedalmond:\"ffebcd\",blue:\"00f\",blueviolet:\"8a2be2\",brown:\"a52a2a\",burlywood:\"deb887\",burntsienna:\"ea7e5d\",cadetblue:\"5f9ea0\",chartreuse:\"7fff00\",chocolate:\"d2691e\",coral:\"ff7f50\",cornflowerblue:\"6495ed\",cornsilk:\"fff8dc\",crimson:\"dc143c\",cyan:\"0ff\",darkblue:\"00008b\",darkcyan:\"008b8b\",darkgoldenrod:\"b8860b\",darkgray:\"a9a9a9\",darkgreen:\"006400\",darkgrey:\"a9a9a9\",darkkhaki:\"bdb76b\",darkmagenta:\"8b008b\",darkolivegreen:\"556b2f\",darkorange:\"ff8c00\",darkorchid:\"9932cc\",darkred:\"8b0000\",darksalmon:\"e9967a\",darkseagreen:\"8fbc8f\",darkslateblue:\"483d8b\",darkslategray:\"2f4f4f\",darkslategrey:\"2f4f4f\",darkturquoise:\"00ced1\",darkviolet:\"9400d3\",deeppink:\"ff1493\",deepskyblue:\"00bfff\",dimgray:\"696969\",dimgrey:\"696969\",dodgerblue:\"1e90ff\",firebrick:\"b22222\",floralwhite:\"fffaf0\",forestgreen:\"228b22\",fuchsia:\"f0f\",gainsboro:\"dcdcdc\",ghostwhite:\"f8f8ff\",gold:\"ffd700\",goldenrod:\"daa520\",gray:\"808080\",green:\"008000\",greenyellow:\"adff2f\",grey:\"808080\",honeydew:\"f0fff0\",hotpink:\"ff69b4\",indianred:\"cd5c5c\",indigo:\"4b0082\",ivory:\"fffff0\",khaki:\"f0e68c\",lavender:\"e6e6fa\",lavenderblush:\"fff0f5\",lawngreen:\"7cfc00\",lemonchiffon:\"fffacd\",lightblue:\"add8e6\",lightcoral:\"f08080\",lightcyan:\"e0ffff\",lightgoldenrodyellow:\"fafad2\",lightgray:\"d3d3d3\",lightgreen:\"90ee90\",lightgrey:\"d3d3d3\",lightpink:\"ffb6c1\",lightsalmon:\"ffa07a\",lightseagreen:\"20b2aa\",lightskyblue:\"87cefa\",lightslategray:\"789\",lightslategrey:\"789\",lightsteelblue:\"b0c4de\",lightyellow:\"ffffe0\",lime:\"0f0\",limegreen:\"32cd32\",linen:\"faf0e6\",magenta:\"f0f\",maroon:\"800000\",mediumaquamarine:\"66cdaa\",mediumblue:\"0000cd\",mediumorchid:\"ba55d3\",mediumpurple:\"9370db\",mediumseagreen:\"3cb371\",mediumslateblue:\"7b68ee\",mediumspringgreen:\"00fa9a\",mediumturquoise:\"48d1cc\",mediumvioletred:\"c71585\",midnightblue:\"191970\",mintcream:\"f5fffa\",mistyrose:\"ffe4e1\",moccasin:\"ffe4b5\",navajowhite:\"ffdead\",navy:\"000080\",oldlace:\"fdf5e6\",olive:\"808000\",olivedrab:\"6b8e23\",orange:\"ffa500\",orangered:\"ff4500\",orchid:\"da70d6\",palegoldenrod:\"eee8aa\",palegreen:\"98fb98\",paleturquoise:\"afeeee\",palevioletred:\"db7093\",papayawhip:\"ffefd5\",peachpuff:\"ffdab9\",peru:\"cd853f\",pink:\"ffc0cb\",plum:\"dda0dd\",powderblue:\"b0e0e6\",purple:\"800080\",rebeccapurple:\"663399\",red:\"f00\",rosybrown:\"bc8f8f\",royalblue:\"4169e1\",saddlebrown:\"8b4513\",salmon:\"fa8072\",sandybrown:\"f4a460\",seagreen:\"2e8b57\",seashell:\"fff5ee\",sienna:\"a0522d\",silver:\"c0c0c0\",skyblue:\"87ceeb\",slateblue:\"6a5acd\",slategray:\"708090\",slategrey:\"708090\",snow:\"fffafa\",springgreen:\"00ff7f\",steelblue:\"4682b4\",tan:\"d2b48c\",teal:\"008080\",thistle:\"d8bfd8\",tomato:\"ff6347\",turquoise:\"40e0d0\",violet:\"ee82ee\",wheat:\"f5deb3\",white:\"fff\",whitesmoke:\"f5f5f5\",yellow:\"ff0\",yellowgreen:\"9acd32\"},O=h.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(k);function L(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function R(e,t){(function(e){return\"string\"==typeof e&&-1!=e.indexOf(\".\")&&1===parseFloat(e)})(e)&&(e=\"100%\");var n=function(e){return\"string\"==typeof e&&-1!=e.indexOf(\"%\")}(e);return e=l(t,c(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function N(e){return l(1,c(0,e))}function I(e){return parseInt(e,16)}function D(e){return 1==e.length?\"0\"+e:\"\"+e}function z(e){return e<=1&&(e=100*e+\"%\"),e}function F(e){return i.round(255*parseFloat(e)).toString(16)}function B(e){return I(e)/255}var j,U,H,G=(U=\"[\\\\s|\\\\(]+(\"+(j=\"(?:[-\\\\+]?\\\\d*\\\\.\\\\d+%?)|(?:[-\\\\+]?\\\\d+%?)\")+\")[,|\\\\s]+(\"+j+\")[,|\\\\s]+(\"+j+\")\\\\s*\\\\)?\",H=\"[\\\\s|\\\\(]+(\"+j+\")[,|\\\\s]+(\"+j+\")[,|\\\\s]+(\"+j+\")[,|\\\\s]+(\"+j+\")\\\\s*\\\\)?\",{CSS_UNIT:new RegExp(j),rgb:new RegExp(\"rgb\"+U),rgba:new RegExp(\"rgba\"+H),hsl:new RegExp(\"hsl\"+U),hsla:new RegExp(\"hsla\"+H),hsv:new RegExp(\"hsv\"+U),hsva:new RegExp(\"hsva\"+H),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function V(e){return!!G.CSS_UNIT.exec(e)}e.exports?e.exports=h:void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}(Math)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Swatch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(0)),a=u(n(1)),o=n(248),s=u(n(55));function u(e){return e&&e.__esModule?e:{default:e}}var l=t.Swatch=function(e){var t=e.color,n=e.style,o=e.onClick,u=void 0===o?function(){}:o,l=e.onHover,c=e.title,f=void 0===c?t:c,h=e.children,d=e.focus,p=e.focusStyle,m=void 0===p?{}:p,v=\"transparent\"===t,g=(0,a.default)({default:{swatch:r({background:t,height:\"100%\",width:\"100%\",cursor:\"pointer\",position:\"relative\",outline:\"none\"},n,d?m:{})}}),y={};return l&&(y.onMouseOver=function(e){return l(t,e)}),i.default.createElement(\"div\",r({style:g.swatch,onClick:function(e){return u(t,e)},title:f,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&u(t,e)}},y),h,v&&i.default.createElement(s.default,{borderRadius:g.swatch.borderRadius,boxShadow:\"inset 0 0 0 1px rgba(0,0,0,0.1)\"}))};t.default=(0,o.handleFocus)(l)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.handleFocus=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=(r=o)&&r.__esModule?r:{default:r};function u(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function l(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function c(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"span\";return function(n){function r(){var e,t,n;u(this,r);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=n=l(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(a))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},l(n,t)}return c(r,n),a(r,[{key:\"render\",value:function(){return s.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},s.default.createElement(e,i({},this.props,this.state)))}}]),r}(s.default.Component)}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.AlphaPointer=void 0;var r=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var o=t.AlphaPointer=function(e){var t=e.direction,n=(0,i.default)({default:{picker:{width:\"18px\",height:\"18px\",borderRadius:\"50%\",transform:\"translate(-9px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}},vertical:{picker:{transform:\"translate(-3px, -9px)\"}}},{vertical:\"vertical\"===t});return r.default.createElement(\"div\",{style:n.picker})};t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Block=void 0;var r=c(n(0)),i=c(n(3)),a=c(n(1)),o=c(n(6)),s=c(n(10)),u=n(2),l=c(n(251));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Block=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.hex,c=e.colors,f=e.width,h=e.triangle,d=e.styles,p=void 0===d?{}:d,m=e.className,v=void 0===m?\"\":m,g=\"transparent\"===i,y=function(e,n){s.default.isValidHex(e)&&t({hex:e,source:\"hex\"},n)},b=(0,a.default)((0,o.default)({default:{card:{width:f,background:\"#fff\",boxShadow:\"0 1px rgba(0,0,0,.1)\",borderRadius:\"6px\",position:\"relative\"},head:{height:\"110px\",background:i,borderRadius:\"6px 6px 0 0\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",position:\"relative\"},body:{padding:\"10px\"},label:{fontSize:\"18px\",color:s.default.getContrastingColor(i),position:\"relative\"},triangle:{width:\"0px\",height:\"0px\",borderStyle:\"solid\",borderWidth:\"0 10px 10px 10px\",borderColor:\"transparent transparent \"+i+\" transparent\",position:\"absolute\",top:\"-10px\",left:\"50%\",marginLeft:\"-10px\"},input:{width:\"100%\",fontSize:\"12px\",color:\"#666\",border:\"0px\",outline:\"none\",height:\"22px\",boxShadow:\"inset 0 0 0 1px #ddd\",borderRadius:\"4px\",padding:\"0 7px\",boxSizing:\"border-box\"}},\"hide-triangle\":{triangle:{display:\"none\"}}},p),{\"hide-triangle\":\"hide\"===h});return r.default.createElement(\"div\",{style:b.card,className:\"block-picker \"+v},r.default.createElement(\"div\",{style:b.triangle}),r.default.createElement(\"div\",{style:b.head},g&&r.default.createElement(u.Checkboard,{borderRadius:\"6px 6px 0 0\"}),r.default.createElement(\"div\",{style:b.label},i)),r.default.createElement(\"div\",{style:b.body},r.default.createElement(l.default,{colors:c,onClick:y,onSwatchHover:n}),r.default.createElement(u.EditableInput,{style:{input:b.input},value:i,onChange:y})))};f.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.string),triangle:i.default.oneOf([\"top\",\"hide\"]),styles:i.default.object},f.defaultProps={width:170,colors:[\"#D9E3F0\",\"#F47373\",\"#697689\",\"#37D67A\",\"#2CCCE4\",\"#555555\",\"#dce775\",\"#ff8a65\",\"#ba68c8\"],triangle:\"top\",styles:{}},t.default=(0,u.ColorWrap)(f)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.BlockSwatches=void 0;var r=s(n(0)),i=s(n(1)),a=s(n(14)),o=n(2);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.BlockSwatches=function(e){var t=e.colors,n=e.onClick,s=e.onSwatchHover,u=(0,i.default)({default:{swatches:{marginRight:\"-10px\"},swatch:{width:\"22px\",height:\"22px\",float:\"left\",marginRight:\"10px\",marginBottom:\"10px\",borderRadius:\"4px\"},clear:{clear:\"both\"}}});return r.default.createElement(\"div\",{style:u.swatches},(0,a.default)(t,(function(e){return r.default.createElement(o.Swatch,{key:e,color:e,style:u.swatch,onClick:n,onHover:s,focusStyle:{boxShadow:\"0 0 4px \"+e}})})),r.default.createElement(\"div\",{style:u.clear}))};t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Circle=void 0;var r=f(n(0)),i=f(n(3)),a=f(n(1)),o=f(n(14)),s=f(n(6)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(94)),l=n(2),c=f(n(253));function f(e){return e&&e.__esModule?e:{default:e}}var h=t.Circle=function(e){var t=e.width,n=e.onChange,i=e.onSwatchHover,u=e.colors,l=e.hex,f=e.circleSize,h=e.styles,d=void 0===h?{}:h,p=e.circleSpacing,m=e.className,v=void 0===m?\"\":m,g=(0,a.default)((0,s.default)({default:{card:{width:t,display:\"flex\",flexWrap:\"wrap\",marginRight:-p,marginBottom:-p}}},d)),y=function(e,t){return n({hex:e,source:\"hex\"},t)};return r.default.createElement(\"div\",{style:g.card,className:\"circle-picker \"+v},(0,o.default)(u,(function(e){return r.default.createElement(c.default,{key:e,color:e,onClick:y,onSwatchHover:i,active:l===e.toLowerCase(),circleSize:f,circleSpacing:p})})))};h.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),circleSize:i.default.number,circleSpacing:i.default.number,styles:i.default.object},h.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[u.red[500],u.pink[500],u.purple[500],u.deepPurple[500],u.indigo[500],u.blue[500],u.lightBlue[500],u.cyan[500],u.teal[500],u.green[500],u.lightGreen[500],u.lime[500],u.yellow[500],u.amber[500],u.orange[500],u.deepOrange[500],u.brown[500],u.blueGrey[500]],styles:{}},t.default=(0,l.ColorWrap)(h)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CircleSwatch=void 0;var r=s(n(0)),i=n(1),a=s(i),o=n(2);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.CircleSwatch=function(e){var t=e.color,n=e.onClick,i=e.onSwatchHover,s=e.hover,u=e.active,l=e.circleSize,c=e.circleSpacing,f=(0,a.default)({default:{swatch:{width:l,height:l,marginRight:c,marginBottom:c,transform:\"scale(1)\",transition:\"100ms transform ease\"},Swatch:{borderRadius:\"50%\",background:\"transparent\",boxShadow:\"inset 0 0 0 \"+l/2+\"px \"+t,transition:\"100ms box-shadow ease\"}},hover:{swatch:{transform:\"scale(1.2)\"}},active:{Swatch:{boxShadow:\"inset 0 0 0 3px \"+t}}},{hover:s,active:u});return r.default.createElement(\"div\",{style:f.swatch},r.default.createElement(o.Swatch,{style:f.Swatch,color:t,onClick:n,onHover:i,focusStyle:{boxShadow:f.Swatch.boxShadow+\", 0 0 5px \"+t}}))};u.defaultProps={circleSize:28,circleSpacing:14},t.default=(0,i.handleHover)(u)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Chrome=void 0;var r=f(n(0)),i=f(n(3)),a=f(n(1)),o=f(n(6)),s=n(2),u=f(n(255)),l=f(n(257)),c=f(n(258));function f(e){return e&&e.__esModule?e:{default:e}}var h=t.Chrome=function(e){var t=e.width,n=e.onChange,i=e.disableAlpha,f=e.rgb,h=e.hsl,d=e.hsv,p=e.hex,m=e.renderers,v=e.styles,g=void 0===v?{}:v,y=e.className,b=void 0===y?\"\":y,x=(0,a.default)((0,o.default)({default:{picker:{width:t,background:\"#fff\",borderRadius:\"2px\",boxShadow:\"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)\",boxSizing:\"initial\",fontFamily:\"Menlo\"},saturation:{width:\"100%\",paddingBottom:\"55%\",position:\"relative\",borderRadius:\"2px 2px 0 0\",overflow:\"hidden\"},Saturation:{radius:\"2px 2px 0 0\"},body:{padding:\"16px 16px 12px\"},controls:{display:\"flex\"},color:{width:\"32px\"},swatch:{marginTop:\"6px\",width:\"16px\",height:\"16px\",borderRadius:\"8px\",position:\"relative\",overflow:\"hidden\"},active:{absolute:\"0px 0px 0px 0px\",borderRadius:\"8px\",boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.1)\",background:\"rgba(\"+f.r+\", \"+f.g+\", \"+f.b+\", \"+f.a+\")\",zIndex:\"2\"},toggles:{flex:\"1\"},hue:{height:\"10px\",position:\"relative\",marginBottom:\"8px\"},Hue:{radius:\"2px\"},alpha:{height:\"10px\",position:\"relative\"},Alpha:{radius:\"2px\"}},disableAlpha:{color:{width:\"22px\"},alpha:{display:\"none\"},hue:{marginBottom:\"0px\"},swatch:{width:\"10px\",height:\"10px\",marginTop:\"0px\"}}},g),{disableAlpha:i});return r.default.createElement(\"div\",{style:x.picker,className:\"chrome-picker \"+b},r.default.createElement(\"div\",{style:x.saturation},r.default.createElement(s.Saturation,{style:x.Saturation,hsl:h,hsv:d,pointer:c.default,onChange:n})),r.default.createElement(\"div\",{style:x.body},r.default.createElement(\"div\",{style:x.controls,className:\"flexbox-fix\"},r.default.createElement(\"div\",{style:x.color},r.default.createElement(\"div\",{style:x.swatch},r.default.createElement(\"div\",{style:x.active}),r.default.createElement(s.Checkboard,{renderers:m}))),r.default.createElement(\"div\",{style:x.toggles},r.default.createElement(\"div\",{style:x.hue},r.default.createElement(s.Hue,{style:x.Hue,hsl:h,pointer:l.default,onChange:n})),r.default.createElement(\"div\",{style:x.alpha},r.default.createElement(s.Alpha,{style:x.Alpha,rgb:f,hsl:h,pointer:l.default,renderers:m,onChange:n})))),r.default.createElement(u.default,{rgb:f,hsl:h,hex:p,onChange:n,disableAlpha:i})))};h.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),disableAlpha:i.default.bool,styles:i.default.object},h.defaultProps={width:225,disableAlpha:!1,styles:{}},t.default=(0,s.ColorWrap)(h)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ChromeFields=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(1)),o=l(n(10)),s=n(2),u=l(n(256));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var f=t.ChromeFields=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={view:\"\"},r.toggleViews=function(){\"hex\"===r.state.view?r.setState({view:\"rgb\"}):\"rgb\"===r.state.view?r.setState({view:\"hsl\"}):\"hsl\"===r.state.view&&(1===r.props.hsl.a?r.setState({view:\"hex\"}):r.setState({view:\"rgb\"}))},r.handleChange=function(e,t){e.hex?o.default.isValidHex(e.hex)&&r.props.onChange({hex:e.hex,source:\"hex\"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:\"rgb\"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:\"rgb\"},t)):(e.h||e.s||e.l)&&(\"string\"==typeof e.s&&e.s.includes(\"%\")&&(e.s=e.s.replace(\"%\",\"\")),\"string\"==typeof e.l&&e.l.includes(\"%\")&&(e.l=e.l.replace(\"%\",\"\")),r.props.onChange({h:e.h||r.props.hsl.h,s:Number(e.s&&e.s||r.props.hsl.s),l:Number(e.l&&e.l||r.props.hsl.l),source:\"hsl\"},t))},r.showHighlight=function(e){e.currentTarget.style.background=\"#eee\"},r.hideHighlight=function(e){e.currentTarget.style.background=\"transparent\"},c(r,n)}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentDidMount\",value:function(){1===this.props.hsl.a&&\"hex\"!==this.state.view?this.setState({view:\"hex\"}):\"rgb\"!==this.state.view&&\"hsl\"!==this.state.view&&this.setState({view:\"rgb\"})}},{key:\"componentWillReceiveProps\",value:function(e){1!==e.hsl.a&&\"hex\"===this.state.view&&this.setState({view:\"rgb\"})}},{key:\"render\",value:function(){var e=this,t=(0,a.default)({default:{wrap:{paddingTop:\"16px\",display:\"flex\"},fields:{flex:\"1\",display:\"flex\",marginLeft:\"-6px\"},field:{paddingLeft:\"6px\",width:\"100%\"},alpha:{paddingLeft:\"6px\",width:\"100%\"},toggle:{width:\"32px\",textAlign:\"right\",position:\"relative\"},icon:{marginRight:\"-4px\",marginTop:\"12px\",cursor:\"pointer\",position:\"relative\"},iconHighlight:{position:\"absolute\",width:\"24px\",height:\"28px\",background:\"#eee\",borderRadius:\"4px\",top:\"10px\",left:\"12px\",display:\"none\"},input:{fontSize:\"11px\",color:\"#333\",width:\"100%\",borderRadius:\"2px\",border:\"none\",boxShadow:\"inset 0 0 0 1px #dadada\",height:\"21px\",textAlign:\"center\"},label:{textTransform:\"uppercase\",fontSize:\"11px\",lineHeight:\"11px\",color:\"#969696\",textAlign:\"center\",display:\"block\",marginTop:\"12px\"},svg:{fill:\"#333\",width:\"24px\",height:\"24px\",border:\"1px transparent solid\",borderRadius:\"5px\"}},disableAlpha:{alpha:{display:\"none\"}}},this.props,this.state),n=void 0;return\"hex\"===this.state.view?n=i.default.createElement(\"div\",{style:t.fields,className:\"flexbox-fix\"},i.default.createElement(\"div\",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"hex\",value:this.props.hex,onChange:this.handleChange}))):\"rgb\"===this.state.view?n=i.default.createElement(\"div\",{style:t.fields,className:\"flexbox-fix\"},i.default.createElement(\"div\",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"r\",value:this.props.rgb.r,onChange:this.handleChange})),i.default.createElement(\"div\",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"g\",value:this.props.rgb.g,onChange:this.handleChange})),i.default.createElement(\"div\",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"b\",value:this.props.rgb.b,onChange:this.handleChange})),i.default.createElement(\"div\",{style:t.alpha},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"a\",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):\"hsl\"===this.state.view&&(n=i.default.createElement(\"div\",{style:t.fields,className:\"flexbox-fix\"},i.default.createElement(\"div\",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"h\",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),i.default.createElement(\"div\",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"s\",value:Math.round(100*this.props.hsl.s)+\"%\",onChange:this.handleChange})),i.default.createElement(\"div\",{style:t.field},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"l\",value:Math.round(100*this.props.hsl.l)+\"%\",onChange:this.handleChange})),i.default.createElement(\"div\",{style:t.alpha},i.default.createElement(s.EditableInput,{style:{input:t.input,label:t.label},label:\"a\",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),i.default.createElement(\"div\",{style:t.wrap,className:\"flexbox-fix\"},n,i.default.createElement(\"div\",{style:t.toggle},i.default.createElement(\"div\",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},i.default.createElement(u.default,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}]),t}(i.default.Component);t.default=f},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?\"currentColor\":t,r=e.width,a=void 0===r?24:r,s=e.height,u=void 0===s?24:s,l=e.style,c=void 0===l?{}:l,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[\"fill\",\"width\",\"height\",\"style\"]);return o.default.createElement(\"svg\",i({viewBox:\"0 0 24 24\",style:i({fill:n,width:a,height:u},c)},f),o.default.createElement(\"path\",{d:\"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z\"}))}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ChromePointer=void 0;var r=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var o=t.ChromePointer=function(){var e=(0,i.default)({default:{picker:{width:\"12px\",height:\"12px\",borderRadius:\"6px\",transform:\"translate(-6px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}}});return r.default.createElement(\"div\",{style:e.picker})};t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ChromePointerCircle=void 0;var r=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var o=t.ChromePointerCircle=function(){var e=(0,i.default)({default:{picker:{width:\"12px\",height:\"12px\",borderRadius:\"6px\",boxShadow:\"inset 0 0 0 1px #fff\",transform:\"translate(-6px, -6px)\"}}});return r.default.createElement(\"div\",{style:e.picker})};t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Compact=void 0;var r=h(n(0)),i=h(n(3)),a=h(n(1)),o=h(n(14)),s=h(n(6)),u=h(n(10)),l=n(2),c=h(n(260)),f=h(n(261));function h(e){return e&&e.__esModule?e:{default:e}}var d=t.Compact=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.colors,h=e.hex,d=e.rgb,p=e.styles,m=void 0===p?{}:p,v=e.className,g=void 0===v?\"\":v,y=(0,a.default)((0,s.default)({default:{Compact:{background:\"#f6f6f6\",radius:\"4px\"},compact:{paddingTop:\"5px\",paddingLeft:\"5px\",boxSizing:\"initial\",width:\"240px\"},clear:{clear:\"both\"}}},m)),b=function(e,n){e.hex?u.default.isValidHex(e.hex)&&t({hex:e.hex,source:\"hex\"},n):t(e,n)};return r.default.createElement(l.Raised,{style:y.Compact,styles:m},r.default.createElement(\"div\",{style:y.compact,className:\"compact-picker \"+g},r.default.createElement(\"div\",null,(0,o.default)(i,(function(e){return r.default.createElement(c.default,{key:e,color:e,active:e.toLowerCase()===h,onClick:b,onSwatchHover:n})})),r.default.createElement(\"div\",{style:y.clear})),r.default.createElement(f.default,{hex:h,rgb:d,onChange:b})))};d.propTypes={colors:i.default.arrayOf(i.default.string),styles:i.default.object},d.defaultProps={colors:[\"#4D4D4D\",\"#999999\",\"#FFFFFF\",\"#F44E3B\",\"#FE9200\",\"#FCDC00\",\"#DBDF00\",\"#A4DD00\",\"#68CCCA\",\"#73D8FF\",\"#AEA1FF\",\"#FDA1FF\",\"#333333\",\"#808080\",\"#cccccc\",\"#D33115\",\"#E27300\",\"#FCC400\",\"#B0BC00\",\"#68BC00\",\"#16A5A5\",\"#009CE0\",\"#7B64FF\",\"#FA28FF\",\"#000000\",\"#666666\",\"#B3B3B3\",\"#9F0500\",\"#C45100\",\"#FB9E00\",\"#808900\",\"#194D33\",\"#0C797D\",\"#0062B1\",\"#653294\",\"#AB149E\"],styles:{}},t.default=(0,l.ColorWrap)(d)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CompactColor=void 0;var r=s(n(0)),i=s(n(1)),a=s(n(10)),o=n(2);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.CompactColor=function(e){var t=e.color,n=e.onClick,s=void 0===n?function(){}:n,u=e.onSwatchHover,l=e.active,c=(0,i.default)({default:{color:{background:t,width:\"15px\",height:\"15px\",float:\"left\",marginRight:\"5px\",marginBottom:\"5px\",position:\"relative\",cursor:\"pointer\"},dot:{absolute:\"5px 5px 5px 5px\",background:a.default.getContrastingColor(t),borderRadius:\"50%\",opacity:\"0\"}},active:{dot:{opacity:\"1\"}},\"color-#FFFFFF\":{color:{boxShadow:\"inset 0 0 0 1px #ddd\"},dot:{background:\"#000\"}},transparent:{dot:{background:\"#000\"}}},{active:l,\"color-#FFFFFF\":\"#FFFFFF\"===t,transparent:\"transparent\"===t});return r.default.createElement(o.Swatch,{style:c.color,color:t,onClick:s,onHover:u,focusStyle:{boxShadow:\"0 0 4px \"+t}},r.default.createElement(\"div\",{style:c.dot}))};t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CompactFields=void 0;var r=o(n(0)),i=o(n(1)),a=n(2);function o(e){return e&&e.__esModule?e:{default:e}}var s=t.CompactFields=function(e){var t=e.hex,n=e.rgb,o=e.onChange,s=(0,i.default)({default:{fields:{display:\"flex\",paddingBottom:\"6px\",paddingRight:\"5px\",position:\"relative\"},active:{position:\"absolute\",top:\"6px\",left:\"5px\",height:\"9px\",width:\"9px\",background:t},HEXwrap:{flex:\"6\",position:\"relative\"},HEXinput:{width:\"80%\",padding:\"0px\",paddingLeft:\"20%\",border:\"none\",outline:\"none\",background:\"none\",fontSize:\"12px\",color:\"#333\",height:\"16px\"},HEXlabel:{display:\"none\"},RGBwrap:{flex:\"3\",position:\"relative\"},RGBinput:{width:\"70%\",padding:\"0px\",paddingLeft:\"30%\",border:\"none\",outline:\"none\",background:\"none\",fontSize:\"12px\",color:\"#333\",height:\"16px\"},RGBlabel:{position:\"absolute\",top:\"3px\",left:\"0px\",lineHeight:\"16px\",textTransform:\"uppercase\",fontSize:\"12px\",color:\"#999\"}}}),u=function(e,t){e.r||e.g||e.b?o({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:\"rgb\"},t):o({hex:e.hex,source:\"hex\"},t)};return r.default.createElement(\"div\",{style:s.fields,className:\"flexbox-fix\"},r.default.createElement(\"div\",{style:s.active}),r.default.createElement(a.EditableInput,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:\"hex\",value:t,onChange:u}),r.default.createElement(a.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"r\",value:n.r,onChange:u}),r.default.createElement(a.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"g\",value:n.g,onChange:u}),r.default.createElement(a.EditableInput,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:\"b\",value:n.b,onChange:u}))};t.default=s},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Github=void 0;var r=c(n(0)),i=c(n(3)),a=c(n(1)),o=c(n(14)),s=c(n(6)),u=n(2),l=c(n(263));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Github=function(e){var t=e.width,n=e.colors,i=e.onChange,u=e.onSwatchHover,c=e.triangle,f=e.styles,h=void 0===f?{}:f,d=e.className,p=void 0===d?\"\":d,m=(0,a.default)((0,s.default)({default:{card:{width:t,background:\"#fff\",border:\"1px solid rgba(0,0,0,0.2)\",boxShadow:\"0 3px 12px rgba(0,0,0,0.15)\",borderRadius:\"4px\",position:\"relative\",padding:\"5px\",display:\"flex\",flexWrap:\"wrap\"},triangle:{position:\"absolute\",border:\"7px solid transparent\",borderBottomColor:\"#fff\"},triangleShadow:{position:\"absolute\",border:\"8px solid transparent\",borderBottomColor:\"rgba(0,0,0,0.15)\"}},\"hide-triangle\":{triangle:{display:\"none\"},triangleShadow:{display:\"none\"}},\"top-left-triangle\":{triangle:{top:\"-14px\",left:\"10px\"},triangleShadow:{top:\"-16px\",left:\"9px\"}},\"top-right-triangle\":{triangle:{top:\"-14px\",right:\"10px\"},triangleShadow:{top:\"-16px\",right:\"9px\"}},\"bottom-left-triangle\":{triangle:{top:\"35px\",left:\"10px\",transform:\"rotate(180deg)\"},triangleShadow:{top:\"37px\",left:\"9px\",transform:\"rotate(180deg)\"}},\"bottom-right-triangle\":{triangle:{top:\"35px\",right:\"10px\",transform:\"rotate(180deg)\"},triangleShadow:{top:\"37px\",right:\"9px\",transform:\"rotate(180deg)\"}}},h),{\"hide-triangle\":\"hide\"===c,\"top-left-triangle\":\"top-left\"===c,\"top-right-triangle\":\"top-right\"===c,\"bottom-left-triangle\":\"bottom-left\"===c,\"bottom-right-triangle\":\"bottom-right\"===c}),v=function(e,t){return i({hex:e,source:\"hex\"},t)};return r.default.createElement(\"div\",{style:m.card,className:\"github-picker \"+p},r.default.createElement(\"div\",{style:m.triangleShadow}),r.default.createElement(\"div\",{style:m.triangle}),(0,o.default)(n,(function(e){return r.default.createElement(l.default,{color:e,key:e,onClick:v,onSwatchHover:u})})))};f.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.string),triangle:i.default.oneOf([\"hide\",\"top-left\",\"top-right\",\"bottom-left\",\"bottom-right\"]),styles:i.default.object},f.defaultProps={width:200,colors:[\"#B80000\",\"#DB3E00\",\"#FCCB00\",\"#008B02\",\"#006B76\",\"#1273DE\",\"#004DCF\",\"#5300EB\",\"#EB9694\",\"#FAD0C3\",\"#FEF3BD\",\"#C1E1C5\",\"#BEDADC\",\"#C4DEF6\",\"#BED3F3\",\"#D4C4FB\"],triangle:\"top-left\",styles:{}},t.default=(0,u.ColorWrap)(f)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.GithubSwatch=void 0;var r=s(n(0)),i=n(1),a=s(i),o=n(2);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.GithubSwatch=function(e){var t=e.hover,n=e.color,i=e.onClick,s=e.onSwatchHover,u={position:\"relative\",zIndex:\"2\",outline:\"2px solid #fff\",boxShadow:\"0 0 5px 2px rgba(0,0,0,0.25)\"},l=(0,a.default)({default:{swatch:{width:\"25px\",height:\"25px\",fontSize:\"0\"}},hover:{swatch:u}},{hover:t});return r.default.createElement(\"div\",{style:l.swatch},r.default.createElement(o.Swatch,{color:n,onClick:i,onHover:s,focusStyle:u}))};t.default=(0,i.handleHover)(u)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.HuePicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(0)),a=c(n(3)),o=c(n(1)),s=c(n(6)),u=n(2),l=c(n(265));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.HuePicker=function(e){var t=e.width,n=e.height,a=e.onChange,l=e.hsl,c=e.direction,f=e.pointer,h=e.styles,d=void 0===h?{}:h,p=e.className,m=void 0===p?\"\":p,v=(0,o.default)((0,s.default)({default:{picker:{position:\"relative\",width:t,height:n},hue:{radius:\"2px\"}}},d));return i.default.createElement(\"div\",{style:v.picker,className:\"hue-picker \"+m},i.default.createElement(u.Hue,r({},v.hue,{hsl:l,pointer:f,onChange:function(e){return a({a:1,h:e.h,l:.5,s:1})},direction:c})))};f.propTypes={styles:a.default.object},f.defaultProps={width:\"316px\",height:\"16px\",direction:\"horizontal\",pointer:l.default,styles:{}},t.default=(0,u.ColorWrap)(f)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SliderPointer=void 0;var r=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var o=t.SliderPointer=function(e){var t=e.direction,n=(0,i.default)({default:{picker:{width:\"18px\",height:\"18px\",borderRadius:\"50%\",transform:\"translate(-9px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}},vertical:{picker:{transform:\"translate(-3px, -9px)\"}}},{vertical:\"vertical\"===t});return r.default.createElement(\"div\",{style:n.picker})};t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Material=void 0;var r=u(n(0)),i=u(n(1)),a=u(n(6)),o=u(n(10)),s=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var l=t.Material=function(e){var t=e.onChange,n=e.hex,u=e.rgb,l=e.styles,c=void 0===l?{}:l,f=e.className,h=void 0===f?\"\":f,d=(0,i.default)((0,a.default)({default:{material:{width:\"98px\",height:\"98px\",padding:\"16px\",fontFamily:\"Roboto\"},HEXwrap:{position:\"relative\"},HEXinput:{width:\"100%\",marginTop:\"12px\",fontSize:\"15px\",color:\"#333\",padding:\"0px\",border:\"0px\",borderBottom:\"2px solid \"+n,outline:\"none\",height:\"30px\"},HEXlabel:{position:\"absolute\",top:\"0px\",left:\"0px\",fontSize:\"11px\",color:\"#999999\",textTransform:\"capitalize\"},Hex:{style:{}},RGBwrap:{position:\"relative\"},RGBinput:{width:\"100%\",marginTop:\"12px\",fontSize:\"15px\",color:\"#333\",padding:\"0px\",border:\"0px\",borderBottom:\"1px solid #eee\",outline:\"none\",height:\"30px\"},RGBlabel:{position:\"absolute\",top:\"0px\",left:\"0px\",fontSize:\"11px\",color:\"#999999\",textTransform:\"capitalize\"},split:{display:\"flex\",marginRight:\"-10px\",paddingTop:\"11px\"},third:{flex:\"1\",paddingRight:\"10px\"}}},c)),p=function(e,n){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:\"hex\"},n):(e.r||e.g||e.b)&&t({r:e.r||u.r,g:e.g||u.g,b:e.b||u.b,source:\"rgb\"},n)};return r.default.createElement(s.Raised,{styles:c},r.default.createElement(\"div\",{style:d.material,className:\"material-picker \"+h},r.default.createElement(s.EditableInput,{style:{wrap:d.HEXwrap,input:d.HEXinput,label:d.HEXlabel},label:\"hex\",value:n,onChange:p}),r.default.createElement(\"div\",{style:d.split,className:\"flexbox-fix\"},r.default.createElement(\"div\",{style:d.third},r.default.createElement(s.EditableInput,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:\"r\",value:u.r,onChange:p})),r.default.createElement(\"div\",{style:d.third},r.default.createElement(s.EditableInput,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:\"g\",value:u.g,onChange:p})),r.default.createElement(\"div\",{style:d.third},r.default.createElement(s.EditableInput,{style:{wrap:d.RGBwrap,input:d.RGBinput,label:d.RGBlabel},label:\"b\",value:u.b,onChange:p})))))};t.default=(0,s.ColorWrap)(l)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Photoshop=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(0)),a=p(n(3)),o=p(n(1)),s=p(n(6)),u=n(2),l=p(n(268)),c=p(n(269)),f=p(n(270)),h=p(n(271)),d=p(n(272));function p(e){return e&&e.__esModule?e:{default:e}}var m=t.Photoshop=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"render\",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,a=void 0===r?\"\":r,p=(0,o.default)((0,s.default)({default:{picker:{background:\"#DCDCDC\",borderRadius:\"4px\",boxShadow:\"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)\",boxSizing:\"initial\",width:\"513px\"},head:{backgroundImage:\"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)\",borderBottom:\"1px solid #B1B1B1\",boxShadow:\"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)\",height:\"23px\",lineHeight:\"24px\",borderRadius:\"4px 4px 0 0\",fontSize:\"13px\",color:\"#4D4D4D\",textAlign:\"center\"},body:{padding:\"15px 15px 0\",display:\"flex\"},saturation:{width:\"256px\",height:\"256px\",position:\"relative\",border:\"2px solid #B3B3B3\",borderBottom:\"2px solid #F0F0F0\",overflow:\"hidden\"},hue:{position:\"relative\",height:\"256px\",width:\"19px\",marginLeft:\"10px\",border:\"2px solid #B3B3B3\",borderBottom:\"2px solid #F0F0F0\"},controls:{width:\"180px\",marginLeft:\"10px\"},top:{display:\"flex\"},previews:{width:\"60px\"},actions:{flex:\"1\",marginLeft:\"20px\"}}},n));return i.default.createElement(\"div\",{style:p.picker,className:\"photoshop-picker \"+a},i.default.createElement(\"div\",{style:p.head},this.props.header),i.default.createElement(\"div\",{style:p.body,className:\"flexbox-fix\"},i.default.createElement(\"div\",{style:p.saturation},i.default.createElement(u.Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:c.default,onChange:this.props.onChange})),i.default.createElement(\"div\",{style:p.hue},i.default.createElement(u.Hue,{direction:\"vertical\",hsl:this.props.hsl,pointer:f.default,onChange:this.props.onChange})),i.default.createElement(\"div\",{style:p.controls},i.default.createElement(\"div\",{style:p.top,className:\"flexbox-fix\"},i.default.createElement(\"div\",{style:p.previews},i.default.createElement(d.default,{rgb:this.props.rgb,currentColor:this.state.currentColor})),i.default.createElement(\"div\",{style:p.actions},i.default.createElement(h.default,{label:\"OK\",onClick:this.props.onAccept,active:!0}),i.default.createElement(h.default,{label:\"Cancel\",onClick:this.props.onCancel}),i.default.createElement(l.default,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(i.default.Component);m.propTypes={header:a.default.string,styles:a.default.object},m.defaultProps={header:\"Color Picker\",styles:{}},t.default=(0,u.ColorWrap)(m)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PhotoshopPicker=void 0;var r=s(n(0)),i=s(n(1)),a=s(n(10)),o=n(2);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.PhotoshopPicker=function(e){var t=e.onChange,n=e.rgb,s=e.hsv,u=e.hex,l=(0,i.default)({default:{fields:{paddingTop:\"5px\",paddingBottom:\"9px\",width:\"80px\",position:\"relative\"},divider:{height:\"5px\"},RGBwrap:{position:\"relative\"},RGBinput:{marginLeft:\"40%\",width:\"40%\",height:\"18px\",border:\"1px solid #888888\",boxShadow:\"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC\",marginBottom:\"5px\",fontSize:\"13px\",paddingLeft:\"3px\",marginRight:\"10px\"},RGBlabel:{left:\"0px\",width:\"34px\",textTransform:\"uppercase\",fontSize:\"13px\",height:\"18px\",lineHeight:\"22px\",position:\"absolute\"},HEXwrap:{position:\"relative\"},HEXinput:{marginLeft:\"20%\",width:\"80%\",height:\"18px\",border:\"1px solid #888888\",boxShadow:\"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC\",marginBottom:\"6px\",fontSize:\"13px\",paddingLeft:\"3px\"},HEXlabel:{position:\"absolute\",top:\"0px\",left:\"0px\",width:\"14px\",textTransform:\"uppercase\",fontSize:\"13px\",height:\"18px\",lineHeight:\"22px\"},fieldSymbols:{position:\"absolute\",top:\"5px\",right:\"-7px\",fontSize:\"13px\"},symbol:{height:\"20px\",lineHeight:\"22px\",paddingBottom:\"7px\"}}}),c=function(e,r){e[\"#\"]?a.default.isValidHex(e[\"#\"])&&t({hex:e[\"#\"],source:\"hex\"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:\"rgb\"},r):(e.h||e.s||e.v)&&t({h:e.h||s.h,s:e.s||s.s,v:e.v||s.v,source:\"hsv\"},r)};return r.default.createElement(\"div\",{style:l.fields},r.default.createElement(o.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:\"h\",value:Math.round(s.h),onChange:c}),r.default.createElement(o.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:\"s\",value:Math.round(100*s.s),onChange:c}),r.default.createElement(o.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:\"v\",value:Math.round(100*s.v),onChange:c}),r.default.createElement(\"div\",{style:l.divider}),r.default.createElement(o.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:\"r\",value:n.r,onChange:c}),r.default.createElement(o.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:\"g\",value:n.g,onChange:c}),r.default.createElement(o.EditableInput,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:\"b\",value:n.b,onChange:c}),r.default.createElement(\"div\",{style:l.divider}),r.default.createElement(o.EditableInput,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:\"#\",value:u.replace(\"#\",\"\"),onChange:c}),r.default.createElement(\"div\",{style:l.fieldSymbols},r.default.createElement(\"div\",{style:l.symbol},\"\"),r.default.createElement(\"div\",{style:l.symbol},\"%\"),r.default.createElement(\"div\",{style:l.symbol},\"%\")))};t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var o=t.PhotoshopPointerCircle=function(e){var t=e.hsl,n=(0,i.default)({default:{picker:{width:\"12px\",height:\"12px\",borderRadius:\"6px\",boxShadow:\"inset 0 0 0 1px #fff\",transform:\"translate(-6px, -6px)\"}},\"black-outline\":{picker:{boxShadow:\"inset 0 0 0 1px #000\"}}},{\"black-outline\":t.l>.5});return r.default.createElement(\"div\",{style:n.picker})};t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PhotoshopPointerCircle=void 0;var r=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var o=t.PhotoshopPointerCircle=function(){var e=(0,i.default)({default:{triangle:{width:0,height:0,borderStyle:\"solid\",borderWidth:\"4px 0 4px 6px\",borderColor:\"transparent transparent transparent #fff\",position:\"absolute\",top:\"1px\",left:\"1px\"},triangleBorder:{width:0,height:0,borderStyle:\"solid\",borderWidth:\"5px 0 5px 8px\",borderColor:\"transparent transparent transparent #555\"},left:{Extend:\"triangleBorder\",transform:\"translate(-13px, -4px)\"},leftInside:{Extend:\"triangle\",transform:\"translate(-8px, -5px)\"},right:{Extend:\"triangleBorder\",transform:\"translate(20px, -14px) rotate(180deg)\"},rightInside:{Extend:\"triangle\",transform:\"translate(-8px, -5px)\"}}});return r.default.createElement(\"div\",{style:e.pointer},r.default.createElement(\"div\",{style:e.left},r.default.createElement(\"div\",{style:e.leftInside})),r.default.createElement(\"div\",{style:e.right},r.default.createElement(\"div\",{style:e.rightInside})))};t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PhotoshopButton=void 0;var r=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var o=t.PhotoshopButton=function(e){var t=e.onClick,n=e.label,a=e.children,o=e.active,s=(0,i.default)({default:{button:{backgroundImage:\"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)\",border:\"1px solid #878787\",borderRadius:\"2px\",height:\"20px\",boxShadow:\"0 1px 0 0 #EAEAEA\",fontSize:\"14px\",color:\"#000\",lineHeight:\"20px\",textAlign:\"center\",marginBottom:\"10px\",cursor:\"pointer\"}},active:{button:{boxShadow:\"0 0 0 1px #878787\"}}},{active:o});return r.default.createElement(\"div\",{style:s.button,onClick:t},n||a)};t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.PhotoshopPreviews=void 0;var r=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var o=t.PhotoshopPreviews=function(e){var t=e.rgb,n=e.currentColor,a=(0,i.default)({default:{swatches:{border:\"1px solid #B3B3B3\",borderBottom:\"1px solid #F0F0F0\",marginBottom:\"2px\",marginTop:\"1px\"},new:{height:\"34px\",background:\"rgb(\"+t.r+\",\"+t.g+\", \"+t.b+\")\",boxShadow:\"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000\"},current:{height:\"34px\",background:n,boxShadow:\"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000\"},label:{fontSize:\"14px\",color:\"#000\",textAlign:\"center\"}}});return r.default.createElement(\"div\",null,r.default.createElement(\"div\",{style:a.label},\"new\"),r.default.createElement(\"div\",{style:a.swatches},r.default.createElement(\"div\",{style:a.new}),r.default.createElement(\"div\",{style:a.current})),r.default.createElement(\"div\",{style:a.label},\"current\"))};t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Sketch=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=f(n(0)),a=f(n(3)),o=f(n(1)),s=f(n(6)),u=n(2),l=f(n(274)),c=f(n(275));function f(e){return e&&e.__esModule?e:{default:e}}var h=t.Sketch=function(e){var t=e.width,n=e.rgb,a=e.hex,f=e.hsv,h=e.hsl,d=e.onChange,p=e.onSwatchHover,m=e.disableAlpha,v=e.presetColors,g=e.renderers,y=e.styles,b=void 0===y?{}:y,x=e.className,_=void 0===x?\"\":x,w=(0,o.default)((0,s.default)({default:r({picker:{width:t,padding:\"10px 10px 0\",boxSizing:\"initial\",background:\"#fff\",borderRadius:\"4px\",boxShadow:\"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)\"},saturation:{width:\"100%\",paddingBottom:\"75%\",position:\"relative\",overflow:\"hidden\"},Saturation:{radius:\"3px\",shadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"},controls:{display:\"flex\"},sliders:{padding:\"4px 0\",flex:\"1\"},color:{width:\"24px\",height:\"24px\",position:\"relative\",marginTop:\"4px\",marginLeft:\"4px\",borderRadius:\"3px\"},activeColor:{absolute:\"0px 0px 0px 0px\",borderRadius:\"2px\",background:\"rgba(\"+n.r+\",\"+n.g+\",\"+n.b+\",\"+n.a+\")\",boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"},hue:{position:\"relative\",height:\"10px\",overflow:\"hidden\"},Hue:{radius:\"2px\",shadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"},alpha:{position:\"relative\",height:\"10px\",marginTop:\"4px\",overflow:\"hidden\"},Alpha:{radius:\"2px\",shadow:\"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)\"}},b),disableAlpha:{color:{height:\"10px\"},hue:{height:\"10px\"},alpha:{display:\"none\"}}},b),{disableAlpha:m});return i.default.createElement(\"div\",{style:w.picker,className:\"sketch-picker \"+_},i.default.createElement(\"div\",{style:w.saturation},i.default.createElement(u.Saturation,{style:w.Saturation,hsl:h,hsv:f,onChange:d})),i.default.createElement(\"div\",{style:w.controls,className:\"flexbox-fix\"},i.default.createElement(\"div\",{style:w.sliders},i.default.createElement(\"div\",{style:w.hue},i.default.createElement(u.Hue,{style:w.Hue,hsl:h,onChange:d})),i.default.createElement(\"div\",{style:w.alpha},i.default.createElement(u.Alpha,{style:w.Alpha,rgb:n,hsl:h,renderers:g,onChange:d}))),i.default.createElement(\"div\",{style:w.color},i.default.createElement(u.Checkboard,null),i.default.createElement(\"div\",{style:w.activeColor}))),i.default.createElement(l.default,{rgb:n,hsl:h,hex:a,onChange:d,disableAlpha:m}),i.default.createElement(c.default,{colors:v,onClick:d,onSwatchHover:p}))};h.propTypes={disableAlpha:a.default.bool,width:a.default.oneOfType([a.default.string,a.default.number]),styles:a.default.object},h.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:[\"#D0021B\",\"#F5A623\",\"#F8E71C\",\"#8B572A\",\"#7ED321\",\"#417505\",\"#BD10E0\",\"#9013FE\",\"#4A90E2\",\"#50E3C2\",\"#B8E986\",\"#000000\",\"#4A4A4A\",\"#9B9B9B\",\"#FFFFFF\"]},t.default=(0,u.ColorWrap)(h)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SketchFields=void 0;var r=s(n(0)),i=s(n(1)),a=s(n(10)),o=n(2);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,s=e.hsl,u=e.hex,l=e.disableAlpha,c=(0,i.default)({default:{fields:{display:\"flex\",paddingTop:\"4px\"},single:{flex:\"1\",paddingLeft:\"6px\"},alpha:{flex:\"1\",paddingLeft:\"6px\"},double:{flex:\"2\"},input:{width:\"80%\",padding:\"4px 10% 3px\",border:\"none\",boxShadow:\"inset 0 0 0 1px #ccc\",fontSize:\"11px\"},label:{display:\"block\",textAlign:\"center\",fontSize:\"11px\",color:\"#222\",paddingTop:\"3px\",paddingBottom:\"4px\",textTransform:\"capitalize\"}},disableAlpha:{alpha:{display:\"none\"}}},{disableAlpha:l}),f=function(e,r){e.hex?a.default.isValidHex(e.hex)&&t({hex:e.hex,source:\"hex\"},r):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:\"rgb\"},r):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:s.h,s:s.s,l:s.l,a:e.a,source:\"rgb\"},r))};return r.default.createElement(\"div\",{style:c.fields,className:\"flexbox-fix\"},r.default.createElement(\"div\",{style:c.double},r.default.createElement(o.EditableInput,{style:{input:c.input,label:c.label},label:\"hex\",value:u.replace(\"#\",\"\"),onChange:f})),r.default.createElement(\"div\",{style:c.single},r.default.createElement(o.EditableInput,{style:{input:c.input,label:c.label},label:\"r\",value:n.r,onChange:f,dragLabel:\"true\",dragMax:\"255\"})),r.default.createElement(\"div\",{style:c.single},r.default.createElement(o.EditableInput,{style:{input:c.input,label:c.label},label:\"g\",value:n.g,onChange:f,dragLabel:\"true\",dragMax:\"255\"})),r.default.createElement(\"div\",{style:c.single},r.default.createElement(o.EditableInput,{style:{input:c.input,label:c.label},label:\"b\",value:n.b,onChange:f,dragLabel:\"true\",dragMax:\"255\"})),r.default.createElement(\"div\",{style:c.alpha},r.default.createElement(o.EditableInput,{style:{input:c.input,label:c.label},label:\"a\",value:Math.round(100*n.a),onChange:f,dragLabel:\"true\",dragMax:\"100\"})))};t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SketchPresetColors=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(0)),a=u(n(3)),o=u(n(1)),s=n(2);function u(e){return e&&e.__esModule?e:{default:e}}var l=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,a=void 0===n?function(){}:n,u=e.onSwatchHover,l=(0,o.default)({default:{colors:{margin:\"0 -10px\",padding:\"10px 0 0 10px\",borderTop:\"1px solid #eee\",display:\"flex\",flexWrap:\"wrap\",position:\"relative\"},swatchWrap:{width:\"16px\",height:\"16px\",margin:\"0 10px 10px 0\"},swatch:{borderRadius:\"3px\",boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.15)\"}},\"no-presets\":{colors:{display:\"none\"}}},{\"no-presets\":!t||!t.length}),c=function(e,t){a({hex:e,source:\"hex\"},t)};return i.default.createElement(\"div\",{style:l.colors,className:\"flexbox-fix\"},t.map((function(e){var t=\"string\"==typeof e?{color:e}:e,n=\"\"+t.color+(t.title||\"\");return i.default.createElement(\"div\",{key:n,style:l.swatchWrap},i.default.createElement(s.Swatch,r({},t,{style:l.swatch,onClick:c,onHover:u,focusStyle:{boxShadow:\"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px \"+t.color}})))})))};l.propTypes={colors:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.shape({color:a.default.string,title:a.default.string})])).isRequired},t.default=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Slider=void 0;var r=c(n(0)),i=c(n(3)),a=c(n(1)),o=c(n(6)),s=n(2),u=c(n(277)),l=c(n(279));function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Slider=function(e){var t=e.hsl,n=e.onChange,i=e.pointer,l=e.styles,c=void 0===l?{}:l,f=e.className,h=void 0===f?\"\":f,d=(0,a.default)((0,o.default)({default:{hue:{height:\"12px\",position:\"relative\"},Hue:{radius:\"2px\"}}},c));return r.default.createElement(\"div\",{style:d.wrap||{},className:\"slider-picker \"+h},r.default.createElement(\"div\",{style:d.hue},r.default.createElement(s.Hue,{style:d.Hue,hsl:t,pointer:i,onChange:n})),r.default.createElement(\"div\",{style:d.swatches},r.default.createElement(u.default,{hsl:t,onClick:n})))};f.propTypes={styles:i.default.object},f.defaultProps={pointer:l.default,styles:{}},t.default=(0,s.ColorWrap)(f)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SliderSwatches=void 0;var r=o(n(0)),i=o(n(1)),a=o(n(278));function o(e){return e&&e.__esModule?e:{default:e}}var s=t.SliderSwatches=function(e){var t=e.onClick,n=e.hsl,o=(0,i.default)({default:{swatches:{marginTop:\"20px\"},swatch:{boxSizing:\"border-box\",width:\"20%\",paddingRight:\"1px\",float:\"left\"},clear:{clear:\"both\"}}});return r.default.createElement(\"div\",{style:o.swatches},r.default.createElement(\"div\",{style:o.swatch},r.default.createElement(a.default,{hsl:n,offset:\".80\",active:Math.abs(n.l-.8)<.1&&Math.abs(n.s-.5)<.1,onClick:t,first:!0})),r.default.createElement(\"div\",{style:o.swatch},r.default.createElement(a.default,{hsl:n,offset:\".65\",active:Math.abs(n.l-.65)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),r.default.createElement(\"div\",{style:o.swatch},r.default.createElement(a.default,{hsl:n,offset:\".50\",active:Math.abs(n.l-.5)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),r.default.createElement(\"div\",{style:o.swatch},r.default.createElement(a.default,{hsl:n,offset:\".35\",active:Math.abs(n.l-.35)<.1&&Math.abs(n.s-.5)<.1,onClick:t})),r.default.createElement(\"div\",{style:o.swatch},r.default.createElement(a.default,{hsl:n,offset:\".20\",active:Math.abs(n.l-.2)<.1&&Math.abs(n.s-.5)<.1,onClick:t,last:!0})),r.default.createElement(\"div\",{style:o.clear}))};t.default=s},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SliderSwatch=void 0;var r=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var o=t.SliderSwatch=function(e){var t=e.hsl,n=e.offset,a=e.onClick,o=void 0===a?function(){}:a,s=e.active,u=e.first,l=e.last,c=(0,i.default)({default:{swatch:{height:\"12px\",background:\"hsl(\"+t.h+\", 50%, \"+100*n+\"%)\",cursor:\"pointer\"}},first:{swatch:{borderRadius:\"2px 0 0 2px\"}},last:{swatch:{borderRadius:\"0 2px 2px 0\"}},active:{swatch:{transform:\"scaleY(1.8)\",borderRadius:\"3.6px/2px\"}}},{active:s,first:u,last:l});return r.default.createElement(\"div\",{style:c.swatch,onClick:function(e){return o({h:t.h,s:.5,l:n,source:\"hsl\"},e)}})};t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SliderPointer=void 0;var r=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var o=t.SliderPointer=function(){var e=(0,i.default)({default:{picker:{width:\"14px\",height:\"14px\",borderRadius:\"6px\",transform:\"translate(-7px, -1px)\",backgroundColor:\"rgb(248, 248, 248)\",boxShadow:\"0 1px 4px 0 rgba(0, 0, 0, 0.37)\"}}});return r.default.createElement(\"div\",{style:e.picker})};t.default=o},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Swatches=void 0;var r=h(n(0)),i=h(n(3)),a=h(n(1)),o=h(n(14)),s=h(n(6)),u=h(n(10)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(94)),c=n(2),f=h(n(281));function h(e){return e&&e.__esModule?e:{default:e}}var d=t.Swatches=function(e){var t=e.width,n=e.height,i=e.onChange,l=e.onSwatchHover,h=e.colors,d=e.hex,p=e.styles,m=void 0===p?{}:p,v=e.className,g=void 0===v?\"\":v,y=(0,a.default)((0,s.default)({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:\"scroll\"},body:{padding:\"16px 0 6px 16px\"},clear:{clear:\"both\"}}},m)),b=function(e,t){u.default.isValidHex(e)&&i({hex:e,source:\"hex\"},t)};return r.default.createElement(\"div\",{style:y.picker,className:\"swatches-picker \"+g},r.default.createElement(c.Raised,null,r.default.createElement(\"div\",{style:y.overflow},r.default.createElement(\"div\",{style:y.body},(0,o.default)(h,(function(e){return r.default.createElement(f.default,{key:e.toString(),group:e,active:d,onClick:b,onSwatchHover:l})})),r.default.createElement(\"div\",{style:y.clear})))))};d.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),height:i.default.oneOfType([i.default.string,i.default.number]),colors:i.default.arrayOf(i.default.arrayOf(i.default.string)),styles:i.default.object},d.defaultProps={width:320,height:240,colors:[[l.red[900],l.red[700],l.red[500],l.red[300],l.red[100]],[l.pink[900],l.pink[700],l.pink[500],l.pink[300],l.pink[100]],[l.purple[900],l.purple[700],l.purple[500],l.purple[300],l.purple[100]],[l.deepPurple[900],l.deepPurple[700],l.deepPurple[500],l.deepPurple[300],l.deepPurple[100]],[l.indigo[900],l.indigo[700],l.indigo[500],l.indigo[300],l.indigo[100]],[l.blue[900],l.blue[700],l.blue[500],l.blue[300],l.blue[100]],[l.lightBlue[900],l.lightBlue[700],l.lightBlue[500],l.lightBlue[300],l.lightBlue[100]],[l.cyan[900],l.cyan[700],l.cyan[500],l.cyan[300],l.cyan[100]],[l.teal[900],l.teal[700],l.teal[500],l.teal[300],l.teal[100]],[\"#194D33\",l.green[700],l.green[500],l.green[300],l.green[100]],[l.lightGreen[900],l.lightGreen[700],l.lightGreen[500],l.lightGreen[300],l.lightGreen[100]],[l.lime[900],l.lime[700],l.lime[500],l.lime[300],l.lime[100]],[l.yellow[900],l.yellow[700],l.yellow[500],l.yellow[300],l.yellow[100]],[l.amber[900],l.amber[700],l.amber[500],l.amber[300],l.amber[100]],[l.orange[900],l.orange[700],l.orange[500],l.orange[300],l.orange[100]],[l.deepOrange[900],l.deepOrange[700],l.deepOrange[500],l.deepOrange[300],l.deepOrange[100]],[l.brown[900],l.brown[700],l.brown[500],l.brown[300],l.brown[100]],[l.blueGrey[900],l.blueGrey[700],l.blueGrey[500],l.blueGrey[300],l.blueGrey[100]],[\"#000000\",\"#525252\",\"#969696\",\"#D9D9D9\",\"#FFFFFF\"]],styles:{}},t.default=(0,c.ColorWrap)(d)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SwatchesGroup=void 0;var r=s(n(0)),i=s(n(1)),a=s(n(14)),o=s(n(282));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.SwatchesGroup=function(e){var t=e.onClick,n=e.onSwatchHover,s=e.group,u=e.active,l=(0,i.default)({default:{group:{paddingBottom:\"10px\",width:\"40px\",float:\"left\",marginRight:\"10px\"}}});return r.default.createElement(\"div\",{style:l.group},(0,a.default)(s,(function(e,i){return r.default.createElement(o.default,{key:e,color:e,active:e.toLowerCase()===u,first:0===i,last:i===s.length-1,onClick:t,onSwatchHover:n})})))};t.default=u},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.SwatchesColor=void 0;var r=u(n(0)),i=u(n(1)),a=u(n(10)),o=n(2),s=u(n(283));function u(e){return e&&e.__esModule?e:{default:e}}var l=t.SwatchesColor=function(e){var t=e.color,n=e.onClick,u=void 0===n?function(){}:n,l=e.onSwatchHover,c=e.first,f=e.last,h=e.active,d=(0,i.default)({default:{color:{width:\"40px\",height:\"24px\",cursor:\"pointer\",background:t,marginBottom:\"1px\"},check:{color:a.default.getContrastingColor(t),marginLeft:\"8px\",display:\"none\"}},first:{color:{overflow:\"hidden\",borderRadius:\"2px 2px 0 0\"}},last:{color:{overflow:\"hidden\",borderRadius:\"0 0 2px 2px\"}},active:{check:{display:\"block\"}},\"color-#FFFFFF\":{color:{boxShadow:\"inset 0 0 0 1px #ddd\"},check:{color:\"#333\"}},transparent:{check:{color:\"#333\"}}},{first:c,last:f,active:h,\"color-#FFFFFF\":\"#FFFFFF\"===t,transparent:\"transparent\"===t});return r.default.createElement(o.Swatch,{color:t,style:d.color,onClick:u,onHover:l,focusStyle:{boxShadow:\"0 0 4px \"+t}},r.default.createElement(\"div\",{style:d.check},r.default.createElement(s.default,null)))};t.default=l},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(0),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.fill,n=void 0===t?\"currentColor\":t,r=e.width,a=void 0===r?24:r,s=e.height,u=void 0===s?24:s,l=e.style,c=void 0===l?{}:l,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,[\"fill\",\"width\",\"height\",\"style\"]);return o.default.createElement(\"svg\",i({viewBox:\"0 0 24 24\",style:i({fill:n,width:a,height:u},c)},f),o.default.createElement(\"path\",{d:\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"}))}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.Twitter=void 0;var r=c(n(0)),i=c(n(3)),a=c(n(1)),o=c(n(14)),s=c(n(6)),u=c(n(10)),l=n(2);function c(e){return e&&e.__esModule?e:{default:e}}var f=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,i=e.hex,c=e.colors,f=e.width,h=e.triangle,d=e.styles,p=void 0===d?{}:d,m=e.className,v=void 0===m?\"\":m,g=(0,a.default)((0,s.default)({default:{card:{width:f,background:\"#fff\",border:\"0 solid rgba(0,0,0,0.25)\",boxShadow:\"0 1px 4px rgba(0,0,0,0.25)\",borderRadius:\"4px\",position:\"relative\"},body:{padding:\"15px 9px 9px 15px\"},label:{fontSize:\"18px\",color:\"#fff\"},triangle:{width:\"0px\",height:\"0px\",borderStyle:\"solid\",borderWidth:\"0 9px 10px 9px\",borderColor:\"transparent transparent #fff transparent\",position:\"absolute\"},triangleShadow:{width:\"0px\",height:\"0px\",borderStyle:\"solid\",borderWidth:\"0 9px 10px 9px\",borderColor:\"transparent transparent rgba(0,0,0,.1) transparent\",position:\"absolute\"},hash:{background:\"#F0F0F0\",height:\"30px\",width:\"30px\",borderRadius:\"4px 0 0 4px\",float:\"left\",color:\"#98A1A4\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},input:{width:\"100px\",fontSize:\"14px\",color:\"#666\",border:\"0px\",outline:\"none\",height:\"28px\",boxShadow:\"inset 0 0 0 1px #F0F0F0\",boxSizing:\"content-box\",borderRadius:\"0 4px 4px 0\",float:\"left\",paddingLeft:\"8px\"},swatch:{width:\"30px\",height:\"30px\",float:\"left\",borderRadius:\"4px\",margin:\"0 6px 6px 0\"},clear:{clear:\"both\"}},\"hide-triangle\":{triangle:{display:\"none\"},triangleShadow:{display:\"none\"}},\"top-left-triangle\":{triangle:{top:\"-10px\",left:\"12px\"},triangleShadow:{top:\"-11px\",left:\"12px\"}},\"top-right-triangle\":{triangle:{top:\"-10px\",right:\"12px\"},triangleShadow:{top:\"-11px\",right:\"12px\"}}},p),{\"hide-triangle\":\"hide\"===h,\"top-left-triangle\":\"top-left\"===h,\"top-right-triangle\":\"top-right\"===h}),y=function(e,n){u.default.isValidHex(e)&&t({hex:e,source:\"hex\"},n)};return r.default.createElement(\"div\",{style:g.card,className:\"twitter-picker \"+v},r.default.createElement(\"div\",{style:g.triangleShadow}),r.default.createElement(\"div\",{style:g.triangle}),r.default.createElement(\"div\",{style:g.body},(0,o.default)(c,(function(e,t){return r.default.createElement(l.Swatch,{key:t,color:e,hex:e,style:g.swatch,onClick:y,onHover:n,focusStyle:{boxShadow:\"0 0 4px \"+e}})})),r.default.createElement(\"div\",{style:g.hash},\"#\"),r.default.createElement(l.EditableInput,{label:null,style:{input:g.input},value:i.replace(\"#\",\"\"),onChange:y}),r.default.createElement(\"div\",{style:g.clear})))};f.propTypes={width:i.default.oneOfType([i.default.string,i.default.number]),triangle:i.default.oneOf([\"hide\",\"top-left\",\"top-right\"]),colors:i.default.arrayOf(i.default.string),styles:i.default.object},f.defaultProps={width:276,colors:[\"#FF6900\",\"#FCB900\",\"#7BDCB5\",\"#00D084\",\"#8ED1FC\",\"#0693E3\",\"#ABB8C3\",\"#EB144C\",\"#F78DA7\",\"#9900EF\"],triangle:\"top-left\",styles:{}},t.default=(0,l.ColorWrap)(f)},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(8);r.BufferGeometryUtils={computeTangents:function(e){var t=e.index,n=e.attributes;if(null!==t&&void 0!==n.position&&void 0!==n.normal&&void 0!==n.uv){var i=t.array,a=n.position.array,o=n.normal.array,s=n.uv.array,u=a.length/3;void 0===n.tangent&&e.addAttribute(\"tangent\",new r.BufferAttribute(new Float32Array(4*u),4));for(var l=n.tangent.array,c=[],f=[],h=0;h<u;h++)c[h]=new r.Vector3,f[h]=new r.Vector3;var d=new r.Vector3,p=new r.Vector3,m=new r.Vector3,v=new r.Vector2,g=new r.Vector2,y=new r.Vector2,b=new r.Vector3,x=new r.Vector3,_=e.groups;0===_.length&&(_=[{start:0,count:i.length}]);h=0;for(var w=_.length;h<w;++h)for(var E=R=(L=_[h]).start,M=R+L.count;E<M;E+=3)N(i[E+0],i[E+1],i[E+2]);var S,T,C,P=new r.Vector3,A=new r.Vector3,k=new r.Vector3,O=new r.Vector3;for(h=0,w=_.length;h<w;++h){var L,R;for(E=R=(L=_[h]).start,M=R+L.count;E<M;E+=3)I(i[E+0]),I(i[E+1]),I(i[E+2])}}else console.warn(\"THREE.BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()\");function N(e,t,n){d.fromArray(a,3*e),p.fromArray(a,3*t),m.fromArray(a,3*n),v.fromArray(s,2*e),g.fromArray(s,2*t),y.fromArray(s,2*n);var r=p.x-d.x,i=m.x-d.x,o=p.y-d.y,u=m.y-d.y,l=p.z-d.z,h=m.z-d.z,_=g.x-v.x,w=y.x-v.x,E=g.y-v.y,M=y.y-v.y,S=1/(_*M-w*E);b.set((M*r-E*i)*S,(M*o-E*u)*S,(M*l-E*h)*S),x.set((_*i-w*r)*S,(_*u-w*o)*S,(_*h-w*l)*S),c[e].add(b),c[t].add(b),c[n].add(b),f[e].add(x),f[t].add(x),f[n].add(x)}function I(e){k.fromArray(o,3*e),O.copy(k),T=c[e],P.copy(T),P.sub(k.multiplyScalar(k.dot(T))).normalize(),A.crossVectors(O,T),C=A.dot(f[e]),S=C<0?-1:1,l[4*e]=P.x,l[4*e+1]=P.y,l[4*e+2]=P.z,l[4*e+3]=S}},mergeBufferGeometries:function(e,t){for(var n=null!==e[0].index,i=new Set(Object.keys(e[0].attributes)),a=new Set(Object.keys(e[0].morphAttributes)),o={},s={},u=new r.BufferGeometry,l=0,c=0;c<e.length;++c){var f=e[c];if(n!==(null!==f.index))return null;for(var h in f.attributes){if(!i.has(h))return null;void 0===o[h]&&(o[h]=[]),o[h].push(f.attributes[h])}for(var h in f.morphAttributes){if(!a.has(h))return null;void 0===s[h]&&(s[h]=[]),s[h].push(f.morphAttributes[h])}if(u.userData.mergedUserData=u.userData.mergedUserData||[],u.userData.mergedUserData.push(f.userData),t){var d;if(n)d=f.index.count;else{if(void 0===f.attributes.position)return null;d=f.attributes.position.count}u.addGroup(l,d,c),l+=d}}if(n){var p=0,m=[];for(c=0;c<e.length;++c){for(var v=e[c].index,g=0;g<v.count;++g)m.push(v.getX(g)+p);p+=e[c].attributes.position.count}u.setIndex(m)}for(var h in o){var y=this.mergeBufferAttributes(o[h]);if(!y)return null;u.addAttribute(h,y)}for(var h in s){var b=s[h][0].length;if(0===b)break;u.morphAttributes=u.morphAttributes||{},u.morphAttributes[h]=[];for(c=0;c<b;++c){var x=[];for(g=0;g<s[h].length;++g)x.push(s[h][g][c]);var _=this.mergeBufferAttributes(x);if(!_)return null;u.morphAttributes[h].push(_)}}return u},mergeBufferAttributes:function(e){for(var t,n,i,a=0,o=0;o<e.length;++o){var s=e[o];if(s.isInterleavedBufferAttribute)return null;if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return null;if(void 0===n&&(n=s.itemSize),n!==s.itemSize)return null;if(void 0===i&&(i=s.normalized),i!==s.normalized)return null;a+=s.array.length}var u=new t(a),l=0;for(o=0;o<e.length;++o)u.set(e[o].array,l),l+=e[o].array.length;return new r.BufferAttribute(u,n,i)},interleaveAttributes:function(e){for(var t,n=0,i=0,a=0,o=e.length;a<o;++a){var s=e[a];if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.warn(\"AttributeBuffers of different types cannot be interleaved\"),null;n+=s.array.length,i+=s.itemSize}var u=new r.InterleavedBuffer(new t(n),i),l=0,c=[],f=[\"getX\",\"getY\",\"getZ\",\"getW\"],h=[\"setX\",\"setY\",\"setZ\",\"setW\"],d=0;for(o=e.length;d<o;d++){var p=(s=e[d]).itemSize,m=s.count,v=new r.InterleavedBufferAttribute(u,p,l,s.normalized);c.push(v),l+=p;for(var g=0;g<m;g++)for(var y=0;y<p;y++)v[h[y]](g,s[f[y]](g))}return c},estimateBytesUsed:function(e){var t=0;for(var n in e.attributes){var r=e.getAttribute(n);t+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var i=e.getIndex();return t+=i?i.count*i.itemSize*i.array.BYTES_PER_ELEMENT:0},mergeVertices:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;t=Math.max(t,Number.EPSILON);for(var n={},i=e.getIndex(),a=e.getAttribute(\"position\"),o=i?i.count:a.count,s=0,u=Object.keys(e.attributes),l={},c={},f=[],h=[\"getX\",\"getY\",\"getZ\",\"getW\"],d=0,p=u.length;d<p;d++){l[x=u[d]]=[],(M=e.morphAttributes[x])&&(c[x]=new Array(M.length).fill().map((function(){return[]})))}var m=Math.log10(1/t),v=Math.pow(10,m);for(d=0;d<o;d++){var g=i?i.getX(d):d,y=\"\",b=0;for(p=u.length;b<p;b++)for(var x=u[b],_=(E=e.getAttribute(x)).itemSize,w=0;w<_;w++)y+=~~(E[h[w]](g)*v)+\",\";if(y in n)f.push(n[y]);else{for(b=0,p=u.length;b<p;b++){x=u[b];var E=e.getAttribute(x),M=e.morphAttributes[x],S=(_=E.itemSize,l[x]),T=c[x];for(w=0;w<_;w++){var C=h[w];if(S.push(E[C](g)),M)for(var P=0,A=M.length;P<A;P++)T[P].push(M[P][C](g))}}n[y]=s,f.push(s),s++}}var k=e.clone();for(d=0,p=u.length;d<p;d++){x=u[d];var O=e.getAttribute(x),L=new O.array.constructor(l[x]);if(O.isInterleavedBufferAttribute?E=new r.BufferAttribute(L,O.itemSize,O.itemSize):(E=e.getAttribute(x).clone()).setArray(L),k.addAttribute(x,E),x in c)for(b=0;b<c[x].length;b++){var R=e.morphAttributes[x][b].clone();R.setArray(new R.array.constructor(c[x][b])),k.morphAttributes[x][b]=R}}var N=Uint8Array;f.length>=Math.pow(2,8)&&(N=Uint16Array),f.length>=Math.pow(2,16)&&(N=Uint32Array);var I=new N(f);f=null;return null===i?f=new r.BufferAttribute(I,1):(f=e.getIndex().clone()).setArray(I),k.setIndex(f),k}},t.default=r.BufferGeometryUtils},function(e,t,n){e.exports=function(e,t){\"use strict\";t=t&&t.hasOwnProperty(\"default\")?t.default:t;var n=new e.Vector3,r=new e.Vector3,i=new e.Vector3;return function(a){function o(n){void 0===n&&(n={});var r=n.material;void 0===r&&(r={});var i=n.maxFontSize;void 0===i&&(i=1/0);var o=n.minFontSize;void 0===o&&(o=0);var s=n.redrawInterval;void 0===s&&(s=1);var u=n.textSize;void 0===u&&(u=1);var l=n.texture;void 0===l&&(l={}),a.call(this,new e.SpriteMaterial(Object.assign({},r,{map:new t(l)}))),this.lastRedraw=0,this.maxFontSize=i,this.minFontSize=o,this.redrawInterval=s,this.textSize=u}a&&(o.__proto__=a),o.prototype=Object.create(a&&a.prototype),o.prototype.constructor=o;var s={isTextSprite:{configurable:!0}};return s.isTextSprite.get=function(){return!0},o.prototype.onBeforeRender=function(e,t,n){this.redraw(e,n)},o.prototype.updateScale=function(){this.scale.set(this.material.map.image.width/this.material.map.image.height,1,1).multiplyScalar(this.textSize*this.material.map.height)},o.prototype.updateMatrix=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.updateScale(),a.prototype.updateMatrix.apply(this,e)},o.prototype.redraw=function(e,t){var n=this;this.lastRedraw+this.redrawInterval<Date.now()&&(this.redrawInterval?setTimeout((function(){n.redrawNow(e,t)}),1):this.redrawNow(e,t))},o.prototype.redrawNow=function(t,a){this.updateScale(),this.material.map.fontSize=e.Math.clamp(e.Math.ceilPowerOfTwo(function(t,a,o){if(a.domElement.width&&a.domElement.height&&t.material.map.height){t.getWorldPosition(r),o.getWorldPosition(n);var s=r.distanceTo(n),u=2*Math.tan(e.Math.degToRad(o.fov)/2)*s;if(u){t.getWorldScale(i);var l=i.y*a.domElement.height/u;if(l)return Math.round(l/t.material.map.height)}}return 0}(this,t,a)),this.minFontSize,this.maxFontSize),this.lastRedraw=Date.now()},o.prototype.dispose=function(){this.material.map.dispose(),this.material.dispose()},Object.defineProperties(o.prototype,s),o}(e.Sprite)}(n(8),n(287))},function(e,t,n){e.exports=function(e){\"use strict\";function t(e,t,n,r,i){return[e,t,n,r+\"px\",i].join(\" \")}function n(e){return void 0===e}return function(r){function i(n){void 0===n&&(n={});var i=n.align;void 0===i&&(i=\"center\");var a=n.anisotropy,o=n.createCanvas;void 0===o&&(o=function(){return document.createElement(\"canvas\")});var s=n.fillStyle;void 0===s&&(s=\"#fff\");var u=n.fontFamily;void 0===u&&(u=\"sans-serif\");var l=n.fontSize;void 0===l&&(l=16);var c=n.fontStyle;void 0===c&&(c=\"normal\");var f=n.fontVariant;void 0===f&&(f=\"normal\");var h=n.fontWeight;void 0===h&&(h=\"normal\");var d=n.format,p=n.lineGap;void 0===p&&(p=.15);var m=n.loadFontFace;void 0===m&&(m=function(e,n,r,i){var a=t(n,r,i,1,e);return document.fonts.load(a)});var v=n.magFilter;void 0===v&&(v=e.LinearFilter);var g=n.mapping,y=n.minFilter;void 0===y&&(y=e.LinearFilter);var b=n.padding;void 0===b&&(b=.25);var x=n.strokeStyle;void 0===x&&(x=\"#000\");var _=n.strokeWidth;void 0===_&&(_=0);var w=n.text;void 0===w&&(w=\"\");var E,M,S=n.type,T=n.wrapS,C=n.wrapT;r.call(this,o(),g,T,C,v,y,d,S,a),this._align=i,this._fillStyle=s,this._fontFamily=u,this._fontSize=l,this._fontStyle=c,this._fontVariant=f,this._fontWeight=h,this._lineGap=p,this._padding=b,this._strokeStyle=x,this._strokeWidth=_,this._text=w,this.createCanvas=o,this.loadFontFace=m,this.redraw=(E=this.redrawNow,function(){for(var e=this,t=[],n=arguments.length;n--;)t[n]=arguments[n];return M||(M=new Promise((function(e){setTimeout(e,0)})).then((function(){return E.apply(e,t)})).finally((function(){M=void 0}))),M}),this.redrawNow()}r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i;var a={text:{configurable:!0},lines:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontWeight:{configurable:!0},fontVariant:{configurable:!0},fontStyle:{configurable:!0},font:{configurable:!0},fillStyle:{configurable:!0},strokeWidth:{configurable:!0},strokeWidthInPixels:{configurable:!0},strokeStyle:{configurable:!0},align:{configurable:!0},lineGap:{configurable:!0},lineGapInPixels:{configurable:!0},padding:{configurable:!0},paddingInPixels:{configurable:!0},textWidthInPixels:{configurable:!0},textHeight:{configurable:!0},textHeightInPixels:{configurable:!0},widthInPixels:{configurable:!0},height:{configurable:!0},heightInPixels:{configurable:!0}};return a.text.get=function(){return this._text},a.text.set=function(e){this._text!==e&&(this._text=e,this._lines=void 0,this._textWidthInPixels=void 0,this.redraw())},a.lines.get=function(){return n(this._lines)&&(this._lines=this.computeLines()),this._lines},i.prototype.computeLines=function(){var e=this.text;return e?e.split(\"\\n\"):[]},a.fontFamily.get=function(){return this._fontFamily},a.fontFamily.set=function(e){this._fontFamily!==e&&(this._fontFamily=e,this._textWidthInPixels=void 0,this.redraw())},a.fontSize.get=function(){return this._fontSize},a.fontSize.set=function(e){this._fontSize!==e&&(this._fontSize=e,this._textWidthInPixels=void 0,this.redraw())},a.fontWeight.get=function(){return this._fontWeight},a.fontWeight.set=function(e){this._fontWeight!==e&&(this._fontWeight=e,this._textWidthInPixels=void 0,this.redraw())},a.fontVariant.get=function(){return this._fontVariant},a.fontVariant.set=function(e){this._fontVariant!==e&&(this._fontVariant=e,this._textWidthInPixels=void 0,this.redraw())},a.fontStyle.get=function(){return this._fontStyle},a.fontStyle.set=function(e){this._fontStyle!==e&&(this._fontStyle=e,this._textWidthInPixels=void 0,this.redraw())},a.font.get=function(){return t(this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily)},a.fillStyle.get=function(){return this._fillStyle},a.fillStyle.set=function(e){this._fillStyle!==e&&(this._fillStyle=e,this.redraw())},a.strokeWidth.get=function(){return this._strokeWidth},a.strokeWidth.set=function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.redraw())},a.strokeWidthInPixels.get=function(){return this._strokeWidth*this.fontSize},a.strokeStyle.get=function(){return this._strokeStyle},a.strokeStyle.set=function(e){this._strokeStyle!==e&&(this._strokeStyle=e,this.redraw())},a.align.get=function(){return this._align},a.align.set=function(e){this._align!==e&&(this._align=e,this.redraw())},a.lineGap.get=function(){return this._lineGap},a.lineGap.set=function(e){this._lineGap!==e&&(this._lineGap=e,this.redraw())},a.lineGapInPixels.get=function(){return this.fontSize*this.lineGap},a.padding.get=function(){return this._padding},a.padding.set=function(e){this._padding!==e&&(this._padding=e,this.redraw())},a.paddingInPixels.get=function(){return this.padding*this.fontSize},a.textWidthInPixels.get=function(){return n(this._textWidthInPixels)&&(this._textWidthInPixels=this.computeTextWidthInPixels()),this._textWidthInPixels},i.prototype.computeTextWidthInPixels=function(){var e=this.createCanvas,t=this.font,n=this.lines;if(n.length){var r=e().getContext(\"2d\");return r.font=t,n.map((function(e){return r.measureText(e).width})).reduce((function(e,t){return Math.max(e,t)}))}return 0},a.textHeight.get=function(){var e=this.lineGap,t=this.lines;return t.length?t.length+e*(t.length-1):0},a.textHeightInPixels.get=function(){return this.textHeight*this.fontSize},a.widthInPixels.get=function(){return this.textWidthInPixels+this.strokeWidthInPixels+2*this.paddingInPixels},a.height.get=function(){return this.textHeight+this.strokeWidth+2*this.padding},a.heightInPixels.get=function(){return this.height*this.fontSize},i.prototype.redrawNow=function(){var e=this;return Promise.resolve().then((function(){return e.loadFontFace(e.fontFamily,e.fontStyle,e.fontVariant,e.fontWeight)})).then((function(){var t=e.image,n=t.getContext(\"2d\");if(n.clearRect(0,0,t.width,t.height),e.widthInPixels&&e.heightInPixels){var r;switch(t.width=e.widthInPixels,t.height=e.heightInPixels,n.font=e.font,n.textBaseline=\"middle\",e.align){case\"left\":n.textAlign=\"left\",r=e.paddingInPixels+e.strokeWidthInPixels/2;break;case\"right\":n.textAlign=\"right\",r=e.paddingInPixels+e.strokeWidthInPixels/2+e.textWidthInPixels;break;case\"center\":n.textAlign=\"center\",r=e.paddingInPixels+e.strokeWidthInPixels/2+e.textWidthInPixels/2}var i=e.paddingInPixels+e.strokeWidthInPixels/2+e.fontSize/2;n.fillStyle=e.fillStyle,n.miterLimit=1,n.lineWidth=e.strokeWidthInPixels,n.strokeStyle=e.strokeStyle,e.lines.forEach((function(t){e.strokeWidthInPixels&&n.strokeText(t,r,i),n.fillText(t,r,i),i+=e.fontSize+e.lineGapInPixels}))}else t.width=t.height=1;e.needsUpdate=!0}))},Object.defineProperties(i.prototype,a),i}(e.Texture)}(n(8))},function(e,t,n){\"use strict\";function r(e){return e&&\"object\"==typeof e&&\"default\"in e?e.default:e}Object.defineProperty(t,\"__esModule\",{value:!0});var i=r(n(289)),a=r(n(290)),o=r(n(291)),s=r(n(293)),u=r(n(294)),l=r(n(96)),c=r(n(296)),f=r(n(298)),h=r(n(0));r(n(3)),r(n(299));var d,p=(d=null,function(){if(null!==d)return d;var e,t,n,r=!1;try{window.addEventListener(\"test\",null,(e={},t=\"passive\",n={get:function(){r=!0}},Object.defineProperty(e,t,n)))}catch(e){}return d=r,r}()),m={capture:!1,passive:!1};function v(e){return f({},m,e)}function g(e,t,n){var r=[e,t];return r.push(p?n:n.capture),r}function y(e,t,n,r){e.addEventListener.apply(e,g(t,n,r))}function b(e,t,n,r){e.removeEventListener.apply(e,g(t,n,r))}function x(e,t){e.children,e.target;var n=c(e,[\"children\",\"target\"]);Object.keys(n).forEach((function(e){if(\"on\"===e.substring(0,2)){var r=n[e],i=l(r),a=\"object\"===i;if(a||\"function\"===i){var o=\"capture\"===e.substr(-7).toLowerCase(),s=e.substring(2).toLowerCase();s=o?s.substring(0,s.length-7):s,a?t(s,r.handler,r.options):t(s,r,v({capture:o}))}}}))}var _=function(e){function t(){return i(this,t),o(this,s(t).apply(this,arguments))}return u(t,e),a(t,[{key:\"componentDidMount\",value:function(){this.applyListeners(y)}},{key:\"componentDidUpdate\",value:function(e){this.applyListeners(b,e),this.applyListeners(y)}},{key:\"componentWillUnmount\",value:function(){this.applyListeners(b)}},{key:\"applyListeners\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,n=t.target;if(n){var r=n;\"string\"==typeof n&&(r=window[n]),x(t,e.bind(null,r))}}},{key:\"render\",value:function(){return this.props.children||null}}]),t}(h.PureComponent);_.propTypes={},t.withOptions=function(e,t){return{handler:e,options:v(t)}},t.default=_},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(96),i=n(292);e.exports=function(e,t){return!t||\"object\"!==r(t)&&\"function\"!=typeof t?i(e):t}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(295);e.exports=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t,n){var r=n(297);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){\"use strict\";var r=function(){};e.exports=r},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),a=l(n(301)),o=l(n(305)),s=l(n(101)),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(26)),l(n(17)));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={queryMode:u.default.getMode(),menu:\"Visualization\"},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillMount\",value:function(){var e=this;u.default.on(\"switchQueryMode\",(function(t){setTimeout((function(){return e.setState({queryMode:t})})),\"QBE\"===t?$(\"#extractionResults\").css({width:\"40%\"}):$(\"#extractionResults\").css({width:\"70%\"})}))}},{key:\"render\",value:function(){return i.default.createElement(\"div\",{className:\"contents\",id:\"mainFeatureArea\"},i.default.createElement(a.default,null),i.default.createElement(\"div\",{id:\"QBESource\",className:\"controllersElem\",style:{float:\"left\",width:\"30%\",height:\"100vh\",display:\"QBE\"===this.state.queryMode?\"block\":\"none\"}},i.default.createElement(s.default,null)),i.default.createElement(o.default,null))}}]),t}(i.default.Component);t.default=c},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(0)),a=c(n(302)),o=c(n(304)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(26)),u=(c(n(101)),c(n(4))),l=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={queryMode:l.default.getMode()},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillMount\",value:function(){var e=this;l.default.on(\"switchQueryMode\",(function(t){e.setState({queryMode:t})}))}},{key:\"selectTab\",value:function(){s.switchQueryMode(\"AE\")}},{key:\"render\",value:function(){var e=u.default.getAllIdsFileNames().map((function(e){return i.default.createElement(\"label\",{className:\"form-check form-check-inline\",htmlFor:\"inlineCheckbox1\",key:e.id},i.default.createElement(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"checkboxTarget\"+e.id,value:e.id,key:e.id}),e.name)}));return i.default.createElement(\"div\",{id:\"extractionMenu\"},i.default.createElement(\"div\",{id:\"extractionMainMenu\"},i.default.createElement(\"div\",{id:\"targetDatasetsList\",className:\"controllersElem\"},i.default.createElement(\"h5\",null,\"Target datasets\"),e),i.default.createElement(\"ul\",{className:\"nav nav-tabs\"},i.default.createElement(\"li\",{className:\"nav-item\"},i.default.createElement(\"a\",{className:\"nav-link active\",\"data-toggle\":\"tab\",href:\"#automaticExtraction\",onClick:this.selectTab},\"Automatic Extraction\")),i.default.createElement(\"li\",{className:\"nav-item\"},i.default.createElement(\"a\",{className:\"nav-link\",\"data-toggle\":\"tab\",href:\"#visualQuery\"},\"Visual Query\"))),i.default.createElement(\"div\",{id:\"extractionMenuTabs\",className:\"tab-content\"},i.default.createElement(\"div\",{className:\"tab-pane fade show active\",id:\"automaticExtraction\"},i.default.createElement(o.default,null)),i.default.createElement(\"div\",{className:\"tab-pane fade\",id:\"visualQuery\"},i.default.createElement(a.default,null)))))}}]),t}(i.default.Component);t.default=f},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(0)),a=(l(n(8)),l(n(26))),o=c(n(4)),s=c(n(17)),u=c(n(303));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={visualQuery:!1,dragSelection:!0,queryMode:s.default.getMode(),QBESource:\"SP\",selector:!0,source:-1,selectedInterval:[]},e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"componentWillMount\",value:function(){var e=this;s.default.on(\"updateSelectedTimeSlice\",(function(){e.setState({selectedInterval:s.default.getSelectedInterval()}),e.updateSelectedInterval()})),s.default.on(\"updateSource\",(function(){e.setState({source:s.default.getSource()})})),s.default.on(\"switchQueryMode\",(function(t){e.setState({queryMode:t})})),s.default.on(\"updateSelectedPeriod\",(function(){e.updateSelectedInterval()}))}},{key:\"switchSelector\",value:function(){this.setState({selector:!this.state.selector}),a.switchSelector()}},{key:\"switchDragSelection\",value:function(){this.setState({dragSelection:!this.state.dragSelection}),a.switchDragSelection()}},{key:\"switchQueryMode\",value:function(e){var t=$(\"input[name=queryMode]:checked\").val();a.switchQueryMode(t)}},{key:\"switchQBESource\",value:function(){var e=\"\";\"SP\"===this.state.QBESource?e=\"TT\":\"TT\"===this.state.QBESource&&(e=\"SP\"),this.setState({QBESource:e})}},{key:\"resetSelection\",value:function(){a.resetSelection()}},{key:\"selectTimeInterval\",value:function(){var e=$(\"#selectTimeIntervalInput\").val();isNaN(e)||\"\"==e||a.selectTimeInterval(this.state.source,e)}},{key:\"updateSource\",value:function(){var e=document.getElementById(\"sourceList\"),t=e.selectedIndex,n=e.options[t].value;a.updateSource(n)}},{key:\"updateTarget\",value:function(){}},{key:\"updateSelectedInterval\",value:function(){var e=s.default.getSelectedPeriod();this.setState({selectedInterval:e}),$(\"#selectedInterval\").text(\"JD: \"+e[0]+\" - \"+e[1])}},{key:\"showSelectedTube\",value:function(){}},{key:\"extractionSource\",value:function(){var e=o.default.getAllIdsFileNames().map((function(e){return i.default.createElement(\"option\",{value:e.id,key:e.id},e.name)}));return e.unshift(i.default.createElement(\"option\",{value:\"default\",key:\"default\"},\"Select a source of the visual query\")),i.default.createElement(\"div\",{className:\"featureElem\"},i.default.createElement(\"h5\",null,\"Source\"),i.default.createElement(\"select\",{className:\"custom-select custom-select-sm\",id:\"sourceList\",onChange:this.updateSource.bind(this)},e))}},{key:\"queryModes\",value:function(){return i.default.createElement(\"div\",{className:\"featureElem\"},i.default.createElement(\"h5\",null,\"Query mode\"),i.default.createElement(\"form\",{id:\"queryMode\",onChange:this.switchQueryMode.bind(this)},i.default.createElement(\"div\",{className:\"form-check form-check-inline\"},i.default.createElement(\"input\",{type:\"radio\",name:\"queryMode\",value:\"QBE\",checked:\"QBE\"===this.state.queryMode}),i.default.createElement(\"label\",{className:\"form-check-label\",htmlFor:\"QBE\"},\"Query-by-example\")),i.default.createElement(\"div\",{className:\"form-check form-check-inline\"},i.default.createElement(\"input\",{type:\"radio\",name:\"queryMode\",value:\"QBS\",checked:\"QBS\"===this.state.queryMode}),i.default.createElement(\"label\",{className:\"form-check-label\",htmlFor:\"QBS\"},\"Query-by-sketch\"))))}},{key:\"QBESelection\",value:function(){return i.default.createElement(\"div\",{className:\"featureElem\"},i.default.createElement(\"h5\",null,\"Selection\"),i.default.createElement(\"form\",{id:\"selector featureRow\",onChange:this.switchSelector.bind(this)},i.default.createElement(\"div\",{className:\"form-check form-check-inline\"},i.default.createElement(\"input\",{type:\"radio\",name:\"selector\",value:\"select\",checked:this.state.selector}),i.default.createElement(\"label\",{className:\"form-check-label\",htmlFor:\"pen\"},\"Select\")),i.default.createElement(\"div\",{className:\"form-check form-check-inline\"},i.default.createElement(\"input\",{type:\"radio\",name:\"selector\",value:\"Deselect\",checked:!this.state.selector}),i.default.createElement(\"label\",{className:\"form-check-label\",htmlFor:\"eraser\"},\"Deselect\"))),i.default.createElement(\"div\",{id:\"selectTimeInterval\",className:\"form-row featureRow\"},i.default.createElement(\"div\",{className:\"input-group input-group-sm\",style:{width:\"10rem\",marginRight:\"1.5rem\"}},i.default.createElement(\"span\",{style:{marginRight:\"0.3rem\"}},\"Select\"),i.default.createElement(\"input\",{type:\"text\",className:\"form-control custom-input\",id:\"selectTimeIntervalInput\"}),i.default.createElement(\"span\",{style:{marginLeft:\"0.3rem\"}},\"days\")),i.default.createElement(\"button\",{className:\"btn btn-secondary btn-sm\",type:\"button\",id:\"selectTimeIntervalBtn\",style:{right:\"0\"},onClick:this.selectTimeInterval.bind(this)},\"Select\")),i.default.createElement(\"button\",{id:\"resetSelectionBtn\",className:\"btn btn-secondary btn-sm featureRow\",onClick:this.resetSelection.bind(this)},\"Deselect all\"),i.default.createElement(\"h6\",null,\"Options\"),i.default.createElement(\"div\",{className:\"form-check form-check-inline\"},i.default.createElement(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"checkboxDragTube\",value:\"option1\",checked:this.state.dragSelection,onChange:this.switchDragSelection.bind(this)}),i.default.createElement(\"label\",{className:\"form-check-label\",htmlFor:\"inlineCheckbox1\"},\"Selection by drag\")))}},{key:\"selectionDetail\",value:function(){var e=void 0;return this.state.source>=0&&(e=i.default.createElement(u.default,{sourceId:this.state.source})),i.default.createElement(\"div\",{className:\"featureElem\"},i.default.createElement(\"h5\",null,\"Selection Detail\"),i.default.createElement(\"span\",{id:\"selectedInterval\"}),i.default.createElement(\"div\",{id:\"selectedIntervalViewArea\"},e))}},{key:\"render\",value:function(){var e=void 0;return\"QBE\"===this.state.queryMode?e=this.QBESelection():this.state.queryMode,i.default.createElement(\"div\",{id:\"featureArea\",className:\"controllersElem\"},this.extractionSource(),this.queryModes(),e,this.selectionDetail())}}]),t}(i.default.Component);t.default=f},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(0)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(8)),o=c(n(4)),s=c(n(13)),u=c(n(17)),l=c(n(95));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.sourceId=e.sourceId,n.selectedPeriod=u.default.getSelectedPeriod(),n.data=o.default.getData(n.sourceId),n.texture=s.default.getTexture(),n.segment=s.default.getSegment(),n.division=s.default.getDivision(),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:\"render\",value:function(){var e=this,t=$(\"#selectedIntervalViewArea\").width(),n=t;return i.default.createElement(\"div\",{className:\"TimeTubes\",id:\"selectedTimeSliceView\",style:{width:t+\"px\",height:n+\"px\"},ref:function(t){e.mount=t}})}},{key:\"componentWillMount\",value:function(){var e=this;s.default.on(\"switch\",(function(){e.camera&&e.switchCamera()})),u.default.on(\"resetSelection\",(function(){e.deselectAll()})),u.default.on(\"updateSelectedPeriod\",(function(){e.selectedPeriod=u.default.getSelectedPeriod(),e.updateTimePeriod()})),u.default.on(\"selectPeriodfromSP\",(function(t){e.selectedPeriod=u.default.getSelectedPeriod(),e.updateTimePeriod()})),u.default.on(\"selectTimeInterval\",(function(t,n){e.selectedPeriod=u.default.getSelectedPeriod(),e.updateTimePeriod()}))}},{key:\"componentWillUnmount\",value:function(){this.stop(),this.mount.removeChild(this.renderer.domElement)}},{key:\"componentDidMount\",value:function(){if(this.sourceId>=0){var e=this.mount.clientWidth,t=this.mount.clientHeight;this.scene=new a.Scene,this.setCameras(),this.renderer=new a.WebGLRenderer({antialias:!0}),this.renderer.setClearColor(\"#000000\"),this.renderer.setSize(e,t),this.renderer.domElement.id=\"selectedTimeSliceView\",this.mount.appendChild(this.renderer.domElement),this.renderScene(),this.start();var n=new a.DirectionalLight(16777215,.7);n.position.set(-20,40,60),this.scene.add(n);var r=new a.AmbientLight(2697513);this.scene.add(r),this.addControls(),this.setPlaceHolder();var i=new a.AxesHelper(1e3);this.scene.add(i)}}},{key:\"start\",value:function(){this.frameId||(this.frameId=requestAnimationFrame(this.animate.bind(this)))}},{key:\"stop\",value:function(){cancelAnimationFrame(this.frameId)}},{key:\"animate\",value:function(){this.renderScene(),this.frameId=window.requestAnimationFrame(this.animate.bind(this))}},{key:\"renderScene\",value:function(){this.renderer&&this.renderer.render(this.scene,this.camera)}},{key:\"setCameras\",value:function(){var e=s.default.getCameraProp(this.sourceId);this.cameraSet={},this.cameraSet.perspective=new a.PerspectiveCamera(e.fov,1,.1,e.far);var t=50*e.depth,n=50*e.depth*1;this.cameraSet.orthographic=new a.OrthographicCamera(-n/2,n/2,t/2,-t/2,.1,e.far),\"Perspective\"===e.type?this.camera=this.cameraSet.perspective:this.camera=this.cameraSet.orthographic,this.camera.position.z=50,this.camera.lookAt(-this.scene.position)}},{key:\"setPlaceHolder\",value:function(){var e=s.default.getTexture(this.sourceId),t=new Float32Array(0),n=new Float32Array(0),r=new Float32Array(0),i=new Float32Array(0),o=new Uint32Array(0),u=new a.BufferGeometry;u.addAttribute(\"position\",new a.BufferAttribute(new Float32Array(t),3)),u.addAttribute(\"normal\",new a.BufferAttribute(r,3)),u.addAttribute(\"colorData\",new a.BufferAttribute(new Float32Array(n),2)),u.addAttribute(\"selected\",new a.BufferAttribute(new Float32Array(i),1)),u.setIndex(new a.BufferAttribute(new Uint32Array(o),1)),u.computeVertexNormals();var l=new a.ShaderMaterial({vertexShader:document.getElementById(\"vertexShader_tube\").textContent,fragmentShader:document.getElementById(\"fragmentShader_tube\").textContent,uniforms:{lightPosition:{value:new a.Vector3(-20,40,60)},tubeNum:{value:1},shade:{value:!1},texture:{value:e},minmaxH:{value:new a.Vector2(this.data.data.meta.min.H,this.data.data.meta.max.H)},minmaxV:{value:new a.Vector2(this.data.data.meta.min.V,this.data.data.meta.max.V)}},side:a.DoubleSide,transparent:!0});this.tube=new a.Mesh(u,l),this.tube.rotateY(Math.PI),this.scene.add(this.tube)}},{key:\"switchCamera\",value:function(){var e=this.camera.position,t=s.default.getCameraProp(this.sourceId);\"Perspective\"===t.type?(this.camera=this.cameraSet.perspective,this.camera.position.x=e.x,this.camera.position.y=e.y,this.camera.position.z=e.z,this.camera.lookAt(this.scene.position)):\"Orthographic\"===t.type&&(this.camera=this.cameraSet.orthographic,this.camera.position.x=e.x,this.camera.position.y=e.y,this.camera.position.z=e.z,this.camera.lookAt(this.scene.position)),this.addControls()}},{key:\"addControls\",value:function(){this.controls=new l.default(this.camera,this.renderer.domElement),this.controls.position0.set(0,0,50),this.controls.screenSpacePanning=!1,this.controls.enableZoom=!1}},{key:\"drawSelectedTube\",value:function(e,t,n){this.tube.geometry.attributes.position.needsUpdate=!0,this.tube.geometry.attributes.normal.needsUpdate=!0,this.tube.geometry.attributes.colorData.needsUpdate=!0,this.tube.geometry.attributes.selected.needsUpdate=!0,this.tube.geometry.index.needsUpdate=!0,this.tube.geometry.attributes.position=new a.BufferAttribute(new Float32Array(e),3),this.tube.geometry.attributes.colorData=new a.BufferAttribute(new Float32Array(t),3),this.tube.geometry.attributes.selected=new a.BufferAttribute(new Float32Array(e.length/3),1),this.tube.geometry.attributes.normal=new a.BufferAttribute(new Float32Array(e.length),1),this.tube.geometry.index=new a.BufferAttribute(new Uint32Array(n),1),this.tube.geometry.computeVertexNormals(),this.renderer.render(this.scene,this.camera)}},{key:\"deselectAll\",value:function(){this.tube.geometry.attributes.position.needsUpdate=!0,this.tube.geometry.attributes.normal.needsUpdate=!0,this.tube.geometry.attributes.colorData.needsUpdate=!0,this.tube.geometry.attributes.selected.needsUpdate=!0,this.tube.geometry.index.needsUpdate=!0,this.tube.geometry.attributes.position=new a.BufferAttribute(new Float32Array(0),3),this.tube.geometry.attributes.colorData=new a.BufferAttribute(new Float32Array(0),2),this.tube.geometry.attributes.selected=new a.BufferAttribute(new Float32Array(0),1),this.tube.geometry.attributes.normal=new a.BufferAttribute(new Float32Array(0),1),this.tube.geometry.index=new a.BufferAttribute(new Uint32Array(0),1),this.tube.geometry.computeVertexNormals(),this.renderer.render(this.scene,this.camera)}},{key:\"updateTimePeriod\",value:function(){for(var e=u.default.getTubeAttributes(Number(this.sourceId)),t=Math.ceil(this.selectedPeriod[0]-this.data.data.meta.min.z)*this.division*this.segment,n=Math.ceil(this.selectedPeriod[1]-this.data.data.meta.min.z)*this.division*this.segment,r=e.position.slice(3*t,3*n),i=e.color.slice(3*t,3*n),a=r[2],o=0;o<r.length/3;o++)r[3*o+2]-=a,i[3*o+2]=1;this.drawSelectedTube(r,i,e.indices.slice(0,((n-t)/this.segment-1)*(this.segment-1)*3*2))}}]),t}(i.default.Component);t.default=f},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=(r=a)&&r.__esModule?r:{default:r};var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:\"render\",value:function(){return o.default.createElement(\"div\",null,\"Automatic extraction of anomaly, flares, and rotations\")}}]),t}(o.default.Component);t.default=s},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),o=(r=a)&&r.__esModule?r:{default:r};var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:\"render\",value:function(){return o.default.createElement(\"div\",{id:\"extractionResults\"},\"Results of feature extraction will be shown here\")}}]),t}(o.default.Component);t.default=s},function(e,t,n){\"use strict\";$((function(){var e=$(\"#farSliderVal\");$(\"#farSlider\").slider({range:\"min\",value:0,min:1,max:100,slide:function(t,n){e.css(\"display\",\"initial\"),e.val(n.value);var r=$(\"#farSlider\").slider(\"option\",\"min\"),i=$(\"#farSlider\").slider(\"option\",\"max\")-r,a=$(\"#farSlider\").width()*(n.value-r)/i-10;e.css(\"left\",a+\"px\")},stop:function(){e.css(\"display\",\"none\")}}),$(\"#farSliderVal\").val($(\"#farSlider\").slider(\"value\"))})),$((function(){var e=$(\"#color_value\"),t=$(\"#color_value_min\"),n=$(\"#color_value_max\");e.slider({range:!0,min:0,max:100,values:[0,100],orientation:\"vertical\",slide:function(r,i){t.css(\"display\",\"initial\"),n.css(\"display\",\"initial\"),t.val(i.values[0]),n.val(i.values[1]);var a=e.slider(\"option\",\"min\"),o=e.slider(\"option\",\"max\")-a,s=150*(i.values[0]-a)/o-10,u=140-150*(i.values[1]-a)/o;if(t.css(\"bottom\",s+\"px\"),n.css(\"top\",u+\"px\"),0!==blazarData[currentIdx].length){var l=blazarMax[currentIdx][\"Flx(V)\"]-blazarMin[currentIdx][\"Flx(V)\"];timetubes[currentIdx].tube.material.uniforms.minmaxFlx.value=new THREE.Vector2(i.values[0]/100*l+blazarMin[currentIdx][\"Flx(V)\"],i.values[1]/100*l+blazarMin[currentIdx][\"Flx(V)\"])}},stop:function(){t.css(\"display\",\"none\"),n.css(\"display\",\"none\")}}),t.val(e.slider(\"values\",0)),n.val(e.slider(\"values\",1))})),$((function(){var e=$(\"#color_hue\"),t=$(\"#color_hue_min\"),n=$(\"#color_hue_max\");e.slider({range:!0,min:0,max:100,values:[0,100],slide:function(e,r){t.css(\"display\",\"initial\"),n.css(\"display\",\"initial\"),t.val(r.values[0]),n.val(r.values[1]);var i=150*r.values[0]/100-35,a=130-150*r.values[1]/100;if(t.css(\"left\",i+\"px\"),n.css(\"right\",a+\"px\"),0!==blazarData[currentIdx].length){var o=blazarMax[currentIdx][\"V-J\"]-blazarMin[currentIdx][\"V-J\"];timetubes[currentIdx].tube.material.uniforms.minmaxVJ.value=new THREE.Vector2(r.values[0]/100*o+blazarMin[currentIdx][\"V-J\"],r.values[1]/100*o+blazarMin[currentIdx][\"V-J\"])}},stop:function(){t.css(\"display\",\"none\"),n.css(\"display\",\"none\")}}),t.val(e.slider(\"values\",0)),n.val(e.slider(\"values\",1))}))}]);","extractedComments":[]}